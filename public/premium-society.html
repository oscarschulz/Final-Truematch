<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>iTrueMatch ‚Äî Premium Society</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"></script>

  <link rel="stylesheet" href="premium-society.css" />
</head>

<body class="ps-theme">
  
  <div id="app-loader">
      <img src="assets/images/truematch-mark.png" class="loader-logo" alt="Loading..." onerror="this.style.display='none'">
      <div class="loader-text">iTrueMatch</div>
  </div>

  <canvas id="ps-bg-canvas"></canvas>

  <div class="ps-layout" id="psMainLayout">
    
    <aside class="ps-sidebar ps-animate-enter ps-delay-1" id="psMainSidebar">
      <div>
        <a class="ps-brand" href="#">
          <img src="assets/images/truematch-mark.png" class="ps-brand-img" alt="Logo" onerror="this.src='https://via.placeholder.com/40'">
          <span class="ps-brand-name">iTrueMatch</span>
        </a>

        <div class="ps-nav-label">DISCOVER</div>
        <nav class="ps-nav-links" id="psTabbar">
          <button class="ps-nav-btn ps-is-active" data-panel="home"><i class="fa-solid fa-house"></i> <span>Home</span></button>
          <button class="ps-nav-btn" data-panel="swipe"><i class="fa-solid fa-layer-group"></i> <span>Swipe</span></button>
          <button class="ps-nav-btn" data-panel="matches"><i class="fa-solid fa-comments"></i> <span>Matches</span></button>
          <button class="ps-nav-btn" data-panel="creators"><i class="fa-solid fa-fire"></i> <span>Creators</span></button>
        </nav>

        <div class="ps-nav-label" style="margin-top: 25px;">ACCOUNT</div>
        <nav class="ps-nav-links">
          <button class="ps-nav-btn" data-panel="premium"><i class="fa-solid fa-gem"></i> <span>Premium</span></button>
          <button class="ps-nav-btn" data-panel="settings"><i class="fa-solid fa-gear"></i> <span>Settings</span></button>
        </nav>
      </div>

      <div class="ps-sidebar-footer">
        <div id="psUserMenuPopup" class="ps-user-menu-popup"></div>
        <div class="ps-mini-profile">
            <div style="position:relative;">
                <img id="psMiniAvatar" src="assets/images/truematch-mark.png" alt="User" onerror="this.src='https://via.placeholder.com/40'">
                <div class="ps-online-status"></div>
            </div>
            <div class="ps-mini-info">
                <span class="ps-mini-name" id="psMiniName">Loading...</span>
                <span class="ps-mini-plan" id="psMiniPlan">Free Account</span>
            </div>
            <i class="fa-solid fa-ellipsis" style="color:#666; font-size: 1.2rem;"></i>
        </div>
      </div>
    </aside>

    <main class="ps-main-feed ps-animate-enter ps-delay-2">
      <section class="ps-panel ps-is-active" data-panel="home" id="ps-panel-home">
        <div class="ps-profile-header ps-glass-card">
            <div class="ps-header-left">
                <img id="psHeaderAvatar" src="assets/images/truematch-mark.png" class="ps-header-avatar">
                <div class="ps-header-info">
                    <h2 class="ps-header-name">Hi, <span id="psWelcomeName">...</span>!</h2>
                    <span class="ps-header-status"><span class="ps-dot-green"></span> Active Now</span>
                </div>
            </div>
            <div class="ps-header-right-group" style="position:relative;">
                <button id="psBtnNotif" class="ps-btn-notif">
                    <i class="fa-solid fa-bell"></i>
                    <span class="ps-notif-badge" id="psNotifCount">0</span>
                </button>
                <div id="psNotifPopover" class="ps-notif-popover">
                    <div class="ps-popover-header">
                        <h4>Notifications</h4>
                        <button class="ps-btn-text">Mark all read</button>
                    </div>
                    <div class="ps-notif-list">
                        <div class="ps-notif-item unread">
                            <div class="ps-notif-icon color-blue"><i class="fa-solid fa-user-plus"></i></div>
                            <div class="ps-notif-text">
                                <p><strong>New Match!</strong><br>You matched with Alexandra.</p>
                                <span>2 mins ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="ps-moments-rail-section">
            <div style="font-size: 0.8rem; color: #888; font-weight: 700; margin-bottom: 10px; padding-left: 5px;">Recent Moments</div>
            <div class="ps-moments-wrapper">
                <div class="ps-stories-scroll" id="psStoriesContainer">
                    <div class="ps-story-item" onclick="openAddStory()">
                        <div class="ps-story-ring" style="border-color: #444; border-style: dashed; padding: 3px;">
                            <div style="width:100%; height:100%; background:rgba(255,255,255,0.1); border-radius:50%; display:flex; align-items:center; justify-content:center;">
                                <i class="fa-solid fa-plus" style="color:#00aff0; font-size:1.2rem;"></i>
                            </div>
                        </div>
                        <span class="ps-story-name">Add Story</span>
                    </div>
                </div>
            </div>
        </div>
        <div id="psDailyPickContainer" class="ps-hero-container" style="margin-bottom: 25px;"></div>
        <div class="ps-admirer-section">
            <h3 class="ps-section-title">Who Liked You <span class="ps-badge" id="psAdmirerCount">0 New</span></h3>
            <div class="ps-admirer-grid" id="psAdmirerContainer"></div>
        </div>
      </section>

      <section class="ps-panel" data-panel="swipe">
        <div class="ps-swipe-layout">
          <div class="ps-swipe-stack swipe-stack" id="psSwipeStack"></div>
          <div class="ps-swipe-controls swipe-controls" id="psSwipeControls">
            <button id="psBtnSwipePass" class="ps-btn-round ps-btn-pass"><i class="fa-solid fa-xmark"></i></button>
            <button id="psBtnSwipeSuper" class="ps-btn-round ps-btn-super"><i class="fa-solid fa-star"></i></button>
            <button id="psBtnSwipeLike" class="ps-btn-round ps-btn-like"><i class="fa-solid fa-heart"></i></button>
          </div>
          <div class="ps-refresh-popover swipe-empty" id="psRefreshPopover">
            <div class="ps-popover-content">
              <span class="ps-emoji-lg">‚ú®</span>
              <h4>Nothing to swipe for now</h4>
              <button class="ps-btn-refresh" id="psBtnRefreshDeck">Refresh</button>
            </div>
          </div>
        </div>
      </section>

      <section class="ps-panel" data-panel="matches">
        <div class="ps-matches-container">
            <div class="ps-search-bar-wrapper">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" class="ps-input-search" placeholder="Search matches...">
            </div>
            <div style="margin-bottom: 25px;">
                <h3 class="ps-section-title" style="color:#ffd700;">New Matches <span class="ps-badge ps-bg-gold" id="psNewMatchCount">0</span></h3>
                <div class="ps-new-matches-rail" id="psNewMatchesRail"></div>
            </div>
            <h3 class="ps-section-title">Messages</h3>
            <div class="ps-messages-list" id="psMatchesContainer"></div>
        </div>
        <div id="psChatWindow" class="ps-chat-window">
            <div class="ps-chat-header">
                <button class="ps-btn-icon-sm" id="psBtnCloseChat"><i class="fa-solid fa-chevron-left"></i></button>
                <div class="ps-chat-user-info">
                    <img id="psChatAvatar" src="assets/images/truematch-mark.png" class="ps-chat-avatar-img">
                    <div>
                        <h4 id="psChatName">User</h4>
                        <span class="ps-chat-status">Active now</span>
                    </div>
                </div>
            </div>
            <div class="ps-chat-body" id="psChatBody"></div>
            <emoji-picker id="psEmojiPicker" class="dark"></emoji-picker>
            <div class="ps-chat-footer">
                <button class="ps-btn-chat-tool ps-btn-ppv" onclick="if(document.getElementById('psGiftModal')) document.getElementById('psGiftModal').classList.add('active')">
                    <i class="fa-solid fa-gift"></i>
                </button>
                <div class="ps-chat-input-wrapper">
                    <input type="text" id="psChatInput" placeholder="Type a message...">
                    <button id="psBtnToggleEmoji" class="ps-btn-chat-emoji">
                        <i class="fa-regular fa-face-smile"></i>
                    </button>
                </div>
                <button class="ps-btn-chat-send" onclick="sendChatMessage()"><i class="fa-solid fa-paper-plane"></i></button>
            </div>
        </div>
      </section>

      <section class="ps-panel" data-panel="creators" id="ps-panel-creators"></section>
      <section class="ps-panel" data-panel="premium" id="ps-panel-premium"></section>

      <section class="ps-panel" data-panel="settings" id="ps-panel-settings">
          <div class="ps-settings-dashboard">
              <div class="ps-bento-card ps-profile-bento">
                  <div class="ps-bento-profile-info">
                      <div class="ps-avatar-ring">
                        <img id="psSAvatar" src="assets/images/truematch-mark.png">
                      </div>
                      <div class="ps-bento-text">
                          <h3 id="psSNameDisplay">Member</h3>
                          <p id="psSEmailDisplay">user@example.com</p>
                          <span class="ps-badge-outline" id="psSPlanBadge">Free Account</span>
                      </div>
                  </div>
                  <button class="ps-btn-edit-layout" id="psBtnEditProfile">Edit Profile <i class="fa-solid fa-pen"></i></button>
              </div>

              <div class="ps-settings-grid-row">
                  <div class="ps-bento-card ps-card-tall">
                      <div class="ps-card-header-split">
                          <div class="ps-icon-box blue-glow"><i class="fa-solid fa-location-dot"></i></div>
                          <span class="ps-header-label">Discovery</span>
                      </div>
                      <div class="ps-slider-group">
                          <div class="ps-slider-label"><span>Distance: <span id="psDistVal">15</span> km</span></div>
                          <input type="range" id="psRangeDist" class="ps-range-blue" min="1" max="100" value="15">
                      </div>
                      <div class="ps-slider-group">
                          <div class="ps-slider-label"><span>Max Age: <span id="psAgeVal">26</span></span></div>
                          <input type="range" id="psRangeAge" class="ps-range-blue" min="18" max="60" value="26">
                      </div>
                  </div>
                  <div class="ps-bento-card ps-card-tall">
                      <div class="ps-card-header-split">
                          <div class="ps-icon-box pink-glow"><i class="fa-solid fa-bell"></i></div>
                          <span class="ps-header-label">Notifications</span>
                      </div>
                      <div class="ps-toggle-row">
                          <span>Matches</span>
                          <label class="ps-switch-cyan"><input type="checkbox" checked><span class="slider"></span></label>
                      </div>
                      <div class="ps-toggle-row">
                          <span>Messages</span>
                          <label class="ps-switch-cyan"><input type="checkbox" checked><span class="slider"></span></label>
                      </div>
                  </div>
              </div>

              <details class="ps-settings-dropdown" open>
                  <summary>
                      <div class="ps-dropdown-title"><i class="fa-solid fa-sliders"></i> App Preferences</div>
                      <i class="fa-solid fa-chevron-down ps-chevron"></i>
                  </summary>
                  <div class="ps-dropdown-content">
                      <div class="ps-legal-row">
                          <span>Sound Effects</span> 
                          <label class="ps-switch-mini"><input type="checkbox" checked><span class="slider"></span></label>
                      </div>
                      <div class="ps-legal-row">
                          <span>Haptic Feedback</span> 
                          <label class="ps-switch-mini"><input type="checkbox"><span class="slider"></span></label>
                      </div>
                      <div class="ps-legal-row" onclick="clearAppCache()" style="color: #8899a6;">
                          <span>Clear Media Cache</span> <i class="fa-solid fa-trash-can"></i>
                      </div>
                  </div>
              </details>

              <details class="ps-settings-dropdown" open>
                  <summary>
                      <div class="ps-dropdown-title"><i class="fa-solid fa-circle-question"></i> Help & Support</div>
                      <i class="fa-solid fa-chevron-down ps-chevron"></i>
                  </summary>
                  <div class="ps-dropdown-content">
                      <div class="ps-legal-row" onclick="openSafetyTips()">
                          <span>Dating & Creator Safety</span> <i class="fa-solid fa-shield-halved"></i>
                      </div>
                      <div class="ps-legal-row" onclick="openPremiumInfo()">
                          <span>Subscriptions & Diamonds</span> <i class="fa-solid fa-gem"></i>
                      </div>
                      <div class="ps-legal-row" onclick="openContactSupport()">
                          <span>Contact Support</span> <i class="fa-solid fa-headset"></i>
                      </div>
                  </div>
              </details>
          </div>
      </section>
    </main>

    <aside class="ps-right-sidebar ps-animate-enter ps-delay-3">
      <div class="ps-search-box">
        <i class="fa-solid fa-magnifying-glass"></i>
        <input type="text" placeholder="Search..." class="ps-search-input" />
      </div>
      <div class="ps-glass-card">
        <div class="ps-card-header-flex"><h3>Daily Swipes</h3></div>
        <div class="ps-stats-body">
            <div class="ps-progress-ring">
                <svg width="120" height="120">
                    <circle class="ps-bg-ring" cx="60" cy="60" r="50"></circle>
                    <circle class="ps-fg-ring" id="psStatsRingCircle" cx="60" cy="60" r="50"></circle>
                </svg>
                <div class="ps-progress-text"><h2 id="psStatsCountDisplay">0</h2><span>LEFT</span></div>
            </div>
            <p class="ps-tiny ps-muted" style="margin-top:10px; text-align:center;">Resets in 6h 25m 19s</p>
        </div>
      </div>
      <div class="ps-glass-card">
        <div class="ps-card-header-flex"><h3>Active Nearby</h3><span class="ps-live-pulse"><i class="fa-solid fa-circle"></i> LIVE</span></div>
        <div class="ps-active-grid" id="psActiveNearbyContainer"></div>
      </div>
      
      <div class="ps-premium-card">
          <div class="ps-premium-content">
              <div class="ps-premium-icon">
                  <i class="fa-solid fa-crown"></i>
              </div>
              <h3 class="ps-premium-title">GET MORE FEATURES</h3>
              <p class="ps-premium-desc">See who likes you &<br>unlimited swipes.</p>
              <button class="ps-btn-upgrade-now" onclick="document.querySelector('[data-panel=premium]').click()">UPGRADE NOW</button>
          </div>
      </div>
    </aside>
  </div>
  
  <div id="psStoryViewer" class="ps-story-viewer">
      <button class="ps-close-story" id="psBtnCloseStory"><i class="fa-solid fa-xmark"></i></button>
      <div class="ps-story-content">
          <div class="ps-story-progress-bar"><div class="ps-story-progress-fill" id="psStoryProgress"></div></div>
          <div class="ps-story-header">
              <img id="psStoryAvatar" src="" class="ps-story-avatar-small">
              <span id="psStoryName">User</span>
          </div>
          <div id="psStoryImageDisplay" class="ps-story-full-img"></div>
          <div class="ps-story-footer">
              <input type="text" id="psStoryCommentInput" class="ps-story-input-field" placeholder="Send a message...">
              <button class="ps-btn-story-emoji" onclick="toggleStoryEmoji()"><i class="fa-regular fa-face-smile"></i></button>
              <button class="ps-btn-story-send" onclick="sendStoryComment()"><i class="fa-solid fa-paper-plane"></i></button>
          </div>
          <div id="psStoryEmojiPicker" class="ps-story-emoji-picker">
              <span onclick="addStoryEmoji('‚ù§Ô∏è')">‚ù§Ô∏è</span>
              <span onclick="addStoryEmoji('üòÇ')">üòÇ</span>
              <span onclick="addStoryEmoji('üòÆ')">üòÆ</span>
              <span onclick="addStoryEmoji('üî•')">üî•</span>
          </div>
      </div>
  </div>

  <div id="psAddStoryModal" class="ps-add-story-modal">
    <div class="ps-add-story-card">
        <div class="ps-add-story-header">
            <h3>Create Moment</h3>
            <button class="ps-btn-icon-sm" onclick="closeAddStory()"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="ps-add-story-body">
            <textarea id="psStoryInput" class="ps-story-input" placeholder="What's on your mind?"></textarea>
            <div class="ps-emoji-bar">
                <span onclick="appendEmoji('üòç')">üòç</span>
                <span onclick="appendEmoji('üî•')">üî•</span>
                <span onclick="appendEmoji('üòÇ')">üòÇ</span>
                <span onclick="appendEmoji('‚ù§Ô∏è')">‚ù§Ô∏è</span>
            </div>
        </div>
        <button class="ps-btn-share" onclick="postNewStory()">Share Moment</button>
    </div>
  </div>

  <div id="psEditProfileModal" class="ps-edit-modal-overlay">
    <div class="ps-edit-modal-card">
      <div class="ps-edit-modal-header-content">
        <div class="ps-header-text-group">
            <h3>Edit Profile & Preferences</h3>
            <p>Saving here updates your database immediately.</p>
        </div>
        <button class="ps-btn-close-clean" onclick="closeEditProfile()"><i class="fa-solid fa-xmark"></i></button>
      </div>
      <div class="ps-edit-modal-body">
        <div class="ps-edit-grid two-col">
          <div class="ps-edit-field"><label>FULL NAME</label><input id="psInputName" type="text" class="tm-input" placeholder="Your full name"></div>
          <div class="ps-edit-field"><label>EMAIL</label><input id="psInputEmail" type="email" class="tm-input" placeholder="Email address"></div>
        </div>
        <div class="ps-edit-grid two-col">
          <div class="ps-edit-field"><label>OCCUPATION / ROLE</label><input id="psInputOccupation" type="text" class="tm-input" placeholder="e.g., Entrepreneur"></div>
          <div class="ps-edit-field"><label>AGE</label><input id="psInputAge" type="number" class="tm-input" placeholder="e.g., 28"></div>
        </div>
        <div class="ps-edit-grid three-col">
          <div class="ps-edit-field">
              <label>WEALTH STATUS</label>
              <select id="psInputWealth" class="tm-select">
                  <option>High Net Worth</option>
                  <option>Ultra High Net Worth</option>
                  <option>Emerging</option>
              </select>
          </div>
          <div class="ps-edit-field">
              <label>MONTHLY INCOME</label>
              <select id="psInputIncome" class="tm-select">
                  <option>$10k - $50k</option>
                  <option>$50k - $100k</option>
                  <option>$100k+</option>
              </select>
          </div>
          <div class="ps-edit-field">
              <label>NET WORTH</label>
              <select id="psInputNetWorth" class="tm-select">
                  <option>$1M - $5M</option>
                  <option>$5M - $10M</option>
                  <option>$10M+</option>
              </select>
          </div>
        </div>
        <div class="ps-edit-field"><label>PRIMARY INCOME SOURCE</label><textarea id="psInputSource" class="tm-textarea" rows="2" placeholder="Briefly describe..."></textarea></div>
        <div class="ps-edit-field"><label>SOCIAL LINK</label><input id="psInputSocial" type="text" class="tm-input" placeholder="Instagram, LinkedIn, etc."></div>
        <div class="ps-edit-field"><label>REASON FOR JOINING PREMIUM SOCIETY</label><textarea id="psInputReason" class="tm-textarea" rows="3" placeholder="Write your reason..."></textarea></div>
      </div>
      <div class="ps-edit-modal-footer">
        <button class="ps-btn-cancel-clean" onclick="closeEditProfile()">Cancel</button>
        <button class="ps-btn-save-clean" onclick="saveEditProfile()">Save Changes</button>
      </div>
    </div>
  </div>

  <div id="psGiftModal" class="ps-profile-modal">
    <div class="ps-profile-card-lg" style="max-width: 400px; padding: 25px;">
        <div class="ps-add-story-header"><h3>Send a Premium Gift</h3><button class="ps-btn-icon-sm" onclick="closeGiftModal()"><i class="fa-solid fa-xmark"></i></button></div>
        <div class="ps-gift-balance"><span>Balance:</span><span class="ps-coin-text"><i class="fa-solid fa-coins"></i> 2,450</span></div>
        <div class="ps-gift-grid">
            <div class="ps-gift-item active" onclick="selectGift(this, 'Diamond', 500)"><span class="ps-gift-emoji">üíé</span><span>Diamond</span><small>500c</small></div>
            <div class="ps-gift-item" onclick="selectGift(this, 'Crown', 1000)"><span class="ps-gift-emoji">üëë</span><span>Crown</span><small>1000c</small></div>
            <div class="ps-gift-item" onclick="selectGift(this, 'Bubbly', 250)"><span class="ps-gift-emoji">üçæ</span><span>Bubbly</span><small>250c</small></div>
        </div>
        <button class="ps-btn-gold" style="width: 100%; margin-top: 10px;" onclick="sendSelectedGift()">CONFIRM GIFT (<span id="psGiftPriceBtn">500</span>c)</button>
    </div>
  </div>

  <div id="psMatchOverlay" class="ps-match-overlay">
    <div class="ps-match-content">
        <h1 class="ps-match-title">IT'S A <span class="ps-text-gradient">MATCH!</span></h1>
        <div class="ps-match-avatars">
            <div class="ps-avatar-container left"><img id="psMatchUserImg" src="assets/images/truematch-mark.png"></div>
            <div class="ps-match-heart"><i class="fa-solid fa-heart"></i></div>
            <div class="ps-avatar-container right"><img id="psMatchTargetImg" src=""></div>
        </div>
        <div class="ps-match-actions">
            <button class="ps-btn-match-chat" onclick="openChatFromMatch()">SEND A MESSAGE</button>
            <button class="ps-btn-match-keep" onclick="closeMatchOverlay()">KEEP SWIPING</button>
        </div>
    </div>
  </div>

  <button id="psMobileNavToggle" class="ps-mobile-toggle"><i class="fa-solid fa-bars"></i></button>
  <div id="ps-toast" class="ps-toast"></div>
  <script type="module" src="premium-society.js"></script>
</body>
</html>