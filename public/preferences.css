/* ============================
   PREFERENCES STYLES (ANIMATED)
   ============================ */

@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap');

/* --- 1. GLOBAL & LAYOUT FIXES --- */
body { 
  overflow: hidden !important; 
}

/* TANGGALIN ANG WHITE LINE */
.unified-card::after {
  display: none !important;
}

.pref-card-override {
  display: flex;
  overflow: hidden;
  
  /* ANIMATION #1: Entrance ng buong Card */
  animation: cardEntrance 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  opacity: 0; /* Simula ay tago */
  transform: scale(0.95);
}

/* Keyframes para sa Card Entrance */
@keyframes cardEntrance {
  to { opacity: 1; transform: scale(1); }
}


/* --- 2. HEADER / NAV ACTIONS --- */
.nav-actions {
  display: flex;
  align-items: center;
  gap: 15px; 
  pointer-events: auto;
}

.nav-login-link {
  color: #94a3b8;
  text-decoration: none;
  font-weight: 700;
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.3s;
  padding: 8px 12px;
  border-radius: 8px;
}

.nav-login-link:hover {
  color: #fff;
  background: rgba(255,255,255,0.05);
  text-shadow: 0 0 10px rgba(255,255,255,0.5);
}

.nav-back-btn {
  display: flex; align-items: center; gap: 8px;
  padding: 10px 20px; border-radius: 50px;
  background: rgba(255, 255, 255, 0.08); 
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: #fff; text-decoration: none; font-size: 0.8rem; font-weight: 700;
  letter-spacing: 1px; white-space: nowrap; backdrop-filter: blur(10px); 
  transition: all 0.3s ease; 
  pointer-events: auto;
}

.nav-back-btn:hover { 
  background: rgba(100, 233, 238, 0.1); border-color: #64E9EE; color: #64E9EE;
  box-shadow: 0 0 20px rgba(100,233,238,0.2); transform: translateY(-2px);
}

/* FIX NAV BRAND TEXT TRANSFORM */
.nav-brand {
    text-transform: none !important;
}


/* --- 3. LEFT SIDE (TIMELINE) --- */
.pref-visual-side {
  width: 35% !important; 
  background: rgba(0,0,0,0.2); 
  border-right: none !important; 
  display: flex; flex-direction: column; 
  justify-content: center; align-items: flex-start;
  padding: 0 0 0 60px;
  
  /* ANIMATION: Slide in mula sa kaliwa */
  opacity: 0;
  animation: slideInLeft 0.8s ease-out 0.2s forwards;
}

@keyframes slideInLeft {
  from { opacity: 0; transform: translateX(-20px); }
  to { opacity: 1; transform: translateX(0); }
}

.timeline-wrapper { text-align: left; position: relative; width: 100%; }

.timeline-title {
  font-size: 2rem; font-weight: 900; color: #fff; margin-bottom: 40px;
  text-transform: uppercase; letter-spacing: -1px;
  text-shadow: 0 0 20px rgba(100, 233, 238, 0.4); padding-left: 5px;
}

.timeline-track { display: flex; flex-direction: column; gap: 40px; position: relative; }

.track-line {
  position: absolute; left: 19px; top: 10px; bottom: 10px; width: 2px;
  background: rgba(255,255,255,0.1); z-index: 0;
}

.timeline-node {
  display: flex; align-items: center; gap: 20px; position: relative; z-index: 1;
  opacity: 0.4; transition: 0.3s;
}
.timeline-node.active { opacity: 1; transform: translateX(5px); }
.timeline-node.done { opacity: 0.7; }

.node-circle {
  width: 40px; height: 40px; border-radius: 50%;
  background: #0b1120; border: 1px solid rgba(255,255,255,0.2);
  display: flex; align-items: center; justify-content: center;
  font-weight: 700; color: #fff; flex-shrink: 0;
  position: relative;
}

/* ANIMATION #3: RADAR PULSE (Active Node) */
.timeline-node.active .node-circle {
  background: #64E9EE; 
  border-color: #64E9EE; 
  color: #000;
  /* Ito ang pulse animation */
  animation: radarPulse 2s infinite;
}

@keyframes radarPulse {
  0% {
    box-shadow: 0 0 0 0 rgba(100, 233, 238, 0.7);
  }
  70% {
    box-shadow: 0 0 0 15px rgba(100, 233, 238, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(100, 233, 238, 0);
  }
}

.timeline-node.done .node-circle {
  background: rgba(100, 233, 238, 0.2); border-color: #64E9EE; color: #64E9EE;
}
.node-text h3 { margin: 0; font-size: 1.1rem; font-weight: 700; color: #fff; }
.node-text p { margin: 4px 0 0; font-size: 0.85rem; color: #94a3b8; }


/* --- 4. RIGHT SIDE (FORM WITH STAGGERED ENTRANCE) --- */
.pref-form-side { width: 65% !important; padding: 0 !important; position: relative; }

.form-scroll-container {
  width: 100%; height: 100%; overflow-y: auto; padding: 30px 70px;
  display: flex; flex-direction: column; justify-content: center;
  scrollbar-width: none; -ms-overflow-style: none;
}
.form-scroll-container::-webkit-scrollbar { display: none; width: 0; }

/* STAGGERED ENTRANCE ANIMATION 
   Lahat ng elements sa form ay mag-fa-fade in isa-isa
*/

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Header (First to appear) */
.auth-header {
  opacity: 0;
  animation: fadeInUp 0.5s ease-out 0.4s forwards;
}

/* Input 1: City */
.auth-form-side form > .input-group:nth-of-type(1) {
  opacity: 0;
  animation: fadeInUp 0.5s ease-out 0.5s forwards;
}

/* Input 2: Age/Ethnicity Row */
.auth-form-side form > .input-row {
  opacity: 0;
  animation: fadeInUp 0.5s ease-out 0.6s forwards;
}

/* Input 3: Looking For */
.auth-form-side form > .pref-group:last-of-type {
  opacity: 0;
  animation: fadeInUp 0.5s ease-out 0.7s forwards;
}

/* Button */
.btn-primary {
  opacity: 0;
  animation: fadeInUp 0.5s ease-out 0.8s forwards;
}


/* --- 5. INPUT STYLING --- */
.pref-group, .input-group {
  display: flex; flex-direction: column; gap: 8px;
  margin-bottom: 25px; position: relative;
}
.static-label {
  display: block; font-size: 0.75rem; font-weight: 700; color: #64E9EE;
  text-transform: uppercase; letter-spacing: 1px; pointer-events: none; 
}
.input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; width: 100%; margin-bottom: 25px; }

/* Age Capsule */
.age-range-capsule {
  display: flex; align-items: center;
  background: rgba(0,0,0,0.4); border: 1px solid rgba(100, 233, 238, 0.2);
  border-radius: 12px; padding: 0 10px; height: 54px; 
}
.age-range-capsule input {
  border: none !important; background: transparent !important; box-shadow: none !important;
  padding: 0 !important; text-align: center; width: 45%; color: #fff; font-size: 1rem; font-weight: 600;
}
.age-range-capsule input:focus { outline: none; }
.age-range-capsule .sep { color: #64748b; font-weight: 300; }

/* Select Dropdown */
.select-wrapper { position: relative; width: 100%; }
.select-wrapper select {
  width: 100%; padding: 16px; background: rgba(0,0,0,0.4);
  border: 1px solid rgba(100, 233, 238, 0.2); border-radius: 12px;
  color: #fff; font-family: 'Montserrat', sans-serif; appearance: none;
  cursor: pointer; font-size: 1rem;
}
.select-wrapper::after {
  content: 'â–¼'; position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
  color: #64E9EE; font-size: 0.7rem; pointer-events: none;
}
select:focus { border-color: #64E9EE; outline: none; background: rgba(100,233,238,0.05); }
select option { background: #02040a; color: #fff; padding: 10px; }


/* --- 6. RADIO CARDS (INSTANT) --- */
.radio-cards { display: flex; gap: 15px; width: 100%; }
.radio-card { 
  flex: 1; cursor: pointer; position: relative; margin: 0; 
  -webkit-tap-highlight-color: transparent; transform: translateZ(0);
}
.radio-card input { display: none; }
.radio-card .card-content {
  display: block; text-align: center; padding: 16px 5px;
  background: rgba(0,0,0,0.4); border: 1px solid rgba(100, 233, 238, 0.2);
  border-radius: 12px; color: #94a3b8; font-weight: 700; font-size: 0.9rem;
  transition: none !important; user-select: none;
}
.radio-card input:checked + .card-content {
  background: rgba(100, 233, 238, 0.15); border-color: #64E9EE; color: #64E9EE;
  box-shadow: 0 0 15px rgba(100, 233, 238, 0.2);
}
.radio-card:active .card-content {
  background: rgba(100, 233, 238, 0.05); border-color: rgba(100, 233, 238, 0.5);
}


/* --- 7. LOADER & RESPONSIVE --- */
.loader-overlay { position: fixed; inset: 0; z-index: 999; background: rgba(0,0,0,0.9); backdrop-filter: blur(5px); display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 15px; }
.loader-overlay.hidden { display: none; }
.loader-spinner { width: 50px; height: 50px; border: 3px solid rgba(100, 233, 238, 0.2); border-top-color: #64E9EE; border-radius: 50%; animation: spin 0.8s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

@media (max-width: 1000px) {
  .pref-card-override { flex-direction: column; height: auto; }
  .pref-visual-side { width: 100% !important; padding: 30px; border-right: none; border-bottom: 1px solid rgba(255,255,255,0.1); align-items: center; }
  .timeline-wrapper { text-align: center; }
  .timeline-track { flex-direction: row; width: 100%; overflow-x: auto; padding-bottom: 10px; justify-content: center; }
  .track-line { display: none; }
  .timeline-node { flex-direction: column; text-align: center; min-width: 80px; gap: 8px; }
  .node-text { display: none; }
  .pref-form-side { width: 100% !important; }
  .form-scroll-container { padding: 30px 20px; }
  .input-row { grid-template-columns: 1fr; }
}