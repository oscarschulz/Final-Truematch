/* ============================
   PREFERENCES STYLES (CLEAN v6)
   Includes: profile age/city + required profile picture upload + compact layout
   Fix: timeline circle icons centered
   ============================ */

@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap');

/* --- 1) GLOBAL --- */
body { overflow: hidden !important; }

.unified-card::after { display: none !important; }

.pref-card-override{
  display:flex;
  overflow:hidden;
  animation: cardEntrance 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) both;
  transform: scale(0.95);
}
@keyframes cardEntrance { to { opacity: 1; transform: scale(1); } }

/* --- 2) TOP NAV --- */
.nav-actions{
  display:flex;
  align-items:center;
  gap:15px;
  pointer-events:auto;
}


.nav-logout-link{
  display:flex;
  align-items:center;
  justify-content:center;
  padding:10px 20px;
  border-radius:50px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  color:#fff;
  text-decoration:none;
  font-size:0.8rem;
  font-weight:700;
  letter-spacing:1px;
  white-space:nowrap;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  pointer-events:auto;
}
.nav-logout-link:hover{
  background: rgba(100,233,238,0.1);
  border-color:#64E9EE;
  color:#64E9EE;
  box-shadow: 0 0 20px rgba(100,233,238,0.2);
  transform: translateY(-2px);
}
.nav-login-link{
  color:#94a3b8;
  text-decoration:none;
  font-weight:700;
  font-size:0.8rem;
  text-transform:uppercase;
  letter-spacing:1px;
  transition:all 0.3s;
  padding:8px 12px;
  border-radius:8px;
}
.nav-login-link:hover{
  color:#fff;
  background: rgba(255,255,255,0.05);
  text-shadow: 0 0 10px rgba(255,255,255,0.5);
}

.nav-back-btn{
  display:flex; align-items:center; gap:6px;
  padding:10px 20px;
  border-radius:50px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  color:#fff;
  text-decoration:none;
  font-size:0.8rem;
  font-weight:700;
  letter-spacing:1px;
  white-space:nowrap;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  pointer-events:auto;
}
.nav-back-btn:hover{
  background: rgba(100,233,238,0.1);
  border-color:#64E9EE;
  color:#64E9EE;
  box-shadow: 0 0 20px rgba(100,233,238,0.2);
  transform: translateY(-2px);
}

.nav-brand { text-transform:none !important; }

/* --- 3) LEFT TIMELINE --- */
.pref-visual-side{
  width:35% !important;
  background: rgba(0,0,0,0.2);
  border-right:none !important;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  align-items:flex-start;
  padding: 0 0 0 60px;
  animation: slideInLeft 0.8s ease-out 0.2s both;
}
@keyframes slideInLeft{
  from { transform: translateX(-20px); }
  to { opacity: 1; transform: translateX(0); }
}

.timeline-wrapper{ text-align:left; position:relative; width:100%; }
.timeline-title{
  font-size:2rem;
  font-weight:900;
  color:#fff;
  margin-bottom:40px;
  text-transform:uppercase;
  letter-spacing:-1px;
  text-shadow: 0 0 20px rgba(100,233,238,0.4);
  padding-left:5px;
}

.timeline-track{
  display:flex;
  flex-direction:column;
  gap:40px;
  position:relative;
}
.track-line{
  position:absolute;
  left:19px;
  top:10px;
  bottom:10px;
  width:2px;
  background: rgba(255,255,255,0.1);
  z-index:0;
}

.timeline-node{
  display:flex;
  align-items:center;
  gap:20px;
  position:relative;
  z-index:1;
  opacity:0.4;
  transition:0.3s;
}
.timeline-node.active{ opacity:1; transform: translateX(5px); }
.timeline-node.done{ opacity:0.7; }

/* FIX: perfect centering inside the circle */
.node-circle{
  width:40px;
  height:40px;
  border-radius:50%;
  background:#0b1120;
  border: 1px solid rgba(255,255,255,0.2);
  display:grid;
  place-items:center;
  font-weight:900;
  color:#fff;
  flex-shrink:0;
  position:relative;
}
.node-icon{
  display:block;
  line-height:1;
  transform: translateY(-0.5px);
}

.timeline-node.active .node-circle{
  background:#64E9EE;
  border-color:#64E9EE;
  color:#000;
  animation: radarPulse 2s infinite;
}
@keyframes radarPulse{
  0%   { box-shadow: 0 0 0 0 rgba(100,233,238,0.7); }
  70%  { box-shadow: 0 0 0 15px rgba(100,233,238,0); }
  100% { box-shadow: 0 0 0 0 rgba(100,233,238,0); }
}

.timeline-node.done .node-circle{
  background: rgba(100,233,238,0.2);
  border-color:#64E9EE;
  color:#64E9EE;
}

.node-text h3{ margin:0; font-size:1.1rem; font-weight:700; color:#fff; }
.node-text p{ margin:4px 0 0; font-size:0.85rem; color:#94a3b8; }

/* --- 4) RIGHT FORM AREA --- */
.pref-form-side{ width:65% !important; padding:0 !important; position:relative; }

.form-scroll-container{
  width:100%;
  height:100%;
  overflow-y:auto;
  padding: 20px 56px;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  scrollbar-width:none;
  -ms-overflow-style:none;
}
.form-scroll-container::-webkit-scrollbar{ display:none; width:0; }

@keyframes fadeInUp{
  from { transform: translateY(15px); }
  to   { opacity: 1; transform: translateY(0); }
}
.stagger-0{ animation: fadeInUp 0.5s ease-out 0.45s both !important; }
.stagger-1{ animation: fadeInUp 0.5s ease-out 0.55s both !important; }
.stagger-2{ animation: fadeInUp 0.5s ease-out 0.65s both !important; }
.stagger-3{ animation: fadeInUp 0.5s ease-out 0.75s both !important; }

/* --- 5) INPUTS --- */
.pref-group, .input-group{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-bottom:18px;
  position:relative;
}

.static-label{
  display:block;
  font-size:0.7rem;
  font-weight:700;
  color:#64E9EE;
  text-transform:uppercase;
  letter-spacing:1px;
  pointer-events:none;
}

.input-row{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:25px;
  width:100%;
  margin-bottom:18px;
}

.text-input{
  width:100%;
  padding:12px;
  background: rgba(0,0,0,0.4);
  border: 1px solid rgba(100,233,238,0.2);
  border-radius:12px;
  color:#fff;
  font-family:'Montserrat', sans-serif;
  font-size:0.95rem;
  outline:none;
}
.text-input:focus{
  border-color:#64E9EE;
  background: rgba(100,233,238,0.05);
}

/* Age capsule */
.age-range-capsule{
  display:flex;
  align-items:center;
  background: rgba(0,0,0,0.4);
  border: 1px solid rgba(100,233,238,0.2);
  border-radius:12px;
  padding: 0 10px;
  height:48px;
}
.age-range-capsule input{
  border:none !important;
  background:transparent !important;
  box-shadow:none !important;
  padding:0 !important;
  text-align:center;
  width:45%;
  color:#fff;
  font-size:0.95rem;
  font-weight:600;
}
.age-range-capsule input:focus{ outline:none; }
.age-range-capsule .sep{ color:#64748b; font-weight:300; }

/* Select */
.select-wrapper{ position:relative; width:100%; }
.select-wrapper select{
  width:100%;
  padding:12px;
  background: rgba(0,0,0,0.4);
  border: 1px solid rgba(100,233,238,0.2);
  border-radius:12px;
  color:#fff;
  font-family:'Montserrat', sans-serif;
  appearance:none;
  cursor:pointer;
  font-size:0.95rem;
}
.select-wrapper::after{
  content:'â–¼';
  position:absolute;
  right:15px;
  top:50%;
  transform: translateY(-50%);
  color:#64E9EE;
  font-size:0.7rem;
  pointer-events:none;
}
select:focus{
  border-color:#64E9EE;
  outline:none;
  background: rgba(100,233,238,0.05);
}
select option{ background:#02040a; color:#fff; padding:10px; }

/* Radio cards */
.radio-cards{ display:flex; gap:12px; width:100%; }
.radio-card{ flex:1; cursor:pointer; position:relative; margin:0; -webkit-tap-highlight-color:transparent; transform: translateZ(0); }
.radio-card input{ display:none; }
.radio-card .card-content{
  display:block;
  text-align:center;
  padding:12px 5px;
  background: rgba(0,0,0,0.4);
  border: 1px solid rgba(100,233,238,0.2);
  border-radius:12px;
  color:#94a3b8;
  font-weight:700;
  font-size:0.85rem;
  user-select:none;
}
.radio-card input:checked + .card-content{
  background: rgba(100,233,238,0.15);
  border-color:#64E9EE;
  color:#64E9EE;
  box-shadow: 0 0 15px rgba(100,233,238,0.2);
}

/* --- 6) YOUR PROFILE BLOCK --- */
.profile-section{ margin-bottom:14px; }
.profile-section .section-label{ margin: 0 0 10px; }

/* Profile picture (premium + aligned right content) */
.avatar-upload{ margin-top:10px; }

.avatar-row{
  display:grid;
  grid-template-columns: 72px 1fr;
  gap:18px;
  align-items:center;
}

.avatar-preview{
  width:72px;
  height:72px;
  border-radius:18px;
  border: 1px solid rgba(100,233,238,0.30);
  background:
    radial-gradient(120px 120px at 20% 20%, rgba(100,233,238,0.10), transparent 55%),
    rgba(0,0,0,0.28);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.04),
    0 14px 35px rgba(0,0,0,0.35);
  overflow:hidden;
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
}
.avatar-preview:hover{
  border-color: rgba(100,233,238,0.50);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.05),
    0 18px 45px rgba(0,0,0,0.40);
}

#avatarPreviewImg{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:18px;
  display:block;
}
#avatarPreviewImg:not([src]),
#avatarPreviewImg[src=""]{
  display:none;
}
#avatarPreviewImg[src]:not([src=""]) + #avatarPlaceholder{
  display:none;
}

.avatar-placeholder{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;
  font-weight:800;
  font-size:0.68rem;
  letter-spacing:1px;
  text-transform:uppercase;
  color: rgba(210,245,249,0.68);
}
.avatar-placeholder::before{
  content:"+";
  font-size:1.7rem;
  line-height:1;
  color:#64E9EE;
  text-shadow: 0 0 18px rgba(100,233,238,0.25);
}

#avatarFile{ display:none; }

.avatar-actions{
  display:grid;
  grid-template-columns: auto 1fr;
  grid-template-rows: auto auto;
  gap: 6px 14px;
  align-items:center;
  min-width:0;
  padding-left:12px;
}

#avatarBtn{
  grid-column:1;
  grid-row:1;
  height:38px;
  display:inline-flex;
  align-items:center;
  border-radius:12px;
  padding: 10px 14px;
  line-height:1;
  white-space:nowrap;
}

#avatarFileName{
  grid-column:2;
  grid-row:1;
  margin:0;
  font-size:0.82rem;
  color: rgba(210,245,249,0.72);
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  min-width:0;
}

.avatar-actions .hint{
  grid-column: 1 / -1;
  margin:0;
  font-size:0.74rem;
  color: rgba(148,163,184,0.78);
}

/* Button (compact but readable) */
.btn-primary{
  padding: 14px 18px !important;
  font-size: 0.95rem !important;
}

/* --- 7) LOADER --- */
.loader-overlay{
  position:fixed;
  inset:0;
  z-index:999;
  background: rgba(0,0,0,0.9);
  backdrop-filter: blur(5px);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  gap:15px;
}
.loader-overlay.hidden{ display:none; }
.loader-spinner{
  width:50px;
  height:50px;
  border:3px solid rgba(100,233,238,0.2);
  border-top-color:#64E9EE;
  border-radius:50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin{ to { transform: rotate(360deg); } }

/* --- 8) RESPONSIVE --- */
@media (max-width: 1000px){
  .pref-card-override{ flex-direction:column; height:auto; }
  .pref-visual-side{
    width:100% !important;
    padding:30px;
    border-right:none;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    align-items:center;
  }
  .timeline-wrapper{ text-align:center; }
  .timeline-track{
    flex-direction:row;
    width:100%;
    overflow-x:auto;
    padding-bottom:10px;
    justify-content:flex-start;
  }
  .track-line{ display:none; }
  .timeline-node{
    flex-direction:column;
    text-align:center;
    min-width:80px;
    gap:6px;
  }
  .node-text{ display:none; }
  .pref-form-side{ width:100% !important; }
  .form-scroll-container{ padding:30px 20px; }
  .input-row{ grid-template-columns: 1fr; }
}
