<!doctype html>
<html lang="en" class="tm-home">
<head>
  <script>window.API_BASE = '';</script>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>iTRUEMATCH â€¢ Access</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="font.css" />
  <link rel="stylesheet" href="style.css"> 
  <link rel="stylesheet" href="animations.css">
  <link rel="stylesheet" href="responsive.css">
  <link rel="stylesheet" href="auth.css">

  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script>window.GOOGLE_CLIENT_ID = window.GOOGLE_CLIENT_ID || "";</script>
</head>

<body class="tm-dark">

  <canvas id="tm-bg-canvas" aria-hidden="true"></canvas>

  <nav class="auth-top-nav">
    <a href="index.html" class="nav-brand">
      <img src="assets/images/truematch-mark.png" alt="Logo" />
      <span>iTRUEMATCH</span>
    </a>
    <a href="index.html" class="nav-back-btn">
      <span>BACK TO HOME</span>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
    </a>
  </nav>
  
  <div class="split-layout">
    
    <div class="unified-card">
      
      <div class="auth-visual-side" id="visualSide">
        <div class="visual-content" id="parallaxContent">
          
          <div class="chat-interface-wrapper">
            <div class="chat-phone-body">
              <div class="chat-header-ui">
                <div class="chat-avatar">
                  <img src="assets/images/truematch-mark.png" alt="Match" />
                  <div class="online-dot"></div>
                </div>
                <div class="chat-info">
                  <span class="chat-name">It's a Match!</span>
                  <span class="chat-status">Active now</span>
                </div>
              </div>
              <div class="chat-messages-area" id="chatContainer"></div>
              <div class="reaction-layer" id="reactionLayer"></div>
            </div>
            
            <div class="floating-badge badge-1"><span>ðŸ”¥ Hot</span></div>
            <div class="floating-badge badge-2"><span>ðŸ’¯ Verified</span></div>
          </div>

        </div>
      </div>

      <div class="auth-form-side">
        <header class="mobile-header">
          <a href="index.html" class="brand">
            <img src="assets/images/truematch-mark.png" alt="Logo" />
            <span>iTRUEMATCH</span>
          </a>
        </header>

        <div class="flip-wrapper">
          <div class="flip-card" id="authFlipCard">
            
            <div class="card-face front">
              <div class="face-content">
                <div class="auth-header">
                  <h1>Welcome Back</h1>
                  <p>Sign in to continue</p>
                </div>
                <form id="loginForm" autocomplete="off">
                  <div class="input-group">
                    <input type="email" id="loginEmail" name="email" required placeholder=" " />
                    <label for="loginEmail">Email Address</label>
                  </div>
                  <div class="input-group">
                    <input type="password" id="loginPass" name="password" required placeholder=" " minlength="6"/>
                    <label for="loginPass">Password</label>
                  </div>
                  <div class="actions-row">
                    <label class="remember-me"><input type="checkbox"> <span>Remember me</span></label>
                    <a href="#" class="forgot-link" id="btnOpenForgot">Forgot?</a>
                  </div>
                  <button type="submit" class="btn-primary neon-btn">Sign In</button>
                  <div class="divider"><span>OR</span></div>
                  <button type="button" id="btnGoogleLogin" class="btn-oauth">
                    <img src="assets/images/google icon.png" alt="G"> Continue with Google
                  </button>
                </form>
                <div class="switch-area">
                  <p>Don't have an account?</p>
                  <button type="button" id="toSignup" class="btn-switch" data-switch="signup">Create Account</button>
                </div>
              </div>
            </div>

            <div class="card-face back">
              <div class="face-content">
                <div class="auth-header">
                  <h1>Join the Club</h1>
                  <p>Apply for membership</p>
                </div>
                <form id="signupForm" autocomplete="off">
                  <div class="input-group">
                    <input type="text" id="signupName" name="name" required placeholder=" " />
                    <label for="signupName">Full Name</label>
                  </div>
                  <div class="input-group">
                    <input type="email" id="signupEmail" name="email" required placeholder=" " />
                    <label for="signupEmail">Email Address</label>
                  </div>
                  <div class="input-group">
                    <input type="password" id="signupPass" name="password" required placeholder=" " minlength="6"/>
                    <label for="signupPass">Create Password</label>
                  </div>
                  <button type="submit" class="btn-primary neon-btn">Create Account</button>
                  <p class="terms-micro">By joining, you agree to our <a href="#">Terms</a> & <a href="#">Privacy</a>.</p>
                </form>
                <div class="switch-area">
                  <p>Already a member?</p>
                  <button type="button" id="toLogin" class="btn-switch" data-switch="login">Sign In</button>
                </div>
              </div>
            </div>

          </div>
        </div>
        
        <footer class="simple-footer">Â© 2026 iTRUEMATCH Inc.</footer>
      </div>

    </div> 
  </div>

  <div id="tm_loader_overlay"><div class="loader-spinner"></div></div>

  <dialog id="dlgVerify" class="modal">
    <button type="button" class="close-icon-btn" id="btnCloseVerifyX">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
    </button>
    <form method="dialog" id="frmVerify" class="modal__body">
      <h3>Verify Email</h3>
      <p class="muted" id="verifyStatusLine">Weâ€™ll send a 6â€‘digit code to <b id="verifyEmailTxt"></b></p>
          <p id="verifyMsg" class="verify-msg" role="status" aria-live="polite"></p>
      
      <div class="otp-container">
        <input id="verifyCode" class="code-input otp-style" placeholder="000000" maxlength="6" autocomplete="one-time-code">
      </div>

      <div class="modal-actions">
        <button type="button" id="btnResendCode" class="btn btn--ghost">Resend</button>
        <div class="spacer"></div>
        <button type="submit" class="btn-primary">Verify</button>
        <button type="button" id="btnCloseVerify" class="btn-ghost" style="display:none;">Close</button>
      </div>
    </form>
  </dialog>

  <dialog id="dlgForgot" class="modal split-modal">
    
    <div class="split-modal-layout">
      <div class="modal-left-visual">
         <div class="illustration-float">
             <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                <circle cx="12" cy="16" r="2.5" fill="rgba(100, 233, 238, 0.5)" stroke="none"></circle>
             </svg>
             <div class="visual-text">
               <h4>Don't worry!</h4>
               <p>It happens to the best of us.</p>
             </div>
         </div>
         <div class="decor-circle c1"></div>
         <div class="decor-circle c2"></div>
      </div>

      <div class="modal-right-form">
        <button type="button" class="close-icon-btn dark-bg" id="btnCloseForgotX">
           <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>

        <div class="modal__body align-left">
          
          <div id="forgotStep1">
            <h3>Forgot Password?</h3>
            <p class="muted">Enter your email to receive a reset code.</p>
            
            <div class="modal-input-wrapper with-icon">
                <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                <input type="email" id="forgotEmailInput" class="code-input full-text" placeholder="name@email.com">
            </div>
            <p id="forgotInfo" class="forgot-hint" style="display:none;"></p>
            <p id="forgotError" class="error-text" style="display:none; color:#ff4757; font-size:0.85rem; margin-top:6px;">Something went wrong.</p>

            <div class="modal-actions column-actions">
                <button type="button" id="btnForgotVerify" class="btn-primary">RESET PASSWORD</button>
                <button type="button" id="btnForgotCancel" class="btn-text-only">Back to Login</button>
            </div>
          </div>

          <div id="forgotStep2" style="display: none;">
            <h3>Reset Password</h3>
            <p class="muted">Enter the 6-digit code we sent and set a new password.</p>

            <div class="modal-input-wrapper with-icon" style="margin-bottom: 15px;" id="forgotOtpWrap">
                <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z"></path><polyline points="3,8 12,13 21,8"></polyline></svg>
                <input type="text" id="forgotOtpInput" inputmode="numeric" pattern="[0-9]*" maxlength="6" class="code-input full-text otp-field" placeholder="6-digit code" autocomplete="one-time-code">
            </div>
            
            <div class="modal-input-wrapper with-icon" style="margin-bottom: 15px;">
                <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                <input type="password" id="forgotNewPass" class="code-input full-text" placeholder="New Password">
            </div>

            <div class="modal-input-wrapper with-icon">
                <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                <input type="password" id="forgotConfirmPass" class="code-input full-text" placeholder="Confirm Password">
            </div>
            
            <div class="modal-actions column-actions" style="margin-top:20px;">
                <button type="button" id="btnForgotChange" class="btn-primary">CHANGE PASSWORD</button>
                <button type="button" id="btnForgotResend" class="btn-text-only">Resend code</button>
                <button type="button" id="btnForgotBack" class="btn-text-only">Back</button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </dialog>

  <script>
  (() => {
    const canvas = document.getElementById('tm-bg-canvas');
    if (!canvas) return;
    const ctx = canvas.getContext('2d', { alpha: true });
    if (!ctx) return;
    const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const mouse = { x: 0, y: 0, active: false };
    const particles = [];
    let cw = 0, ch = 0, dpr = 1, raf = null;
    const clamp = (v, a, b) => Math.max(a, Math.min(b, v));
    function pickCount() { return clamp(Math.floor((window.innerWidth * window.innerHeight) / 22000) + 28, 38, 90); }
    function resize() {
      dpr = Math.min(window.devicePixelRatio || 1, 2);
      cw = window.innerWidth; ch = window.innerHeight;
      canvas.width = Math.floor(cw * dpr); canvas.height = Math.floor(ch * dpr);
      canvas.style.width = cw + 'px'; canvas.style.height = ch + 'px';
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      init(); draw(true);
    }
    function init() {
      particles.length = 0; const count = pickCount();
      for (let i = 0; i < count; i++) {
        particles.push({ x: Math.random() * cw, y: Math.random() * ch, vx: (Math.random() - 0.5) * 0.35, vy: (Math.random() - 0.5) * 0.35, r: 1 + Math.random() * 1.3 });
      }
    }
    function step() {
      for (const p of particles) {
        p.x += p.vx; p.y += p.vy;
        if (p.x < 0 || p.x > cw) p.vx *= -1; if (p.y < 0 || p.y > ch) p.vy *= -1;
        if (mouse.active) {
          const dx = p.x - mouse.x; const dy = p.y - mouse.y; const dist2 = dx * dx + dy * dy;
          if (dist2 < 48400 && dist2 > 0.001) {
             const dist = Math.sqrt(dist2); const force = (1 - dist / 220) * 0.035;
             p.vx += (dx / dist) * force; p.vy += (dy / dist) * force;
          }
        }
        p.vx *= 0.985; p.vy *= 0.985;
      }
    }
    function draw(isStatic = false) {
      ctx.clearRect(0, 0, cw, ch); ctx.globalCompositeOperation = 'lighter';
      for (let i = 0; i < particles.length; i++) {
        const a = particles[i];
        for (let j = i + 1; j < particles.length; j++) {
          const b = particles[j]; const dx = a.x - b.x; const dy = a.y - b.y; const d2 = dx * dx + dy * dy;
          if (d2 <= 22500) {
            const alpha = (1 - (Math.sqrt(d2) / 150)) * 0.12;
            ctx.strokeStyle = `rgba(255,255,255,${alpha})`; ctx.lineWidth = 1; ctx.beginPath(); ctx.moveTo(a.x, a.y); ctx.lineTo(b.x, b.y); ctx.stroke();
          }
        }
      }
      for (const p of particles) { ctx.fillStyle = `rgba(255,255,255,0.55)`; ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2); ctx.fill(); }
      ctx.globalCompositeOperation = 'source-over';
      if (!reduceMotion && !isStatic) step();
    }
    function loop() { draw(false); raf = requestAnimationFrame(loop); }
    window.addEventListener('resize', () => { cancelAnimationFrame(raf); resize(); if (!reduceMotion) loop(); }, {passive:true});
    window.addEventListener('mousemove', e => { mouse.x = e.clientX; mouse.y = e.clientY; mouse.active = true; });
    resize(); if (!reduceMotion) loop();
  })();
  </script>

  <script src="tm-loader.js"></script>
  <script type="module" src="auth.js"></script>
</body>
</html>