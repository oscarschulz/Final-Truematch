/*
  creators.css (hard consolidated)
  - Single CSS source for Creators page (fully inlined; no @import).
  - Bundles: global.css, layout.css, feed.css, chat.css, creators.css
  - Also includes styles originally in settings.html <style> block.
*/

/* ===== global.css ===== */
/* ======================================================
   1. IMPORTS
   ====================================================== */
/* ===== layout.css (inlined) ===== */

/* ==========================================================
   GLOBAL CUSTOM SCROLLBAR (WINDOWS STYLE)
   ========================================================== */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--primary-cyan); }
* { scrollbar-width: thin; scrollbar-color: #333 var(--bg); }

/* ================= FORCE APP LAYOUT ================= */
html, body {
  width: 100%; 
  height: 100%; 
  margin: 0; 
  padding: 0; 
  overflow: hidden; 
  touch-action: pan-y; 
}

.of-layout-container {
  display: flex; 
  width: 100%; 
  height: 100dvh; /* Mobile Fix */
  align-items: stretch; 
  overflow: hidden;
}

/* ================= LEFT SIDEBAR (FIXED - DESKTOP) ================= */
.left-sidebar {
  width: 275px; 
  flex-shrink: 0; 
  display: flex; 
  justify-content: flex-end; 
  border-right: var(--border); 
  background: var(--bg); 
  z-index: var(--z-sticky);
  height: 100dvh; 
  overflow-y: auto; 
}

.left-sidebar .sidebar-inner { 
  width: 240px; 
  padding: 20px 10px; 
  min-height: 100%; 
  display: flex; 
  flex-direction: column; 
}

/* Menu Items */
.nav-item { 
  display: flex; 
  align-items: center; 
  gap: 20px; 
  padding: 12px 15px; 
  border-radius: 30px; 
  color: var(--text); 
  transition: background 0.2s; 
  margin-bottom: 5px; 
  font-size: 1.1rem; 
  white-space: nowrap; 
  text-decoration: none; 
}

.nav-item:hover { 
  background: var(--hover-bg); 
  color: var(--primary-cyan); 
}

.nav-item.active { 
  color: var(--primary-cyan); 
  font-weight: 700; 
}

.nav-item.active .nav-icon i {
    color: var(--primary-cyan);
}

.nav-icon { 
  width: 30px; 
  display: flex; 
  justify-content: center; 
  font-size: 1.3rem; 
}

.btn-new-post { 
  margin-top: 30px; 
  background: var(--primary-cyan); 
  color: #000; 
  border: none; 
  padding: 14px 0; 
  border-radius: 30px; 
  width: 100%; 
  font-weight: 800; 
  font-size: 1rem; 
  cursor: pointer; 
  transition: transform 0.2s; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  gap: 10px; 
  box-shadow: 0 4px 15px rgba(100, 233, 238, 0.3); 
}

.btn-new-post:hover { transform: translateY(-2px); }

.sidebar-brand-footer { 
  margin-top: auto; 
  display: flex; 
  align-items: center; 
  gap: 10px; 
  padding: 15px; 
  border-top: var(--border); 
  opacity: 0.7; 
}

.sidebar-brand-footer img { width: 30px; height: 30px; }
.brand-text { display: flex; flex-direction: column; line-height: 1.1; }
.brand-text span { font-weight: 800; font-size: 0.9rem; letter-spacing: 1px; }
.brand-text small { font-size: 0.65rem; }

/* ================= CENTER COLUMN (MASTER SCROLL) ================= */
.main-feed-column {
  flex-grow: 1; 
  min-width: 0; 
  width: auto; 
  border-right: var(--border); 
  position: relative; 
  height: 100dvh; 
  overflow-y: auto; 
  overflow-x: hidden; 
  padding-bottom: 100px;
}

#view-my-profile, #view-home, #view-notifications, #view-collections, #view-settings {
    height: auto !important; 
    overflow-y: visible !important; 
    min-height: 0 !important; 
    display: block; 
}

.main-feed-column:has(#view-messages[style*="display: flex"]) {
    overflow: hidden !important; 
    padding-bottom: 0 !important; 
    display: flex !important; 
    flex-direction: column; 
    width: 100% !important; 
    max-width: none !important;
}

.main-feed-column.narrow-view {
    flex-grow: 0; 
    flex-shrink: 0; 
    width: 460px; 
    max-width: 460px; 
    padding-bottom: 0;
}

/* ================= RIGHT SIDEBAR (FIXED - DESKTOP DEFAULT) ================= */
.right-sidebar { 
    width: 350px; 
    min-width: 350px; 
    flex-shrink: 0; 
    display: flex; 
    flex-direction: column; 
    background: var(--bg); 
    border-left: none; 
    height: 100dvh; 
    overflow-y: auto; 
    z-index: var(--z-sticky);
}

.right-sidebar .sidebar-inner { 
    padding: 20px 25px; 
    width: 100%; 
    min-height: 100%; 
    display: flex; 
    flex-direction: column;
    align-items: stretch !important; 
}

#rs-settings-view { padding: 0 !important; overflow-x: hidden; }

.right-sidebar.wide-view { 
    flex-grow: 1; 
    width: auto; 
    min-width: 0; 
    max-width: none; 
    position: relative; 
    overflow-x: hidden; 
    padding-bottom: 50px; 
}

.right-sidebar.hidden-sidebar { 
    display: none !important; 
}

/* ================= POPOVER MENU (DESKTOP DEFAULT) ================= */
.tm-popover-menu {
    position: fixed;
    bottom: 80px; 
    left: 40px; 
    width: 280px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    z-index: 9999;
    display: none; 
    flex-direction: column; 
    overflow: hidden;
    padding-bottom: 0; 
}

.tm-popover-menu.is-open {
    display: flex; 
    animation: popUp 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.pop-header { background: rgba(255,255,255,0.03); padding: 15px; border-bottom: var(--border); flex-shrink: 0; }
.pop-user-section { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; position: relative; }
.pop-avatar { position: relative; width: 45px; height: 45px; }
.pop-avatar img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
.pop-online { position: absolute; bottom: 0; right: 0; width: 10px; height: 10px; background: #2ecc71; border: 2px solid var(--card-bg); border-radius: 50%; }
.pop-info { display: flex; flex-direction: column; overflow: hidden; }
.pop-info strong { font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.pop-info span { font-size: 0.8rem; color: var(--muted); }
.btn-close-pop { position: absolute; top: 0; right: 0; background: transparent; border: none; color: var(--text); cursor: pointer; display: none; }

.pop-stats { display: flex; justify-content: space-around; }
.stat-item { display: flex; flex-direction: column; align-items: center; font-size: 0.85rem; }
.stat-item span { color: var(--muted); font-size: 0.75rem; }

/* Content Area */
.pop-content-full { 
    padding: 10px 0; 
    overflow-y: auto; 
    flex-grow: 1; 
    max-height: 400px; 
}

.pop-item { display: flex; align-items: center; gap: 15px; padding: 12px 20px; color: var(--text); text-decoration: none; transition: 0.2s; font-size: 0.95rem; font-weight: 500; cursor: pointer; }
.pop-item:hover { background: var(--hover-bg); color: var(--primary-cyan); }
.pop-item i { width: 25px; text-align: center; }
.pop-divider { height: 1px; background: var(--border-color); margin: 5px 0; }
.pop-item.danger { color: #ff4757; }
.pop-item.danger:hover { background: rgba(255, 71, 87, 0.1); }
.pop-item.toggle-row { justify-content: space-between; }
.flex-icon { display: flex; align-items: center; gap: 15px; }

.pop-footer {
    padding: 15px;
    border-top: var(--border);
    background: var(--card-bg); 
    flex-shrink: 0;
}

.logout-btn {
    justify-content: center;
    background: rgba(255, 71, 87, 0.05);
    border-radius: 8px;
    font-weight: 700;
}
.logout-btn:hover {
    background: rgba(255, 71, 87, 0.15);
}

@keyframes popUp {
    from { opacity: 0; transform: translateY(10px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}

/* ================= RESPONSIVE COMPONENTS ================= */

/* FIXED FOOTER (Mobile/Tablet Only) */
.mobile-bottom-nav { 
    display: none; 
    position: fixed; 
    bottom: 0; 
    left: 0; 
    width: 100%; 
    height: 60px; 
    background: rgba(2, 4, 10, 0.98); 
    backdrop-filter: blur(10px); 
    border-top: var(--border); 
    justify-content: space-around; 
    align-items: center; 
    z-index: 9999; 
    padding-bottom: env(safe-area-inset-bottom); 
}

.mob-nav-item { color: var(--muted); font-size: 1.4rem; padding: 10px 20px; position: relative; cursor: pointer; }
.mob-nav-item.active { color: var(--primary-cyan); }
.add-circle { width: 45px; height: 45px; background: var(--primary-cyan); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; font-size: 1.2rem; margin-top: -25px; border: 4px solid var(--bg); box-shadow: 0 0 10px var(--primary-cyan); }

/* HEADER ICONS ALIGNMENT */
.feed-top-header { display: flex; align-items: center; justify-content: space-between; padding: 10px 20px; }
.feed-top-header > h1, .feed-top-header > h2, .feed-top-header > span { margin-right: auto; }
.feed-top-header i { margin-left: 15px; font-size: 1.1rem; color: var(--text); cursor: pointer; }

/* HIDE HAMBURGER ON DESKTOP DEFAULT */
.header-toggle-btn { display: none; }

/* Mobile Back Button (Drawer) */
.mobile-drawer-back {
    display: none; align-items: center; gap: 10px; padding: 10px 0 20px 0; margin-bottom: 10px;
    border-bottom: 1px solid rgba(255,255,255,0.1); cursor: pointer; color: var(--primary-cyan); font-weight: 700; font-size: 0.95rem;
}

/* ==========================================================
   ðŸ”¥ðŸ”¥ðŸ”¥ LAPTOP (1025px - 1440px) ðŸ”¥ðŸ”¥ðŸ”¥
   ========================================================== */
@media (min-width: 1025px) and (max-width: 1440px) {
    .left-sidebar { width: 220px !important; } 
    .left-sidebar .sidebar-inner { padding: 15px 10px !important; width: 100% !important; }
    
    .tm-popover-menu { 
        left: 222px !important; 
        width: 265px !important;  
        top: 10px !important; 
        bottom: auto !important; 
        height: auto !important; 
        min-height: 0 !important;
        display: none; 
    }

    .pop-content-full {
        flex-grow: 0 !important;
        max-height: 350px !important; 
        padding: 5px 0 !important;
    }

    .tm-popover-menu .pop-item {
        padding: 7px 15px !important;
        font-size: 0.85rem !important;
    }
    .tm-popover-menu .pop-divider { margin: 2px 0 !important; }
    .tm-popover-menu .pop-header { padding: 10px 15px !important; }
    .tm-popover-menu .pop-footer { padding: 10px 15px !important; }

    .tm-popover-menu.is-open {
        display: flex !important;
        flex-direction: column !important;
    }
    
    .right-sidebar { width: 260px !important; min-width: 260px !important; } 
    .right-sidebar .sidebar-inner { padding: 15px 15px !important; }
    .main-feed-column { max-width: 950px !important; } 
    .main-feed-column:has(#view-messages[style*="display: flex"]) { max-width: none !important; width: auto !important; flex: 1 !important; }
    .main-feed-column.narrow-view { width: 420px !important; max-width: 420px !important; }
    .nav-item { padding: 8px 12px !important; font-size: 0.9rem !important; }
    .header-toggle-btn { display: none !important; }
}

/* ==========================================================
   TABLET & MOBILE (Max 1024px)
   ========================================================== */
@media (max-width: 1024px) { 
  html, body { overflow-y: auto !important; height: auto !important; }
  .of-layout-container { height: auto !important; overflow: visible !important; display: block; }
  .mobile-bottom-nav { display: flex !important; }
  .left-sidebar { display: none !important; }

  /* Full Width Feed */
  .main-feed-column, .main-feed-column.narrow-view { 
      width: 100% !important; max-width: none !important; flex: none !important; 
      border-right: none !important; position: static !important; 
      height: auto !important; overflow: visible !important; padding-bottom: 80px !important; 
  }

  /* ðŸ”¥ SAFETY SCROLL FIX: Force scroll if not hidden */
  .main-feed-column:not(.hidden) {
      overflow-y: auto !important;
      height: auto !important;
      padding-bottom: 80px;
  }

  .header-desktop-only { display: none !important; }
  .header-tablet-only { display: flex !important; }
  .header-toggle-btn { display: inline-block !important; } 

  /* ðŸ”¥ MOBILE POPOVER: FULL HEIGHT DRAWER with STICKY FOOTER */
  .tm-popover-menu {
      display: flex !important; 
      flex-direction: column !important;
      position: fixed !important;
      top: 0 !important; 
      bottom: 0 !important;
      right: -320px; /* Start Off-Screen */
      left: auto !important;
      width: 300px !important; 
      height: 100dvh !important; /* Dynamic Viewport Height */
      max-height: none !important; 
      
      background: var(--bg) !important;
      border-left: 1px solid var(--border-color) !important;
      border-radius: 20px 0 0 20px !important;
      
      z-index: var(--z-menu-overlay) !important; /* FIXED Z-INDEX */
      transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: -10px 0 50px rgba(0,0,0,0.8);
      opacity: 1 !important;
      visibility: visible !important;
      padding-bottom: 0 !important;
  }
  
  .tm-popover-menu.is-open { right: 0 !important; }

  .pop-content-full { 
      flex-grow: 1 !important; 
      overflow-y: auto !important;
      max-height: none !important; 
  } 

  .btn-close-pop { display: block !important; }

  /* ðŸ”¥ðŸ”¥ðŸ”¥ SIDEBAR OVERLAY LOGIC - SWIPE ANIMATION FIX ðŸ”¥ðŸ”¥ðŸ”¥ */
  .right-sidebar, 
  .right-sidebar.wide-view { 
      display: flex !important;
      flex-direction: column !important;
      position: fixed !important;
      top: 0; left: 0; right: 0; bottom: 0;
      width: 100% !important;
      height: 100% !important;
      background: var(--bg); 
      z-index: var(--z-sidebar-overlay) !important; /* FIXED Z-INDEX */
      padding-bottom: 60px;
      
      transform: translateX(100%);
      transition: transform 0.35s cubic-bezier(0.2, 0.8, 0.2, 1);
  }
  
  .right-sidebar.mobile-active {
      transform: translateX(0); 
      box-shadow: -10px 0 50px rgba(0,0,0,0.8);
      animation: none !important;
  }
  
  #rs-settings-view .rs-col-header { 
      display: none !important; 
  }
  
  .mobile-drawer-back { display: flex !important; }
  
  body:has(#view-messages[style*="display: flex"]) { overflow: hidden !important; }
  .main-feed-column:has(#view-messages[style*="display: flex"]) { 
      height: 100dvh !important; overflow: hidden !important; padding-bottom: 0 !important; 
  }

  /* ðŸ”¥ FIX: BACK BUTTON STYLING (UPDATED FOR LIGHT MODE) */
  .settings-mobile-back {
        padding: 15px 20px;
        border-bottom: var(--border);
        font-weight: 700;
        font-size: 1.1rem;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        gap: 15px;
        cursor: pointer;
        color: var(--text);
        background: var(--card-bg); 
        width: 100%;
        position: sticky;
        top: 0;
        z-index: 10;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05); 
    }
}

/* ==========================================================
   SAFETY NET
   ========================================================== */
@media (max-width: 1024px) {
    #rs-suggestions-view { display: none !important; }
}
/* ======================================================
   MOBILE PAGE ANIMATIONS (ALL VIEWS)
   ====================================================== */
@media (max-width: 1024px) {
    .view-animate-enter {
        animation: pageSlideIn 0.3s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    }

    @keyframes pageSlideIn {
        from { opacity: 0; transform: translateY(15px) scale(0.98); }
        to { opacity: 1; transform: translateY(0) scale(1); }
    }
}

/* ===== end layout.css ===== */

/* ===== chat.css (inlined) ===== */

/* ================= MESSAGES UI FIXED (UNIFIED TABLET & MOBILE MODE) ================= */

/* 0. PARENT CONTAINER FIX */
#container-messages {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    flex: 1; 
}

/* 1. Message Layout */
#view-messages { 
    width: 100%; 
    height: 100%; 
    overflow: hidden; 
    display: flex; 
    flex-direction: column;
}

.msg-container { 
    display: flex; 
    width: 100%;
    height: 100%; 
    background: var(--bg); 
    overflow: hidden;
    position: relative; 
}

/* --- LAYER 2: MESSAGE LIST (Desktop Default) --- */
.msg-sidebar { 
    width: 320px; 
    min-width: 320px;
    border-right: var(--border); 
    display: flex; 
    flex-direction: column; 
    background: var(--bg); 
    height: 100%;
    z-index: 5;
    position: relative; /* Important for Overlay */
}

/* --- ðŸ”¥ NEW MESSAGE OVERLAY UI ðŸ”¥ --- */
.new-msg-overlay {
    position: absolute;
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%;
    background: var(--bg);
    z-index: 50; /* Higher than sidebar content */
    display: flex;
    flex-direction: column;
    animation: fadeIn 0.2s ease-out;
}

.new-msg-header {
    padding: 15px;
    border-bottom: var(--border);
    display: flex;
    align-items: center;
    gap: 15px;
    font-weight: 800;
    font-size: 1.1rem;
    color: var(--text);
}

.new-msg-header i { cursor: pointer; color: var(--text); }

.new-msg-search {
    padding: 15px;
    border-bottom: var(--border);
    display: flex;
    align-items: center;
    gap: 10px;
    background: var(--card-bg);
}

.new-msg-search span { color: var(--muted); font-weight: 600; font-size: 1rem; }
.new-msg-search input { 
    flex: 1; background: transparent; border: none; outline: none; 
    color: var(--text); font-size: 1rem; 
}

.new-msg-results {
    flex: 1;
    overflow-y: auto;
    padding: 10px 0;
}

.nm-label {
    padding: 10px 20px;
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* --- LAYER 3: CHAT BOX (Desktop Default) --- */
.msg-chat-area { 
    flex: 1; 
    display: flex; 
    flex-direction: column; 
    background: rgba(0,0,0,0.2); 
    border-right: var(--border); 
    position: relative; 
    height: 100%;
    overflow: hidden; 
}
body.tm-light .msg-chat-area { background: #fff; }

/* --- LAYER 4: INFO PANEL (Desktop Default) --- */
.msg-info-panel { 
    width: 300px; 
    min-width: 300px;
    background: var(--bg); 
    display: flex; 
    flex-direction: column; 
    padding: 20px; 
    overflow-y: auto; 
    height: 100%;
}

/* 2. Message Sidebar Header */
.msg-header-tools {
    padding: 15px;
    border-bottom: var(--border);
    position: relative; 
    background: var(--bg);
    z-index: 10;
}
.mh-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.mh-top h3 { margin: 0; font-size: 1.1rem; font-weight: 800; display: block !important; }
.mh-icons i { 
    font-size: 1.1rem; margin-left: 15px; 
    cursor: pointer; color: var(--text); 
    transition: 0.2s;
}
.mh-icons i:hover { color: var(--primary-cyan); transform: scale(1.1); }

/* SIDEBAR SEARCH BOX */
.msg-search-container {
    margin-bottom: 15px;
    animation: slideDown 0.2s ease-out;
}
.search-input-wrapper {
    background: var(--search-bg);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px;
    display: flex;
    align-items: center;
    padding: 8px 12px;
}
.search-input-wrapper input {
    background: transparent; border: none; outline: none;
    color: var(--text); font-size: 0.9rem; width: 100%; margin: 0 10px;
}
.search-input-wrapper i { color: var(--muted); cursor: pointer; }
.search-input-wrapper i:hover { color: var(--text); }

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* --- ðŸ”¥ FIXED TABS (AUTO FIT) ðŸ”¥ --- */
.msg-tabs { 
    display: flex !important;
    gap: 5px; /* Liit na gap para magkasya */
    justify-content: space-between;
    overflow-x: hidden; 
    padding-bottom: 5px; 
    flex-shrink: 0;
    width: 100%; 
}

.msg-tabs span { 
    flex: 1; /* Hahatiin nila ang space */
    background: rgba(255,255,255,0.05); 
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 12px; 
    padding: 8px 0; /* Vertical padding lang, horizontal auto */
    font-size: 0.8rem; /* Medyo liitan font */
    font-weight: 600; 
    cursor: pointer; 
    white-space: nowrap; 
    text-align: center; 
    color: var(--muted);
    transition: all 0.2s;
    min-width: 0; 
}

.msg-tabs span.active { 
    background: var(--primary-cyan) !important; 
    color: #000 !important; 
    border-color: var(--primary-cyan) !important; 
    font-weight: 800 !important;
    box-shadow: 0 0 10px rgba(100, 233, 238, 0.3);
}

body.tm-light .msg-tabs span.active { 
    background: var(--primary-cyan) !important; 
    color: #000 !important; 
}

/* User List */
.msg-user-list { flex: 1; overflow-y: auto; padding-bottom: 60px; } /* Added padding for bottom */
.msg-user-item { 
    display: flex; gap: 12px; padding: 15px; cursor: pointer; 
    transition: background 0.2s; border-bottom: 1px solid rgba(255,255,255,0.02); 
    justify-content: flex-start !important; 
    /* NEW: Relative for dropdown positioning */
    position: relative;
    padding-right: 40px; /* Space for the 3 dots */
}
.msg-user-item:hover, .msg-user-item.active { background: var(--hover-bg); border-left: 3px solid var(--primary-cyan); }
.u-avatar { width: 45px; height: 45px; border-radius: 50%; object-fit: cover; }
.u-info { 
    flex: 1; overflow: hidden; display: flex !important; 
    flex-direction: column; justify-content: center; 
}
.u-name { font-weight: 700; font-size: 0.95rem; margin-bottom: 3px; }
.u-preview { font-size: 0.85rem; color: var(--muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.u-meta { font-size: 0.75rem; color: var(--muted); display: block !important; }

/* --- ðŸ†• CHAT LIST ITEM OPTIONS (Three Dots Menu) --- */
.msg-item-actions {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 20;
}

.msg-opt-btn {
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    color: var(--muted);
    cursor: pointer;
    transition: 0.2s;
}

.msg-opt-btn:hover {
    background: rgba(255,255,255,0.1);
    color: var(--text);
}

/* --- THE DROPDOWN MENU --- */
.msg-dropdown {
    position: absolute;
    top: 30px;
    right: 0;
    width: 180px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    border-radius: 12px;
    z-index: 100;
    overflow: hidden;
    animation: fadeIn 0.2s ease;
}

.md-item {
    padding: 12px 15px;
    font-size: 0.85rem;
    color: var(--text);
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    transition: 0.2s;
}

.md-item:hover {
    background: var(--hover-bg);
    color: var(--primary-cyan);
}

.md-item i {
    width: 20px;
    text-align: center;
    color: var(--muted);
}
.md-item:hover i {
    color: var(--primary-cyan);
}

.md-divider {
    height: 1px;
    background: var(--border-color);
    margin: 5px 0;
}

.md-item.danger { color: #ff4757; }
.md-item.danger:hover { background: rgba(255, 71, 87, 0.1); }
/* --- END NEW DROPDOWN CSS --- */

/* 3. Active Chat Header */
.chat-header { 
    padding: 10px 20px; border-bottom: var(--border); 
    display: flex; justify-content: space-between; align-items: center; 
    background: rgba(2, 4, 10, 0.95); backdrop-filter: blur(10px);
    position: relative; 
    flex-shrink: 0; 
    height: 60px; 
}
body.tm-light .chat-header { background: rgba(255,255,255,0.95); }

/* User Info Clickable */
.ch-user { 
    display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 1rem; flex: 1; min-width: 0;
    cursor: pointer; padding: 5px; border-radius: 8px; transition: background 0.2s;
}
.ch-user:hover { background: var(--hover-bg); }
.chat-user-name { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: block; }

/* Desktop Search Bar */
.chat-search-bar {
    position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
    background: var(--bg); border: 1px solid var(--primary-cyan);
    border-radius: 20px; padding: 5px 15px;
    display: flex; align-items: center; width: 200px; z-index: 20;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}
.chat-search-bar input { background: transparent; border: none; outline: none; color: var(--text); width: 100%; font-size: 0.9rem; }
.chat-search-bar i { cursor: pointer; color: var(--muted); font-size: 1rem; }

.ch-actions { display: flex; flex-shrink: 0; }
.ch-actions i { font-size: 1.2rem; margin-left: 18px; color: var(--primary-cyan); cursor: pointer; transition: 0.2s; }
.ch-actions i.active-star { font-weight: 900 !important; color: gold; }

/* Chat History */
.chat-history { 
    flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; 
    gap: 10px; scroll-behavior: smooth; min-height: 0; 
}
.chat-bubble { max-width: 70%; padding: 10px 15px; border-radius: 18px; font-size: 0.95rem; line-height: 1.4; position: relative; }
.chat-bubble.received { background: var(--card-bg); border: var(--border); align-self: flex-start; border-bottom-left-radius: 4px; }
.chat-bubble.sent { background: var(--primary-cyan); color: #000; align-self: flex-end; border-bottom-right-radius: 4px; }
.chat-bubble .time { font-size: 0.65rem; opacity: 0.7; display: block; margin-top: 5px; text-align: right; }

/* Emoji Picker */
.emoji-picker { position: absolute; bottom: 70px; left: 20px; z-index: 100; width: auto; height: auto; display: block; box-shadow: 0 10px 40px rgba(0,0,0,0.5); border-radius: 12px; overflow: hidden; }

/* Chat Input Box */
.chat-input-box { 
    padding: 15px 20px; border-top: var(--border); 
    display: flex; align-items: center; gap: 15px; 
    background: var(--bg); flex-shrink: 0; position: relative; z-index: 20;
}
.chat-input-box input { flex: 1; background: transparent; border: none; outline: none; font-size: 0.95rem; color: var(--text); }
.chat-input-box i { font-size: 1.3rem; color: var(--muted); cursor: pointer; transition: 0.2s; }
.chat-input-box i:hover { color: var(--primary-cyan); }
.fa-face-smile:hover { color: #f1c40f !important; }
.fa-dollar-sign:hover { color: #2ecc71 !important; }
.send-icon { color: var(--primary-cyan) !important; }

/* MOBILE INPUT TELEPORT */
body > .chat-input-box {
    background-color: var(--card-bg) !important;
    border-top: 1px solid var(--border-color) !important;
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 2147483650 !important;
    padding-bottom: max(15px, env(safe-area-inset-bottom)) !important;
}

div:where(.swal2-container) { z-index: 2147483647 !important; position: fixed !important; inset: 0 !important; }

@media (min-width: 1025px) and (max-width: 1440px) {
    .msg-sidebar { width: 290px !important; min-width: 290px !important; }
    .msg-info-panel { display: none !important; }
    .msg-tabs { gap: 4px !important; justify-content: space-between; }
    .msg-tabs span { padding: 6px 4px !important; font-size: 0.75rem !important; flex: 1; text-align: center; }
}

@media (max-width: 1024px) {
    .msg-info-panel { display: none !important; width: 0 !important; padding: 0 !important; }
    .msg-sidebar { width: 100% !important; min-width: 100% !important; height: 100% !important; display: flex !important; border-right: none; z-index: 10; padding-bottom: 80px; }
    .u-info, .u-meta, .mh-top h3, .msg-tabs { display: block !important; }
    .msg-chat-area { display: none !important; }
    #view-messages.mobile-chat-active .msg-chat-area { display: flex !important; flex-direction: column !important; position: fixed !important; inset: 0; width: 100% !important; height: 100dvh !important; z-index: var(--z-chat-overlay) !important; background: var(--bg); padding-bottom: 0 !important; }
    #view-messages.mobile-chat-active .msg-sidebar { display: none !important; }
    .chat-header { height: 60px; padding: 0 15px; background: var(--card-bg); border-bottom: var(--border); flex-shrink: 0 !important; }
    .chat-search-bar { display: none !important; }
    .back-to-list-btn { display: flex !important; align-items: center; justify-content: center; width: 35px; height: 35px; margin-right: 5px; font-size: 1.2rem; cursor: pointer; color: var(--text); }
    .chat-history { flex: 1 1 auto !important; min-height: 0 !important; padding-bottom: 90px !important; overflow-y: auto !important; height: auto !important; }
}

/* Animations */
@media (max-width: 1024px) {
    #view-messages.mobile-chat-active .msg-chat-area { animation: slideInRight 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); }
    @keyframes slideInRight { from { transform: translateX(100%); opacity: 0.8; } to { transform: translateX(0); opacity: 1; } }
}
.msg-user-item { margin: 4px 8px; border-radius: 12px; border: 1px solid transparent; transition: all 0.2s ease; }
.msg-user-item.active { background: rgba(100, 233, 238, 0.12) !important; border-color: rgba(100, 233, 238, 0.2); border-left: 1px solid rgba(100, 233, 238, 0.5) !important; transform: scale(0.99); }

/* ===== end chat.css ===== */

/* ===== feed.css (inlined) ===== */

/* ================= FEED COMPONENTS ================= */

/* --- PROFILE HEADER CARD (FIXED SIZING) --- */
.profile-header-card { 
    display: flex; 
    align-items: center; 
    gap: 10px; /* Reduced gap */
    padding: 10px 12px; /* Reduced padding */
    background: rgba(255, 255, 255, 0.03); 
    border: 1px solid rgba(255, 255, 255, 0.1); 
    border-radius: 16px; 
    margin-bottom: 25px; 
    cursor: pointer; 
    transition: all 0.2s ease; 
}
body.tm-light .profile-header-card { background: rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.1); }
body.tm-light .profile-header-card:hover { background: rgba(0,0,0,0.1); }
.profile-header-card:hover { background: rgba(255, 255, 255, 0.08); border-color: var(--primary-cyan); transform: translateY(-2px); }

.ph-avatar-container { 
    position: relative; 
    width: 40px; /* Reduced size from 45px */
    height: 40px; 
    flex-shrink: 0; /* Prevent squeezing */
}
.ph-avatar-container img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 2px solid var(--primary-cyan); }
.status-indicator { position: absolute; bottom: 0; right: 0; width: 10px; height: 10px; background-color: #46e85e; border: 2px solid var(--bg); border-radius: 50%; }

.ph-user-details { 
    flex: 1; 
    display: flex; 
    flex-direction: column; 
    overflow: hidden; 
    justify-content: center;
    min-width: 0; /* ðŸ”¥ Critical fix for text truncation */
}

.ph-name { 
    font-weight: 700; /* Reduced from 800 */
    font-size: 0.9rem; /* Reduced from 0.95rem */
    white-space: nowrap; 
    overflow: hidden; 
    text-overflow: ellipsis; 
    display: flex; 
    align-items: center; 
    gap: 4px; 
    color: var(--text);
    line-height: 1.2;
}
.ph-name i { color: var(--primary-cyan); font-size: 0.8rem; flex-shrink: 0; }

.ph-handle { 
    font-size: 0.75rem; /* Reduced from 0.8rem */
    color: var(--muted); 
    white-space: nowrap; 
    overflow: hidden; 
    text-overflow: ellipsis; 
}

.ph-settings { 
    color: var(--text); 
    font-size: 1rem; 
    opacity: 0.7; 
    transition: 0.2s; 
    flex-shrink: 0;
    margin-left: 5px;
}
.ph-settings:hover { opacity: 1; transform: rotate(45deg); }


/* --- FEED HEADER --- */
.feed-top-header { 
    position: sticky; 
    top: 0; 
    z-index: 40; 
    background: rgba(2, 4, 10, 0.95); 
    backdrop-filter: blur(10px); 
    padding: 15px 20px; 
    border-bottom: var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
}
body.tm-light .feed-top-header { background: rgba(255,255,255,0.95); }
.feed-top-header h2 { margin: 0; font-size: 1.2rem; font-weight: 800; color: var(--text); }

/* --- COMPOSE AREA --- */
.compose-area { 
    background: var(--card-bg); 
    border: var(--border); 
    border-radius: 16px; 
    padding: 20px; 
    margin-bottom: 20px; 
    position: relative;
}

.compose-top { display: flex; gap: 15px; align-items: flex-start; }

.compose-input-wrapper {
    flex: 1;
    background: rgba(255,255,255,0.03);
    border-radius: 12px;
    padding: 10px 15px;
    border: 1px solid transparent;
    transition: 0.2s;
}
.compose-input-wrapper:focus-within { border-color: var(--primary-cyan); background: rgba(255,255,255,0.05); }

.compose-input-wrapper textarea {
    width: 100%; background: transparent; border: none; outline: none; 
    color: var(--text); font-size: 1rem; font-family: 'Montserrat', sans-serif; 
    resize: none; min-height: 40px; padding-top: 5px;
}

.btn-post { 
    background: var(--primary-cyan); color: #000; border: none; padding: 0 25px; 
    border-radius: 20px; font-weight: 800; font-size: 0.85rem; cursor: not-allowed; 
    opacity: 0.5; transition: 0.2s; height: 40px; align-self: flex-start; margin-top: 2px;
}

.compose-actions {
    display: flex; gap: 20px; margin-top: 15px; color: var(--primary-cyan); 
    font-size: 1.2rem; align-items: center; padding-left: 60px;
}
.compose-actions i { cursor: pointer; transition: transform 0.2s; }
.compose-actions i:hover { transform: scale(1.1); color: #fff; }

.feed-divider { height: 8px; background: #000; border-top: var(--border); border-bottom: var(--border); }
body.tm-light .feed-divider { background: #e4e6eb; }

/* --- POLL & TOOLBAR --- */
.poll-creator { margin-top: 15px; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 12px; border: 1px dashed var(--border-color); animation: fadeIn 0.3s ease; }
.poll-header { display: flex; justify-content: space-between; font-weight: 700; font-size: 0.9rem; margin-bottom: 10px; color: var(--primary-cyan); }
.poll-meta { display: flex; gap: 15px; align-items: center; font-size: 0.9rem; color: var(--text); }
.close-poll-btn { cursor: pointer; color: var(--muted); transition: 0.2s; }
.poll-inputs { padding: 5px 0; display: flex; flex-direction: column; gap: 10px; }
.poll-input-row { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
.poll-input-row input { flex: 1; background: transparent; border: 1px solid var(--border-color); padding: 8px; border-radius: 6px; color: var(--text); outline: none; }
.poll-footer { margin-top: 10px; text-align: center; }
.add-option-btn { font-size: 0.85rem; color: var(--primary-cyan); cursor: pointer; font-weight: 600; }

.text-toolbar { margin-top: 10px; padding: 8px; background: var(--bg); border-radius: 8px; display: flex; gap: 5px; animation: fadeIn 0.2s; }
.fmt-btn { background: transparent; border: none; color: var(--muted); width: 30px; height: 30px; border-radius: 4px; cursor: pointer; }
.fmt-btn:hover { background: var(--hover-bg); color: var(--text); }
.fmt-divider { width: 1px; background: var(--border-color); margin: 0 5px; }

/* --- POST CARD --- */
.post-card { background: var(--card-bg); border: var(--border); border-radius: 16px; overflow: visible; margin-bottom: 20px; position: relative; }
.post-header { display: flex; justify-content: space-between; margin-bottom: 15px; position: relative; }
.ph-left { display: flex; gap: 12px; }
.ph-avatar { width: 48px; height: 48px; border-radius: 50%; object-fit: cover; }
.ph-info { display: flex; flex-direction: column; justify-content: center; }
.ph-name { font-size: 1rem; color: var(--text); display: flex; align-items: center; gap: 5px; }
.post-body { font-size: 1rem; line-height: 1.5; color: var(--text); margin-bottom: 15px; }
.post-media { position: relative; border-radius: 4px; overflow: hidden; margin-bottom: 15px; width: 100%; max-height: 600px; }
.media-img { width: 100%; height: auto; display: block; object-fit: cover; }

/* --- POST OPTIONS MENU (THREE DOTS) --- */
.post-options-btn { color: var(--muted); cursor: pointer; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: background 0.2s; }
.post-options-btn:hover { background: var(--hover-bg); color: var(--text); }

.post-menu-dropdown {
    position: absolute;
    top: 35px;
    right: 0;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    width: 180px;
    z-index: 50;
    overflow: hidden;
    animation: fadeIn 0.2s ease;
}
.menu-item { display: flex; align-items: center; gap: 10px; padding: 12px 15px; cursor: pointer; color: var(--text); font-size: 0.9rem; transition: background 0.2s; }
.menu-item:hover { background: var(--hover-bg); color: var(--primary-cyan); }
.menu-item.danger { color: #ff4757; }
.menu-item.danger:hover { background: rgba(255, 71, 87, 0.1); }

/* --- ðŸ”¥ REACTIONS POPUP (FIXED GAP & BRIDGE) ðŸ”¥ --- */
.reaction-wrapper, .comment-reaction-wrapper { 
    position: relative; 
    display: inline-block; 
    /* Siguraduhing nasa ibabaw ito ng ibang elements */
    z-index: 10; 
}

.reaction-picker { 
    position: absolute; 
    bottom: 100%; /* Idikit sa taas ng button */
    left: -10px; 
    margin-bottom: 5px; /* Visual na agwat */
    background: var(--card-bg); 
    border: 1px solid var(--border-color);
    padding: 5px 10px; 
    border-radius: 50px; 
    display: flex; 
    gap: 8px; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.5); 
    z-index: 1000; /* Pinakamataas */
    
    /* Animation States */
    opacity: 0; 
    visibility: hidden; 
    transform: translateY(10px) scale(0.8); 
    transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
    pointer-events: none; /* Iwas click pag nakatago */
}

/* Same styles for Comment Picker */
.comment-reaction-picker {
    position: absolute;
    bottom: 100%;
    left: -10px;
    margin-bottom: 5px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    padding: 5px 10px;
    border-radius: 50px;
    display: flex;
    gap: 5px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5); 
    z-index: 1000;
    
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px) scale(0.8);
    transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    pointer-events: none;
}

/* ðŸ”¥ THE INVISIBLE BRIDGE (ITO ANG SOLUSYON) ðŸ”¥ */
/* Gumagawa ito ng transparent na "tulay" sa pagitan ng button at picker */
.reaction-picker::after,
.comment-reaction-picker::after {
    content: '';
    position: absolute;
    top: 100%; /* Didikit sa ilalim ng picker */
    left: 0;
    width: 100%;
    height: 20px; /* Sapat na kapal para masakop ang gap papuntang button */
    background: transparent; /* Invisible */
}

/* Hover State (Desktop) */
@media (hover: hover) {
    .reaction-wrapper:hover .reaction-picker,
    .comment-reaction-wrapper:hover .comment-reaction-picker { 
        opacity: 1; 
        visibility: visible; 
        transform: translateY(0) scale(1); 
        pointer-events: auto;
        display: flex;
    }
}

/* Active State (Mobile/Click) */
.reaction-picker.active,
.comment-reaction-picker.active {
    opacity: 1; 
    visibility: visible; 
    transform: translateY(0) scale(1); 
    pointer-events: auto;
    display: flex !important;
}

.react-emoji { font-size: 1.5rem; cursor: pointer; transition: transform 0.2s; user-select: none; }
.react-emoji:hover { transform: scale(1.3) translateY(-5px); }

/* --- ðŸ”¥ EMOJI TRAY (FOR COMMENTS) ðŸ”¥ --- */
.emoji-tray {
    margin-top: 10px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 10px;
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 5px;
    animation: fadeIn 0.2s;
}
.emoji-tray.hidden { display: none !important; }

.emoji-btn {
    cursor: pointer;
    text-align: center;
    padding: 5px;
    border-radius: 4px;
    font-size: 1.2rem;
    transition: background 0.2s;
}
.emoji-btn:hover { background: var(--hover-bg); }


/* --- COMMENTS SECTION --- */
.post-comments-section { background: rgba(0,0,0,0.2); padding: 15px; border-top: 1px solid rgba(255,255,255,0.05); }
.comment-list { display: flex; flex-direction: column; gap: 15px; margin-bottom: 15px; }
.comment-item { display: flex; gap: 10px; font-size: 0.9rem; }
.comment-avatar { width: 30px; height: 30px; border-radius: 50%; flex-shrink: 0; object-fit: cover; }
.comment-body { flex: 1; }
.comment-bubble { background: var(--bg); padding: 8px 12px; border-radius: 12px; border: 1px solid var(--border-color); display: inline-block; }
.comment-actions { display: flex; gap: 15px; margin-top: 5px; padding-left: 5px; font-size: 0.75rem; color: var(--muted); font-weight: 600; }
.c-action { cursor: pointer; transition: color 0.2s; }
.c-action:hover { color: var(--text); }
.c-like.liked { color: #ff4757; }

/* Nested Reply Input */
.reply-input-row { display: flex; gap: 10px; margin-top: 10px; padding-left: 40px; animation: fadeIn 0.2s; }
.reply-input { flex: 1; background: transparent; border: 1px solid var(--border-color); padding: 8px 12px; border-radius: 20px; color: var(--text); font-size: 0.85rem; outline: none; }
.reply-input:focus { border-color: var(--primary-cyan); }

.comment-input-area { display: flex; align-items: center; gap: 10px; margin-top: 10px; }
.comment-input { flex: 1; background: var(--input-bg); border: 1px solid var(--input-border); color: var(--text); padding: 10px 15px; border-radius: 20px; outline: none; font-family: 'Montserrat', sans-serif; font-size: 0.9rem; }
.comment-input:focus { border-color: var(--primary-cyan); }
.btn-send-comment { background: transparent; border: none; color: var(--primary-cyan); font-size: 1.2rem; cursor: pointer; transition: transform 0.2s; display: flex; align-items: center; justify-content: center; }
.btn-send-comment:hover { transform: scale(1.1); }


/* --- COMMENTS SECTION (compat: .comment + .c-*) --- */
.comment-list .comment { display: flex; gap: 10px; font-size: 0.9rem; align-items: flex-start; }
.comment-list .comment .c-avatar { width: 30px; height: 30px; border-radius: 50%; flex-shrink: 0; object-fit: cover; }
.comment-list .comment .c-body { flex: 1; min-width: 0; }
.comment-list .comment .c-meta { display: flex; gap: 10px; align-items: baseline; }
.comment-list .comment .c-user { font-weight: 700; color: var(--text); }
.comment-list .comment .c-time { font-size: 0.75rem; color: var(--muted); font-weight: 600; }
.comment-list .comment .c-text { 
    background: var(--bg); 
    padding: 8px 12px; 
    border-radius: 12px; 
    border: 1px solid var(--border-color); 
    display: inline-block; 
    margin-top: 6px; 
    max-width: 100%;
    word-wrap: break-word;
}
.comment-list .comment .c-actions { display: flex; gap: 15px; margin-top: 6px; padding-left: 5px; font-size: 0.75rem; color: var(--muted); font-weight: 600; }
.comment-list .comment .c-actions button { background: transparent; border: none; padding: 0; cursor: pointer; color: inherit; font: inherit; }
.comment-list .comment .c-actions button:hover { color: var(--text); }


/* --- RESTORED STYLES (NOTIFICATIONS, SEARCH, COLLECTIONS, SETTINGS) --- */
.notif-header-flex { display: flex; justify-content: space-between; align-items: center; }
.nh-left { display: flex; align-items: center; gap: 15px; }
.nh-left h2 { margin: 0; font-size: 1.1rem; }
.nh-right { display: flex; gap: 20px; font-size: 1.2rem; cursor: pointer; }
.back-btn { display: none; color: var(--text); cursor: pointer; } 
@media (max-width: 768px) { .back-btn { display: block; } }
.notif-tabs-bar { display: flex; gap: 10px; padding: 15px 20px; overflow-x: auto; border-bottom: var(--border); scrollbar-width: none; }
.notif-tabs-bar::-webkit-scrollbar { display: none; }
.n-pill { background: rgba(255,255,255,0.1); border: 1px solid var(--border); border-radius: 20px; padding: 6px 16px; color: var(--text); font-size: 0.9rem; font-weight: 600; white-space: nowrap; cursor: pointer; transition: all 0.2s; }
.n-pill:hover { background: var(--hover-bg); }
.n-pill.active { background: var(--primary-cyan); color: #000; border-color: var(--primary-cyan); }
body.tm-light .n-pill { background: #fff; border: 1px solid #ccc; }
body.tm-light .n-pill:hover { background: #eee; }
body.tm-light .n-pill.active { background: var(--primary-cyan); color: #000; border-color: var(--primary-cyan); }
.notif-empty-state { flex: 1; display: flex; align-items: center; justify-content: center; color: var(--muted); font-weight: 600; font-size: 1.1rem; padding-bottom: 20%; }

.search-bar { margin-bottom: 25px; background: var(--search-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 30px; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
body.tm-light .search-bar { border: 1px solid #ccc; }
.search-bar input { background: transparent; border: none; color: var(--text); outline: none; width: 100%; font-size: 0.9rem; }
.search-bar i { color: var(--muted); }
.suggestions-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 0 5px; }
.suggestions-header .title { font-weight: 700; color: var(--muted); font-size: 0.85rem; letter-spacing: 0.5px; text-transform: uppercase; }
.sugg-actions { display: flex; gap: 15px; color: var(--muted); font-size: 0.9rem; cursor: pointer; }
.sugg-actions i:hover { color: var(--primary-cyan); }
.suggestion-list { width: 100%; } 
.sugg-card { background: var(--card-bg); border: var(--border); border-radius: 12px; overflow: hidden; position: relative; margin-bottom: 15px; transition: transform 0.2s; width: 100%; }
.sugg-card:hover { border-color: var(--primary-cyan); transform: translateY(-2px); }
.sugg-banner { height: 90px; background-size: cover; background-position: center; position: relative; }
.sugg-badge { position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); color: #fff; padding: 2px 8px; border-radius: 4px; font-size: 0.7rem; text-transform: uppercase; font-weight: 700; z-index: 5; }
.sugg-menu { position: absolute; top: 10px; right: 10px; color: #fff; cursor: pointer; background: rgba(0,0,0,0.4); width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; border-radius: 50%; z-index: 5; transition: background 0.2s; }
.sugg-menu:hover { background: rgba(0,0,0,0.8); }
.sugg-details { padding: 0 15px 15px 15px; display: flex; align-items: flex-start; position: relative; }
.sugg-avatar-wrap { width: 70px; height: 70px; position: relative; margin-top: -35px; margin-right: 12px; flex-shrink: 0; z-index: 2; }
.sugg-avatar-wrap img { width: 100%; height: 100%; border-radius: 50%; border: 3px solid var(--card-bg); object-fit: cover; background: var(--card-bg); }
.online-dot { position: absolute; bottom: 5px; right: 2px; width: 12px; height: 12px; background: #46e85e; border: 2px solid var(--card-bg); border-radius: 50%; }
.sugg-text { padding-top: 8px; overflow: hidden; }
.sugg-name { font-weight: 700; font-size: 0.95rem; display: flex; align-items: center; gap: 4px; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 2px; }
.sugg-handle { font-size: 0.8rem; color: var(--muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.footer-links { font-size: 0.75rem; color: var(--muted); margin-top: auto; text-align: left; padding: 20px 5px 20px 5px; line-height: 1.5; }

.collection-tabs-bar { display: flex; border-bottom: var(--border); background: var(--bg); }
.collection-tabs-bar.secondary { background: transparent; padding: 0 20px; }
.c-tab-item { flex: 1; text-align: center; padding: 15px; font-weight: 700; font-size: 0.9rem; color: var(--muted); cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.2s; }
.c-tab-item:hover { color: var(--text); }
.c-tab-item.active { color: var(--text); border-bottom-color: var(--text); }
.collection-list-container { padding: 0; }
.c-list-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; color: var(--muted); font-size: 0.85rem; font-weight: 600; border-bottom: 1px solid rgba(255,255,255,0.05); }
.c-list-item { padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer; transition: background 0.2s; }
.c-list-item:hover, .c-list-item.active { background: var(--hover-bg); }
.c-list-item.active { border-left: 3px solid var(--primary-cyan); }
.c-item-content { display: flex; flex-direction: column; }
.c-item-name { font-weight: 700; font-size: 1rem; color: var(--text); }
.c-item-status { font-size: 0.85rem; color: var(--muted); }

.rs-col-header { padding: 20px; border-bottom: var(--border); }
.rs-col-header h3 { margin: 0; font-size: 1.1rem; font-weight: 800; }
.rs-col-filters { padding: 20px; border-bottom: var(--border); }
.filter-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; color: var(--muted); font-size: 0.85rem; font-weight: 700; }
.fh-icons { display: flex; gap: 15px; font-size: 1rem; cursor: pointer; }
.filter-chips { display: flex; flex-wrap: wrap; gap: 10px; }
.chip { background: rgba(255,255,255,0.1); padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; color: var(--text); cursor: pointer; }
.chip.active { background: var(--primary-cyan); color: #000; }
.rs-col-empty { padding: 50px 20px; display: flex; flex-direction: column; align-items: center; color: var(--muted); gap: 15px; }
.empty-icon-wrap { width: 80px; height: 80px; background: var(--hover-bg); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; }

#rs-media-grid-content { display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; padding-top: 10px; width: 100%; transition: all 0.3s ease; }
#rs-media-grid-content.compact-view { grid-template-columns: repeat(8, 1fr) !important; gap: 2px; }
@media (max-width: 1400px) { #rs-media-grid-content { grid-template-columns: repeat(4, 1fr); } #rs-media-grid-content.compact-view { grid-template-columns: repeat(6, 1fr) !important; } }
@media (max-width: 1100px) { #rs-media-grid-content { grid-template-columns: repeat(3, 1fr); } #rs-media-grid-content.compact-view { grid-template-columns: repeat(5, 1fr) !important; } }

.media-header-row { display: flex; justify-content: space-between; align-items: center; padding: 15px 0 10px 0; }
.section-title { font-weight: 700; color: var(--muted); font-size: 0.85rem; letter-spacing: 0.5px; text-transform: uppercase; }
.header-tools { display: flex; gap: 15px; color: var(--muted); font-size: 1rem; }
.header-tools i { cursor: pointer; transition: color 0.2s; }
.header-tools i:hover { color: var(--primary-cyan); }
.header-tools i.active { color: var(--primary-cyan); }
.media-filter-chips { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; scrollbar-width: none; margin-bottom: 5px; }
.media-filter-chips::-webkit-scrollbar { display: none; }
.media-filter-chips .n-pill { padding: 5px 15px; font-size: 0.85rem; border-radius: 20px; background: rgba(255,255,255,0.1); border: none; white-space: nowrap; color: var(--text); cursor: pointer; transition: background 0.2s; }
.media-filter-chips .n-pill:hover { background: var(--hover-bg); }
.media-filter-chips .n-pill.active { background: var(--primary-cyan); color: #000; }

.tm-popover-menu { position: fixed; top: 5px; left: 275px; bottom: auto; width: 320px; height: auto; max-height: 95vh; overflow: visible; background: var(--card-bg); border: 1px solid var(--primary-cyan); border-radius: 16px; box-shadow: 5px 10px 40px rgba(0,0,0,0.8); z-index: 2000; display: flex; flex-direction: column; opacity: 0; pointer-events: none; transform: scale(0.98); transform-origin: top left; transition: opacity 0.2s ease, transform 0.2s ease; }
.tm-popover-menu.is-open { opacity: 1; pointer-events: auto; transform: scale(1); }
.pop-header { padding: 20px; background: rgba(255,255,255,0.03); border-bottom: 1px solid rgba(255,255,255,0.1); }
body.tm-light .pop-header { background: #f7f7f7; border-bottom: 1px solid #ddd; }
.pop-user-section { display: flex; align-items: center; gap: 12px; margin-bottom: 15px; }
.pop-avatar { position: relative; width: 40px; height: 40px; }
.pop-avatar img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 2px solid var(--primary-cyan); }
.pop-online { position: absolute; bottom: 0; right: 0; width: 10px; height: 10px; background: #46e85e; border-radius: 50%; border: 2px solid #0d1423; }
.pop-info { flex: 1; display: flex; flex-direction: column; }
.pop-info strong { color: var(--text); font-size: 0.95rem; }
.pop-info span { color: var(--muted); font-size: 0.8rem; }
.btn-close-pop { background: transparent; border: none; color: var(--muted); cursor: pointer; font-size: 1.2rem; padding: 5px; }
.btn-close-pop:hover { color: var(--text); }
.pop-stats { display: flex; gap: 20px; font-size: 0.9rem; }
.stat-item strong { color: var(--text); }
.stat-item span { color: var(--muted); font-weight: 500; }
.pop-content-full { padding: 10px 0; }
.pop-group { display: flex; flex-direction: column; }
.pop-item { display: flex; align-items: center; gap: 10px; padding: 12px 20px; color: var(--text); font-size: 0.95rem; transition: background 0.2s; text-decoration: none; cursor: pointer; }
.pop-item:hover { background: rgba(100, 233, 238, 0.1); color: var(--primary-cyan); }
.pop-item i { width: 20px; text-align: center; color: var(--muted); }
.pop-item:hover i { color: var(--primary-cyan); }
.pop-item.danger { color: #ff4757; }
.pop-item.danger:hover { background: rgba(255, 71, 87, 0.1); }
.pop-item .muted { color: var(--muted); font-size: 0.8rem; margin-left: 5px; }
.pop-divider { height: 1px; background: rgba(255,255,255,0.1); margin: 5px 0; }
body.tm-light .pop-divider { background: #ddd; }
.toggle-row { justify-content: space-between; }
.flex-icon { display: flex; gap: 10px; align-items: center; } 
.switch { position: relative; display: inline-block; width: 40px; height: 22px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; }
body.tm-light .slider { background-color: #ccc; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--primary-cyan); }
input:checked + .slider:before { transform: translateX(18px); background-color: #000; }

.ac-section { margin-bottom: 30px; }
.ac-title { font-size: 0.95rem; font-weight: 700; color: var(--muted); margin-bottom: 15px; letter-spacing: 0.5px; }
.ac-desc { font-size: 0.9rem; color: var(--text); margin-bottom: 20px; opacity: 0.8; }
.ac-form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
.ac-group { display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px; }
.ac-group label { font-size: 0.85rem; font-weight: 600; color: var(--text); }
.ac-group input, .ac-group select { background: var(--card-bg); border: var(--border); color: var(--text); padding: 12px 15px; border-radius: 8px; font-size: 0.95rem; outline: none; transition: border-color 0.2s; }
.ac-group input:focus, .ac-group select:focus { border-color: var(--primary-cyan); }
.input-with-icon { position: relative; display: flex; align-items: center; }
.input-with-icon input { width: 100%; padding-right: 40px; }
.input-with-icon i { position: absolute; right: 15px; color: var(--muted); font-size: 1.2rem; }
.ac-check-row { display: flex; gap: 10px; align-items: flex-start; margin-bottom: 25px; font-size: 0.9rem; color: var(--text); line-height: 1.4; }
.ac-check-row input { margin-top: 3px; accent-color: var(--primary-cyan); }
.ac-submit-row { display: flex; justify-content: flex-end; margin-bottom: 40px; }

.btn-submit-card { background: var(--primary-cyan); color: #000; font-weight: 700; border: none; padding: 12px 50px; border-radius: 30px; cursor: pointer; font-size: 1rem; transition: transform 0.2s; width: auto; min-width: 180px; }
.btn-submit-card:hover { transform: scale(1.02); opacity: 0.9; }
.btn-add-payment-card { width: auto; display: block; margin: 0 auto 20px auto; background: var(--primary-cyan); color: #000; font-weight: 700; border: none; padding: 10px 30px; border-radius: 30px; cursor: pointer; font-size: 0.9rem; transition: transform 0.2s; }
.btn-add-payment-card:hover { transform: scale(1.05); }

.crypto-logos { display: flex; gap: 10px; justify-content: center; margin-bottom: 20px; flex-wrap: wrap; }
.crypto-badge { background: #1a1a1a; border: 1px solid #333; border-radius: 50px; padding: 8px 16px; font-size: 0.9rem; font-weight: 600; color: #fff; display: flex; align-items: center; gap: 8px; cursor: default; pointer-events: none; }
.crypto-badge i { font-size: 1.1rem; }

.wallet-widget-card { background: var(--card-bg); border: var(--border); border-radius: 12px; margin-bottom: 20px; overflow: hidden; }
.ww-header { padding: 20px; border-bottom: var(--border); }
.ww-amount { margin: 0; font-size: 2rem; font-weight: 800; color: var(--text); }
.ww-label { font-size: 0.9rem; color: var(--muted); }
.ww-body { padding: 20px; }
.ww-toggle-row { display: flex; justify-content: space-between; align-items: center; font-size: 0.85rem; color: var(--text); gap: 10px; }
.ww-empty { display: flex; flex-direction: column; align-items: center; gap: 10px; color: var(--muted); padding: 20px 0; font-size: 0.9rem; }
.ww-empty i { font-size: 2rem; opacity: 0.5; }

.tm-modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 5000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(2px); opacity: 0; visibility: hidden; transition: all 0.2s; }
.tm-modal-overlay.open { opacity: 1; visibility: visible; }
.tm-modal-content { background: #fff; color: #333; width: 95%; max-width: 550px; border-radius: 8px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); display: flex; flex-direction: column; max-height: 90vh; }
.tm-modal-header { padding: 20px 25px; border-bottom: 1px solid #eee; }
.tm-modal-header h3 { margin: 0; font-size: 1rem; font-weight: 700; letter-spacing: 0.5px; color: #333; }
.tm-modal-body { padding: 25px; overflow-y: auto; flex: 1; }
.crypto-logos-container { display: flex; justify-content: center; gap: 15px; margin: 30px 0 20px; padding-top: 20px; border-top: 1px solid #eee; }
.c-logo { width: 35px; height: 35px; border-radius: 50%; background: #f5f5f5; border: 1px solid #ddd; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; position: relative; cursor: help; transition: transform 0.2s; }
.c-logo:hover { transform: scale(1.1); border-color: var(--primary-cyan); }
.tm-modal-footer { padding: 15px 25px; border-top: 1px solid #eee; display: flex; justify-content: flex-end; gap: 15px; }
.btn-cancel-modal { background: transparent; border: none; color: var(--primary-cyan); font-weight: 700; font-size: 0.9rem; cursor: pointer; letter-spacing: 0.5px; }
.btn-submit-card-modal { background: transparent; border: none; color: #aaa; font-weight: 700; font-size: 0.9rem; cursor: pointer; letter-spacing: 0.5px; }
.btn-submit-card-modal:hover { color: var(--primary-cyan); }
body.tm-dark .tm-modal-content { background: #1a1a1a; color: #fff; }
body.tm-dark .tm-modal-header, body.tm-dark .tm-modal-footer, body.tm-dark .crypto-logos-container { border-color: #333; }
body.tm-dark .tm-modal-header h3 { color: #fff; }
body.tm-dark .c-logo { background: #252525; border-color: #444; }

.of-warning-box { background: rgba(255, 71, 87, 0.15); border: 1px solid #ff4757; border-radius: 6px; padding: 15px; display: flex; gap: 15px; color: var(--text); margin-bottom: 20px; }
.wb-icon { color: #ff4757; font-size: 1.2rem; padding-top: 2px; }
.wb-text strong { font-size: 0.95rem; display: block; margin-bottom: 5px; }
.wb-text ul { margin: 0; padding-left: 20px; font-size: 0.9rem; line-height: 1.4; color: var(--text); opacity: 0.9; }
.profile-setup-container { position: relative; margin-bottom: 80px; }
.setup-header-img { height: 220px; background: linear-gradient(135deg, #1e2a3b 0%, #0d1423 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; border: 1px dashed rgba(255,255,255,0.2); cursor: pointer; transition: background 0.2s; }
.setup-header-img:hover { background: rgba(255,255,255,0.05); }
.cam-circle { width: 40px; height: 40px; border: 2px solid rgba(255,255,255,0.5); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: rgba(255,255,255,0.8); font-size: 1.1rem; }
.setup-avatar-wrapper { position: absolute; bottom: -50px; left: 20px; }
.setup-avatar-placeholder { width: 100px; height: 100px; background: #141414; border: 4px solid var(--bg); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--primary-cyan); font-weight: 700; font-size: 2rem; position: relative; cursor: pointer; }
.avatar-cam-overlay { position: absolute; inset: 0; border-radius: 50%; background: rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; color: #fff; font-size: 1.5rem; opacity: 0; transition: opacity 0.2s; }
.setup-avatar-placeholder:hover .avatar-cam-overlay { opacity: 1; }
.bio-input-group { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden; margin-bottom: 20px; display: flex; flex-direction: column; }
.bio-wrapper { position: relative; padding: 20px 15px 5px 15px; }
.bio-wrapper textarea { width: 100%; background: transparent; border: none; outline: none; color: var(--text); font-size: 1rem; resize: none; height: 100px; padding: 0; }
.bio-wrapper label { position: absolute; top: 20px; left: 15px; color: var(--muted); pointer-events: none; transition: 0.2s ease all; font-size: 1rem; }
.bio-wrapper textarea:focus + label, .bio-wrapper textarea:not(:placeholder-shown) + label { top: 5px; font-size: 0.75rem; color: var(--primary-cyan); font-weight: 700; }
.bio-footer { display: flex; justify-content: flex-end; align-items: center; padding: 5px 15px 10px; gap: 15px; color: var(--muted); font-size: 0.85rem; }
.setup-actions { display: flex; justify-content: flex-end; }
.btn-save-setup { background: var(--primary-cyan); color: #000; border: none; padding: 10px 25px; border-radius: 20px; font-weight: 700; font-size: 0.9rem; cursor: pointer; text-transform: uppercase; }
.btn-save-setup:disabled { background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.3); cursor: default; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

/* ===== end feed.css ===== */

/* ======================================================
   2. GLOBAL VARIABLES & RESET
   ====================================================== */
:root {
  /* DARK MODE DEFAULT */
  --bg: #02040a; 
  --primary-cyan: #64E9EE;
  --text: #F6FAFF;
  --muted: #8a96a3;
  --card-bg: #0d1423;
  --border-color: rgba(255, 255, 255, 0.1);
  --border: 1px solid var(--border-color); 
  --hover-bg: rgba(255, 255, 255, 0.08);
  --input-bg: rgba(255, 255, 255, 0.05);
  --input-border: rgba(255, 255, 255, 0.2);
  --input-text: #fff;
  --search-bg: #242529;

  /* Z-INDEX LAYERS (FIXED HIERARCHY) */
  --z-back: -1;
  --z-normal: 1;
  --z-sticky: 50; 
  --z-header: 60; 
  --z-chat-overlay: 4000;    /* Mobile Chat View */
  --z-sidebar-overlay: 5000; /* Right Sidebar Mobile */
  --z-menu-overlay: 6000;    /* Left Drawer/Popover Mobile */
  --z-modal: 8000;           /* Custom Modals (Add Card) */
  --z-alert: 9000;           /* SweetAlert2 */
  --z-loader: 99999;
}

/* LIGHT MODE OVERRIDES */
body.tm-light {
  --bg: #F0F2F5;       
  --text: #1c1e21;     
  --muted: #65676B;    
  --card-bg: #FFFFFF;  
  --border-color: #CED0D4;
  --border: 1px solid var(--border-color);
  --hover-bg: #E4E6EB;
  --input-bg: #FFFFFF; 
  --input-border: #ccc;
  --input-text: #050505;
  --search-bg: #FFFFFF; 
}

body.tm-light select option {
    background-color: #fff;
    color: #000;
}

*, *::before, *::after { box-sizing: border-box; }

body {
  margin: 0; padding: 0;
  background-color: var(--bg) !important;
  color: var(--text);
  font-family: 'Montserrat', sans-serif;
  height: 100dvh; /* Mobile Fix */
  overflow: hidden; 
  transition: background-color 0.3s, color 0.3s;
}

input, textarea, select { color: var(--input-text) !important; font-family: 'Montserrat', sans-serif; }
#tm-bg-canvas { position: fixed; inset: 0; width: 100vw; height: 100vh; z-index: var(--z-back); pointer-events: none; }
a { text-decoration: none; color: inherit; }
.hidden { display: none !important; }

/* FIX: Remove default arrow for custom select wrappers */
select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}

::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--primary-cyan); }

/* ======================================================
   3. SETTINGS MENU STYLES
   ====================================================== */
.settings-menu { padding: 10px 0; }
.set-group-title { padding: 20px 20px 10px; font-size: 0.8rem; font-weight: 700; color: var(--muted); text-transform: uppercase; border-bottom: 1px solid var(--border-color); }
.set-item { display: flex; align-items: center; padding: 15px 20px; cursor: pointer; transition: background 0.2s; border-bottom: 1px solid var(--border-color); }
.set-item:hover { background: var(--hover-bg); }
.set-item.active { background: rgba(100, 233, 238, 0.1); border-left: 3px solid var(--primary-cyan); padding-left: 17px; }
.set-icon { width: 40px; font-size: 1.2rem; color: var(--text); }
.set-info { flex: 1; display: flex; flex-direction: column; }
.set-info span { font-size: 0.95rem; font-weight: 600; }
.set-info small { font-size: 0.75rem; color: var(--muted); }

/* Crypto Pill Style (Moved from Inline) */
.crypto-pill { display: inline-flex; align-items: center; gap: 8px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; color: var(--muted); }
body.tm-light .crypto-pill { background: #e4e6eb; border-color: #ccc; color: #333; }

/* ======================================================
   4. FORM UI
   ====================================================== */
#rs-settings-view { padding: 0 !important; background: var(--bg); }

.ac-group { display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px; }
.ac-group label { font-size: 0.8rem; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px; }

.ac-group input, 
.ac-group textarea, 
.ac-group select { 
    background: var(--input-bg) !important;
    border: 1px solid var(--input-border) !important;
    color: var(--input-text) !important; 
    padding: 15px; 
    border-radius: 6px; 
    font-size: 1rem; 
    outline: none; 
    transition: all 0.2s; 
    width: 100%;
    min-height: 50px; 
}

.ac-group input:focus, 
.ac-group textarea:focus,
.ac-group select:focus { 
    border-color: var(--primary-cyan) !important; 
    background: rgba(100, 233, 238, 0.05) !important; 
    box-shadow: 0 0 0 1px var(--primary-cyan); 
}

.char-count { position: absolute; bottom: 5px; right: 15px; font-size: 0.7rem; color: var(--muted); pointer-events: none; }

.set-section-header { font-size: 0.85rem; font-weight: 700; color: var(--text); margin-top: 20px; margin-bottom: 10px; padding-left: 5px; }
.set-link-row { display: flex; justify-content: space-between; align-items: center; padding: 15px 10px; border-bottom: 1px solid var(--border-color); cursor: pointer; transition: background 0.2s; font-size: 0.95rem; color: var(--muted); }
.set-link-row:hover { background: var(--hover-bg); color: var(--primary-cyan); padding-left: 15px; }

.ac-submit-row { display: flex; justify-content: flex-end; margin-top: 10px; }
.ac-submit-row button, .btn-submit-card { width: auto; min-width: 150px; padding: 12px 30px; background: var(--primary-cyan); color: #000; font-weight: 800; border: none; border-radius: 30px; cursor: pointer; font-size: 0.95rem; transition: transform 0.2s; }
.ac-submit-row button:hover, .btn-submit-card:hover { transform: translateY(-2px); opacity: 0.9; }

/* ======================================================
   5. GLOBAL MODALS & UTILS
   ====================================================== */
#app-loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: var(--z-loader); display: flex; align-items: center; justify-content: center; flex-direction: column; transition: opacity 0.5s ease-out, visibility 0.5s ease; }
.loader-logo { width: 80px; height: 80px; border-radius: 50%; animation: pulseLogo 2s infinite; }
.loader-text { margin-top: 15px; font-weight: 700; letter-spacing: 1px; font-size: 1.2rem; color: #fff; }
@keyframes pulseLogo {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(100, 233, 238, 0.7); }
    70% { transform: scale(1.1); box-shadow: 0 0 0 20px rgba(100, 233, 238, 0); }
    100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(100, 233, 238, 0); }
}

.payment-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: var(--z-modal); display: none; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
.payment-overlay.is-visible { display: flex !important; }
.payment-card { background: var(--card-bg); padding: 40px; border-radius: 20px; width: 90%; max-width: 400px; border: 1px solid var(--primary-cyan); text-align: center; }
.btn-group-modal { display: flex; gap: 10px; margin-top: 20px; }
.btn-modal { flex: 1; padding: 12px; border-radius: 50px; border: 1px solid; cursor: pointer; font-weight: 700; }
.btn-modal.primary { background: var(--primary-cyan); border-color: var(--primary-cyan); }
.btn-modal.ghost { background: transparent; border-color: var(--text); color: var(--text); }

/* SweetAlert Global Styles */
div:where(.swal2-container) { z-index: var(--z-alert) !important; }
div:where(.swal2-container) h2:where(.swal2-title) { color: var(--text) !important; font-family: 'Montserrat', sans-serif; font-weight: 800; }
div:where(.swal2-container) .swal2-html-container { color: var(--muted) !important; }
div:where(.swal2-container) input:where(.swal2-input) { background: var(--input-bg) !important; border: 1px solid var(--input-border) !important; color: var(--input-text) !important; }
div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm { background: linear-gradient(135deg, #64E9EE 0%, #4bc5ca 100%) !important; color: #000 !important; border-radius: 50px !important; }
div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel { background: transparent !important; color: var(--muted) !important; border: 1px solid var(--border-color) !important; border-radius: 50px !important; }

/* ================= RESPONSIVE FIXES ================= */
@media (max-width: 1024px) { 
  .right-sidebar { display: none; }
  .right-sidebar.wide-view { display: none; }
  .main-feed-column { border-right: var(--border); flex: 1; min-width: 0; max-width: none; }
}

@media (max-width: 1000px) {
  .left-sidebar { width: 80px; align-items: center; }
  .sidebar-inner { width: 100%; padding: 20px 0; align-items: center; }
  .nav-text, .btn-text, .profile-header-card, .sidebar-brand-footer { display: none; }
  .nav-item { justify-content: center; padding: 15px; }
  .nav-icon { font-size: 1.6rem; width: auto; }
  .btn-new-post { width: 50px; height: 50px; border-radius: 50%; padding: 0; margin-top: 20px; }
}

@media (max-width: 768px) {
  .of-layout-container { display: block; overflow: auto; }
  .left-sidebar, .right-sidebar { display: none !important; }
  .mobile-bottom-nav { display: flex; }
  .main-feed-column { width: 100%; border: none; margin-bottom: 0; height: auto; overflow: visible; }
  .feed-top-header { padding: 10px 15px; }
}

/* ================= ONLYFANS STYLE CARDS UI ================= */
.of-alert-box { background: rgba(255, 71, 87, 0.1); border: 1px solid #ff4757; color: var(--text); padding: 15px; border-radius: 4px; display: flex; align-items: center; gap: 15px; font-size: 0.95rem; line-height: 1.4; }
.of-alert-box i { color: #ff4757; font-size: 1.2rem; flex-shrink: 0; }

/* ======================================================
   6. MOBILE FULL-SCREEN COMPOSER (Option C)
   ====================================================== */
.tm-compose-sheet {
  position: fixed;
  inset: 0;
  z-index: 6500;
  background: rgba(0, 0, 0, 0.72);
  backdrop-filter: blur(12px);
  display: none;
  align-items: flex-end;
  justify-content: center;
}

.tm-compose-sheet.is-open { display: flex; }

.tm-compose-sheet .tm-sheet {
  width: 100%;
  max-width: 760px;
  height: min(92dvh, 840px);
  background: var(--bg);
  border: 1px solid var(--border-color);
  border-bottom: none;
  border-radius: 20px 20px 0 0;
  overflow: hidden;
  transform: translateY(30px);
  opacity: 0;
  transition: transform 0.22s ease, opacity 0.22s ease;
  display: flex;
  flex-direction: column;
}

.tm-compose-sheet.is-open .tm-sheet {
  transform: translateY(0);
  opacity: 1;
}

.tm-sheet-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--border-color);
  background: rgba(2, 4, 10, 0.95);
  backdrop-filter: blur(10px);
}
body.tm-light .tm-sheet-header { background: rgba(255,255,255,0.95); }

.tm-sheet-close {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid var(--border-color);
  color: var(--text);
  cursor: pointer;
  display: grid;
  place-items: center;
}

.tm-sheet-close:hover { background: rgba(255, 255, 255, 0.1); }

.tm-sheet-title { font-weight: 800; font-size: 0.95rem; color: var(--text); }
.tm-sheet-spacer { flex: 1; }

.tm-sheet-body {
  flex: 1;
  overflow: auto;
  padding: 16px;
}

/* When the composer is inside the sheet, tighten spacing a bit */
#tmComposeSheetBody .compose-area {
  margin: 0;
}

body.compose-sheet-open .mobile-bottom-nav { display: none !important; }
body.compose-sheet-open .of-layout-container { overflow: hidden !important; }

@media (max-width: 768px) {
  .tm-compose-sheet { align-items: stretch; }
  .tm-compose-sheet .tm-sheet {
    height: 100dvh;
    max-width: none;
    border-radius: 0;
    border-left: none;
    border-right: none;
  }
  .tm-sheet-body { padding-bottom: 24px; }
}
.of-alert-box a { color: var(--primary-cyan); text-decoration: none; font-weight: 600; }
.of-info-box { background: rgba(0, 145, 234, 0.1); border: 1px solid #0091ea; color: var(--text); padding: 15px; border-radius: 4px; display: flex; align-items: center; gap: 15px; font-size: 0.95rem; }
.of-info-box i { color: #0091ea; font-size: 1.2rem; flex-shrink: 0; }
.of-card-logos { display: flex; gap: 15px; justify-content: center; margin: 30px 0; font-size: 2rem; color: var(--text); opacity: 0.8; }
.of-footer-address { text-align: center; color: var(--muted); font-size: 0.75rem; line-height: 1.6; margin-top: 40px; padding: 0 20px; }
.of-footer-address p { margin: 5px 0; }
.right-sidebar .btn-add-payment-card { background: #00baec !important; color: #fff !important; text-transform: uppercase; }

/* ================= CREATOR VERIFICATION STEPS ================= */
.creator-steps { display: flex; flex-direction: column; gap: 20px; }
.step-item { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; display: flex; align-items: center; gap: 15px; opacity: 0.5; transition: 0.3s; }
.step-item.active { opacity: 1; border-color: var(--primary-cyan); box-shadow: 0 0 15px rgba(100, 233, 238, 0.1); }
.step-num { width: 35px; height: 35px; background: var(--input-bg); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800; flex-shrink: 0; }
.step-item.active .step-num { background: var(--primary-cyan); color: #000; }
.step-info h4 { margin: 0; font-size: 1rem; }
.step-info p { margin: 5px 0 0; font-size: 0.85rem; color: var(--muted); }
.step-check { margin-left: auto; color: var(--primary-cyan); font-size: 1.2rem; }

/* ==========================================================
   ðŸ”¥ðŸ”¥ðŸ”¥ FIX: SWEETALERT LAYOUTING (MODAL vs TOAST) ðŸ”¥ðŸ”¥ðŸ”¥
   ========================================================== */

/* 1. DEFAULT MODAL (Dark Background, Centered) */
div:where(.swal2-container):not(.swal2-top-end):not(.swal2-top-right) {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 100% !important;
    background: rgba(0, 0, 0, 0.8) !important;
    z-index: var(--z-alert) !important;
}

div:where(.swal2-container):not(.swal2-top-end):not(.swal2-top-right) .swal2-popup {
    margin: auto !important;
    background: var(--card-bg) !important;
    border: 1px solid rgba(100, 233, 238, 0.3) !important;
    border-radius: 24px !important;
    padding: 30px !important;
    color: var(--text) !important;
}

/* 2. TOAST FIX (Transparent Background, Top Right) */
div:where(.swal2-container).swal2-top-end,
div:where(.swal2-container).swal2-top-right {
    background-color: transparent !important;
    width: auto !important;
    height: auto !important;
    inset: auto !important;
    top: 0 !important;
    right: 0 !important;
    bottom: auto !important;
    left: auto !important;
    pointer-events: none !important;
    z-index: var(--z-alert) !important;
}

div:where(.swal2-container).swal2-top-end .swal2-popup {
    pointer-events: auto !important;
    margin: 15px !important;
    background: var(--card-bg) !important;
    border: 1px solid var(--border-color) !important;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}

/* ===== layout.css ===== */
/* ==========================================================
   GLOBAL CUSTOM SCROLLBAR (WINDOWS STYLE)
   ========================================================== */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--primary-cyan); }
* { scrollbar-width: thin; scrollbar-color: #333 var(--bg); }

/* ================= FORCE APP LAYOUT ================= */
html, body {
  width: 100%; 
  height: 100%; 
  margin: 0; 
  padding: 0; 
  overflow: hidden; 
  touch-action: pan-y; 
}

.of-layout-container {
  display: flex; 
  width: 100%; 
  height: 100dvh; /* Mobile Fix */
  align-items: stretch; 
  overflow: hidden;
}

/* ================= LEFT SIDEBAR (FIXED - DESKTOP) ================= */
.left-sidebar {
  width: 275px; 
  flex-shrink: 0; 
  display: flex; 
  justify-content: flex-end; 
  border-right: var(--border); 
  background: var(--bg); 
  z-index: var(--z-sticky);
  height: 100dvh; 
  overflow-y: auto; 
}

.left-sidebar .sidebar-inner { 
  width: 240px; 
  padding: 20px 10px; 
  min-height: 100%; 
  display: flex; 
  flex-direction: column; 
}

/* Menu Items */
.nav-item { 
  display: flex; 
  align-items: center; 
  gap: 20px; 
  padding: 12px 15px; 
  border-radius: 30px; 
  color: var(--text); 
  transition: background 0.2s; 
  margin-bottom: 5px; 
  font-size: 1.1rem; 
  white-space: nowrap; 
  text-decoration: none; 
}

.nav-item:hover { 
  background: var(--hover-bg); 
  color: var(--primary-cyan); 
}

.nav-item.active { 
  color: var(--primary-cyan); 
  font-weight: 700; 
}

.nav-item.active .nav-icon i {
    color: var(--primary-cyan);
}

.nav-icon { 
  width: 30px; 
  display: flex; 
  justify-content: center; 
  font-size: 1.3rem; 
}

.btn-new-post { 
  margin-top: 30px; 
  background: var(--primary-cyan); 
  color: #000; 
  border: none; 
  padding: 14px 0; 
  border-radius: 30px; 
  width: 100%; 
  font-weight: 800; 
  font-size: 1rem; 
  cursor: pointer; 
  transition: transform 0.2s; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  gap: 10px; 
  box-shadow: 0 4px 15px rgba(100, 233, 238, 0.3); 
}

.btn-new-post:hover { transform: translateY(-2px); }

.sidebar-brand-footer { 
  margin-top: auto; 
  display: flex; 
  align-items: center; 
  gap: 10px; 
  padding: 15px; 
  border-top: var(--border); 
  opacity: 0.7; 
}

.sidebar-brand-footer img { width: 30px; height: 30px; }
.brand-text { display: flex; flex-direction: column; line-height: 1.1; }
.brand-text span { font-weight: 800; font-size: 0.9rem; letter-spacing: 1px; }
.brand-text small { font-size: 0.65rem; }

/* ================= CENTER COLUMN (MASTER SCROLL) ================= */
.main-feed-column {
  flex-grow: 1; 
  min-width: 0; 
  width: auto; 
  border-right: var(--border); 
  position: relative; 
  height: 100dvh; 
  overflow-y: auto; 
  overflow-x: hidden; 
  padding-bottom: 100px;
}

#view-my-profile, #view-home, #view-notifications, #view-collections, #view-settings {
    height: auto !important; 
    overflow-y: visible !important; 
    min-height: 0 !important; 
    display: block; 
}

.main-feed-column:has(#view-messages[style*="display: flex"]) {
    overflow: hidden !important; 
    padding-bottom: 0 !important; 
    display: flex !important; 
    flex-direction: column; 
    width: 100% !important; 
    max-width: none !important;
}

.main-feed-column.narrow-view {
    flex-grow: 0; 
    flex-shrink: 0; 
    width: 460px; 
    max-width: 460px; 
    padding-bottom: 0;
}

/* ================= RIGHT SIDEBAR (FIXED - DESKTOP DEFAULT) ================= */
.right-sidebar { 
    width: 350px; 
    min-width: 350px; 
    flex-shrink: 0; 
    display: flex; 
    flex-direction: column; 
    background: var(--bg); 
    border-left: none; 
    height: 100dvh; 
    overflow-y: auto; 
    z-index: var(--z-sticky);
}

.right-sidebar .sidebar-inner { 
    padding: 20px 25px; 
    width: 100%; 
    min-height: 100%; 
    display: flex; 
    flex-direction: column;
    align-items: stretch !important; 
}

#rs-settings-view { padding: 0 !important; overflow-x: hidden; }

.right-sidebar.wide-view { 
    flex-grow: 1; 
    width: auto; 
    min-width: 0; 
    max-width: none; 
    position: relative; 
    overflow-x: hidden; 
    padding-bottom: 50px; 
}

.right-sidebar.hidden-sidebar { 
    display: none !important; 
}

/* ================= POPOVER MENU (DESKTOP DEFAULT) ================= */
.tm-popover-menu {
    position: fixed;
    bottom: 80px; 
    left: 40px; 
    width: 280px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    z-index: 9999;
    display: none; 
    flex-direction: column; 
    overflow: hidden;
    padding-bottom: 0; 
}

.tm-popover-menu.is-open {
    display: flex; 
    animation: popUp 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.pop-header { background: rgba(255,255,255,0.03); padding: 15px; border-bottom: var(--border); flex-shrink: 0; }
.pop-user-section { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; position: relative; }
.pop-avatar { position: relative; width: 45px; height: 45px; }
.pop-avatar img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
.pop-online { position: absolute; bottom: 0; right: 0; width: 10px; height: 10px; background: #2ecc71; border: 2px solid var(--card-bg); border-radius: 50%; }
.pop-info { display: flex; flex-direction: column; overflow: hidden; }
.pop-info strong { font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.pop-info span { font-size: 0.8rem; color: var(--muted); }
.btn-close-pop { position: absolute; top: 0; right: 0; background: transparent; border: none; color: var(--text); cursor: pointer; display: none; }

.pop-stats { display: flex; justify-content: space-around; }
.stat-item { display: flex; flex-direction: column; align-items: center; font-size: 0.85rem; }
.stat-item span { color: var(--muted); font-size: 0.75rem; }

/* Content Area */
.pop-content-full { 
    padding: 10px 0; 
    overflow-y: auto; 
    flex-grow: 1; 
    max-height: 400px; 
}

.pop-item { display: flex; align-items: center; gap: 15px; padding: 12px 20px; color: var(--text); text-decoration: none; transition: 0.2s; font-size: 0.95rem; font-weight: 500; cursor: pointer; }
.pop-item:hover { background: var(--hover-bg); color: var(--primary-cyan); }
.pop-item i { width: 25px; text-align: center; }
.pop-divider { height: 1px; background: var(--border-color); margin: 5px 0; }
.pop-item.danger { color: #ff4757; }
.pop-item.danger:hover { background: rgba(255, 71, 87, 0.1); }
.pop-item.toggle-row { justify-content: space-between; }
.flex-icon { display: flex; align-items: center; gap: 15px; }

.pop-footer {
    padding: 15px;
    border-top: var(--border);
    background: var(--card-bg); 
    flex-shrink: 0;
}

.logout-btn {
    justify-content: center;
    background: rgba(255, 71, 87, 0.05);
    border-radius: 8px;
    font-weight: 700;
}
.logout-btn:hover {
    background: rgba(255, 71, 87, 0.15);
}

@keyframes popUp {
    from { opacity: 0; transform: translateY(10px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}

/* ================= RESPONSIVE COMPONENTS ================= */

/* FIXED FOOTER (Mobile/Tablet Only) */
.mobile-bottom-nav { 
    display: none; 
    position: fixed; 
    bottom: 0; 
    left: 0; 
    width: 100%; 
    height: 60px; 
    background: rgba(2, 4, 10, 0.98); 
    backdrop-filter: blur(10px); 
    border-top: var(--border); 
    justify-content: space-around; 
    align-items: center; 
    z-index: 9999; 
    padding-bottom: env(safe-area-inset-bottom); 
}

.mob-nav-item { color: var(--muted); font-size: 1.4rem; padding: 10px 20px; position: relative; cursor: pointer; }
.mob-nav-item.active { color: var(--primary-cyan); }
.add-circle { width: 45px; height: 45px; background: var(--primary-cyan); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; font-size: 1.2rem; margin-top: -25px; border: 4px solid var(--bg); box-shadow: 0 0 10px var(--primary-cyan); }

/* HEADER ICONS ALIGNMENT */
.feed-top-header { display: flex; align-items: center; justify-content: space-between; padding: 10px 20px; }
.feed-top-header > h1, .feed-top-header > h2, .feed-top-header > span { margin-right: auto; }
.feed-top-header i { margin-left: 15px; font-size: 1.1rem; color: var(--text); cursor: pointer; }

/* HIDE HAMBURGER ON DESKTOP DEFAULT */
.header-toggle-btn { display: none; }

/* Mobile Back Button (Drawer) */
.mobile-drawer-back {
    display: none; align-items: center; gap: 10px; padding: 10px 0 20px 0; margin-bottom: 10px;
    border-bottom: 1px solid rgba(255,255,255,0.1); cursor: pointer; color: var(--primary-cyan); font-weight: 700; font-size: 0.95rem;
}

/* ==========================================================
   ðŸ”¥ðŸ”¥ðŸ”¥ LAPTOP (1025px - 1440px) ðŸ”¥ðŸ”¥ðŸ”¥
   ========================================================== */
@media (min-width: 1025px) and (max-width: 1440px) {
    .left-sidebar { width: 220px !important; } 
    .left-sidebar .sidebar-inner { padding: 15px 10px !important; width: 100% !important; }
    
    .tm-popover-menu { 
        left: 222px !important; 
        width: 265px !important;  
        top: 10px !important; 
        bottom: auto !important; 
        height: auto !important; 
        min-height: 0 !important;
        display: none; 
    }

    .pop-content-full {
        flex-grow: 0 !important;
        max-height: 350px !important; 
        padding: 5px 0 !important;
    }

    .tm-popover-menu .pop-item {
        padding: 7px 15px !important;
        font-size: 0.85rem !important;
    }
    .tm-popover-menu .pop-divider { margin: 2px 0 !important; }
    .tm-popover-menu .pop-header { padding: 10px 15px !important; }
    .tm-popover-menu .pop-footer { padding: 10px 15px !important; }

    .tm-popover-menu.is-open {
        display: flex !important;
        flex-direction: column !important;
    }
    
    .right-sidebar { width: 260px !important; min-width: 260px !important; } 
    .right-sidebar .sidebar-inner { padding: 15px 15px !important; }
    .main-feed-column { max-width: 950px !important; } 
    .main-feed-column:has(#view-messages[style*="display: flex"]) { max-width: none !important; width: auto !important; flex: 1 !important; }
    .main-feed-column.narrow-view { width: 420px !important; max-width: 420px !important; }
    .nav-item { padding: 8px 12px !important; font-size: 0.9rem !important; }
    .header-toggle-btn { display: none !important; }
}

/* ==========================================================
   TABLET & MOBILE (Max 1024px)
   ========================================================== */
@media (max-width: 1024px) { 
  html, body { overflow-y: auto !important; height: auto !important; }
  .of-layout-container { height: auto !important; overflow: visible !important; display: block; }
  .mobile-bottom-nav { display: flex !important; }
  .left-sidebar { display: none !important; }

  /* Full Width Feed */
  .main-feed-column, .main-feed-column.narrow-view { 
      width: 100% !important; max-width: none !important; flex: none !important; 
      border-right: none !important; position: static !important; 
      height: auto !important; overflow: visible !important; padding-bottom: 80px !important; 
  }

  /* ðŸ”¥ SAFETY SCROLL FIX: Force scroll if not hidden */
  .main-feed-column:not(.hidden) {
      overflow-y: auto !important;
      height: auto !important;
      padding-bottom: 80px;
  }

  .header-desktop-only { display: none !important; }
  .header-tablet-only { display: flex !important; }
  .header-toggle-btn { display: inline-block !important; } 

  /* ðŸ”¥ MOBILE POPOVER: FULL HEIGHT DRAWER with STICKY FOOTER */
  .tm-popover-menu {
      display: flex !important; 
      flex-direction: column !important;
      position: fixed !important;
      top: 0 !important; 
      bottom: 0 !important;
      right: -320px; /* Start Off-Screen */
      left: auto !important;
      width: 300px !important; 
      height: 100dvh !important; /* Dynamic Viewport Height */
      max-height: none !important; 
      
      background: var(--bg) !important;
      border-left: 1px solid var(--border-color) !important;
      border-radius: 20px 0 0 20px !important;
      
      z-index: var(--z-menu-overlay) !important; /* FIXED Z-INDEX */
      transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: -10px 0 50px rgba(0,0,0,0.8);
      opacity: 1 !important;
      visibility: visible !important;
      padding-bottom: 0 !important;
  }
  
  .tm-popover-menu.is-open { right: 0 !important; }

  .pop-content-full { 
      flex-grow: 1 !important; 
      overflow-y: auto !important;
      max-height: none !important; 
  } 

  .btn-close-pop { display: block !important; }

  /* ðŸ”¥ðŸ”¥ðŸ”¥ SIDEBAR OVERLAY LOGIC - SWIPE ANIMATION FIX ðŸ”¥ðŸ”¥ðŸ”¥ */
  .right-sidebar, 
  .right-sidebar.wide-view { 
      display: flex !important;
      flex-direction: column !important;
      position: fixed !important;
      top: 0; left: 0; right: 0; bottom: 0;
      width: 100% !important;
      height: 100% !important;
      background: var(--bg); 
      z-index: var(--z-sidebar-overlay) !important; /* FIXED Z-INDEX */
      padding-bottom: 60px;
      
      transform: translateX(100%);
      transition: transform 0.35s cubic-bezier(0.2, 0.8, 0.2, 1);
  }
  
  .right-sidebar.mobile-active {
      transform: translateX(0); 
      box-shadow: -10px 0 50px rgba(0,0,0,0.8);
      animation: none !important;
  }
  
  #rs-settings-view .rs-col-header { 
      display: none !important; 
  }
  
  .mobile-drawer-back { display: flex !important; }
  
  body:has(#view-messages[style*="display: flex"]) { overflow: hidden !important; }
  .main-feed-column:has(#view-messages[style*="display: flex"]) { 
      height: 100dvh !important; overflow: hidden !important; padding-bottom: 0 !important; 
  }

  /* ðŸ”¥ FIX: BACK BUTTON STYLING (UPDATED FOR LIGHT MODE) */
  .settings-mobile-back {
        padding: 15px 20px;
        border-bottom: var(--border);
        font-weight: 700;
        font-size: 1.1rem;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        gap: 15px;
        cursor: pointer;
        color: var(--text);
        background: var(--card-bg); 
        width: 100%;
        position: sticky;
        top: 0;
        z-index: 10;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05); 
    }
}

/* ==========================================================
   SAFETY NET
   ========================================================== */
@media (max-width: 1024px) {
    #rs-suggestions-view { display: none !important; }
}
/* ======================================================
   MOBILE PAGE ANIMATIONS (ALL VIEWS)
   ====================================================== */
@media (max-width: 1024px) {
    .view-animate-enter {
        animation: pageSlideIn 0.3s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    }

    @keyframes pageSlideIn {
        from { opacity: 0; transform: translateY(15px) scale(0.98); }
        to { opacity: 1; transform: translateY(0) scale(1); }
    }
}

/* ===== feed.css ===== */
/* ================= FEED COMPONENTS ================= */

/* --- PROFILE HEADER CARD (FIXED SIZING) --- */
.profile-header-card { 
    display: flex; 
    align-items: center; 
    gap: 10px; /* Reduced gap */
    padding: 10px 12px; /* Reduced padding */
    background: rgba(255, 255, 255, 0.03); 
    border: 1px solid rgba(255, 255, 255, 0.1); 
    border-radius: 16px; 
    margin-bottom: 25px; 
    cursor: pointer; 
    transition: all 0.2s ease; 
}
body.tm-light .profile-header-card { background: rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.1); }
body.tm-light .profile-header-card:hover { background: rgba(0,0,0,0.1); }
.profile-header-card:hover { background: rgba(255, 255, 255, 0.08); border-color: var(--primary-cyan); transform: translateY(-2px); }

.ph-avatar-container { 
    position: relative; 
    width: 40px; /* Reduced size from 45px */
    height: 40px; 
    flex-shrink: 0; /* Prevent squeezing */
}
.ph-avatar-container img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 2px solid var(--primary-cyan); }
.status-indicator { position: absolute; bottom: 0; right: 0; width: 10px; height: 10px; background-color: #46e85e; border: 2px solid var(--bg); border-radius: 50%; }

.ph-user-details { 
    flex: 1; 
    display: flex; 
    flex-direction: column; 
    overflow: hidden; 
    justify-content: center;
    min-width: 0; /* ðŸ”¥ Critical fix for text truncation */
}

.ph-name { 
    font-weight: 700; /* Reduced from 800 */
    font-size: 0.9rem; /* Reduced from 0.95rem */
    white-space: nowrap; 
    overflow: hidden; 
    text-overflow: ellipsis; 
    display: flex; 
    align-items: center; 
    gap: 4px; 
    color: var(--text);
    line-height: 1.2;
}
.ph-name i { color: var(--primary-cyan); font-size: 0.8rem; flex-shrink: 0; }

.ph-handle { 
    font-size: 0.75rem; /* Reduced from 0.8rem */
    color: var(--muted); 
    white-space: nowrap; 
    overflow: hidden; 
    text-overflow: ellipsis; 
}

.ph-settings { 
    color: var(--text); 
    font-size: 1rem; 
    opacity: 0.7; 
    transition: 0.2s; 
    flex-shrink: 0;
    margin-left: 5px;
}
.ph-settings:hover { opacity: 1; transform: rotate(45deg); }


/* --- FEED HEADER --- */
.feed-top-header { 
    position: sticky; 
    top: 0; 
    z-index: 40; 
    background: rgba(2, 4, 10, 0.95); 
    backdrop-filter: blur(10px); 
    padding: 15px 20px; 
    border-bottom: var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
}
body.tm-light .feed-top-header { background: rgba(255,255,255,0.95); }
.feed-top-header h2 { margin: 0; font-size: 1.2rem; font-weight: 800; color: var(--text); }

/* --- COMPOSE AREA --- */
.compose-area { 
    background: var(--card-bg); 
    border: var(--border); 
    border-radius: 16px; 
    padding: 20px; 
    margin-bottom: 20px; 
    position: relative;
}

.compose-top { display: flex; gap: 15px; align-items: flex-start; }

.compose-input-wrapper {
    flex: 1;
    background: rgba(255,255,255,0.03);
    border-radius: 12px;
    padding: 10px 15px;
    border: 1px solid transparent;
    transition: 0.2s;
}
.compose-input-wrapper:focus-within { border-color: var(--primary-cyan); background: rgba(255,255,255,0.05); }

.compose-input-wrapper textarea {
    width: 100%; background: transparent; border: none; outline: none; 
    color: var(--text); font-size: 1rem; font-family: 'Montserrat', sans-serif; 
    resize: none; min-height: 40px; padding-top: 5px;
}

.btn-post { 
    background: var(--primary-cyan); color: #000; border: none; padding: 0 25px; 
    border-radius: 20px; font-weight: 800; font-size: 0.85rem; cursor: not-allowed; 
    opacity: 0.5; transition: 0.2s; height: 40px; align-self: flex-start; margin-top: 2px;
}

.compose-actions {
    display: flex; gap: 20px; margin-top: 15px; color: var(--primary-cyan); 
    font-size: 1.2rem; align-items: center; padding-left: 60px;
}
.compose-actions i { cursor: pointer; transition: transform 0.2s; }
.compose-actions i:hover { transform: scale(1.1); color: #fff; }

.feed-divider { height: 8px; background: #000; border-top: var(--border); border-bottom: var(--border); }
body.tm-light .feed-divider { background: #e4e6eb; }

/* --- POLL & TOOLBAR --- */
.poll-creator { margin-top: 15px; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 12px; border: 1px dashed var(--border-color); animation: fadeIn 0.3s ease; }
.poll-header { display: flex; justify-content: space-between; font-weight: 700; font-size: 0.9rem; margin-bottom: 10px; color: var(--primary-cyan); }
.poll-meta { display: flex; gap: 15px; align-items: center; font-size: 0.9rem; color: var(--text); }
.close-poll-btn { cursor: pointer; color: var(--muted); transition: 0.2s; }
.poll-inputs { padding: 5px 0; display: flex; flex-direction: column; gap: 10px; }
.poll-input-row { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
.poll-input-row input { flex: 1; background: transparent; border: 1px solid var(--border-color); padding: 8px; border-radius: 6px; color: var(--text); outline: none; }
.poll-footer { margin-top: 10px; text-align: center; }
.add-option-btn { font-size: 0.85rem; color: var(--primary-cyan); cursor: pointer; font-weight: 600; }

.text-toolbar { margin-top: 10px; padding: 8px; background: var(--bg); border-radius: 8px; display: flex; gap: 5px; animation: fadeIn 0.2s; }
.fmt-btn { background: transparent; border: none; color: var(--muted); width: 30px; height: 30px; border-radius: 4px; cursor: pointer; }
.fmt-btn:hover { background: var(--hover-bg); color: var(--text); }
.fmt-divider { width: 1px; background: var(--border-color); margin: 0 5px; }

/* --- POST CARD --- */
.post-card { background: var(--card-bg); border: var(--border); border-radius: 16px; overflow: visible; margin-bottom: 20px; position: relative; }
.post-header { display: flex; justify-content: space-between; margin-bottom: 15px; position: relative; }
.ph-left { display: flex; gap: 12px; }
.ph-avatar { width: 48px; height: 48px; border-radius: 50%; object-fit: cover; }
.ph-info { display: flex; flex-direction: column; justify-content: center; }
.ph-name { font-size: 1rem; color: var(--text); display: flex; align-items: center; gap: 5px; }
.post-body { font-size: 1rem; line-height: 1.5; color: var(--text); margin-bottom: 15px; }
.post-media { position: relative; border-radius: 4px; overflow: hidden; margin-bottom: 15px; width: 100%; max-height: 600px; }
.media-img { width: 100%; height: auto; display: block; object-fit: cover; }

/* --- POST OPTIONS MENU (THREE DOTS) --- */
.post-options-btn { color: var(--muted); cursor: pointer; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: background 0.2s; }
.post-options-btn:hover { background: var(--hover-bg); color: var(--text); }

.post-menu-dropdown {
    position: absolute;
    top: 35px;
    right: 0;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    width: 180px;
    z-index: 50;
    overflow: hidden;
    animation: fadeIn 0.2s ease;
}
.menu-item { display: flex; align-items: center; gap: 10px; padding: 12px 15px; cursor: pointer; color: var(--text); font-size: 0.9rem; transition: background 0.2s; }
.menu-item:hover { background: var(--hover-bg); color: var(--primary-cyan); }
.menu-item.danger { color: #ff4757; }
.menu-item.danger:hover { background: rgba(255, 71, 87, 0.1); }

/* --- ðŸ”¥ REACTIONS POPUP (FIXED GAP & BRIDGE) ðŸ”¥ --- */
.reaction-wrapper, .comment-reaction-wrapper { 
    position: relative; 
    display: inline-block; 
    /* Siguraduhing nasa ibabaw ito ng ibang elements */
    z-index: 10; 
}

.reaction-picker { 
    position: absolute; 
    bottom: 100%; /* Idikit sa taas ng button */
    left: -10px; 
    margin-bottom: 5px; /* Visual na agwat */
    background: var(--card-bg); 
    border: 1px solid var(--border-color);
    padding: 5px 10px; 
    border-radius: 50px; 
    display: flex; 
    gap: 8px; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.5); 
    z-index: 1000; /* Pinakamataas */
    
    /* Animation States */
    opacity: 0; 
    visibility: hidden; 
    transform: translateY(10px) scale(0.8); 
    transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
    pointer-events: none; /* Iwas click pag nakatago */
}

/* Same styles for Comment Picker */
.comment-reaction-picker {
    position: absolute;
    bottom: 100%;
    left: -10px;
    margin-bottom: 5px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    padding: 5px 10px;
    border-radius: 50px;
    display: flex;
    gap: 5px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5); 
    z-index: 1000;
    
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px) scale(0.8);
    transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    pointer-events: none;
}

/* ðŸ”¥ THE INVISIBLE BRIDGE (ITO ANG SOLUSYON) ðŸ”¥ */
/* Gumagawa ito ng transparent na "tulay" sa pagitan ng button at picker */
.reaction-picker::after,
.comment-reaction-picker::after {
    content: '';
    position: absolute;
    top: 100%; /* Didikit sa ilalim ng picker */
    left: 0;
    width: 100%;
    height: 20px; /* Sapat na kapal para masakop ang gap papuntang button */
    background: transparent; /* Invisible */
}

/* Hover State (Desktop) */
@media (hover: hover) {
    .reaction-wrapper:hover .reaction-picker,
    .comment-reaction-wrapper:hover .comment-reaction-picker { 
        opacity: 1; 
        visibility: visible; 
        transform: translateY(0) scale(1); 
        pointer-events: auto;
        display: flex;
    }
}

/* Active State (Mobile/Click) */
.reaction-picker.active,
.comment-reaction-picker.active {
    opacity: 1; 
    visibility: visible; 
    transform: translateY(0) scale(1); 
    pointer-events: auto;
    display: flex !important;
}

.react-emoji { font-size: 1.5rem; cursor: pointer; transition: transform 0.2s; user-select: none; }
.react-emoji:hover { transform: scale(1.3) translateY(-5px); }

/* --- ðŸ”¥ EMOJI TRAY (FOR COMMENTS) ðŸ”¥ --- */
.emoji-tray {
    margin-top: 10px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 10px;
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 5px;
    animation: fadeIn 0.2s;
}
.emoji-tray.hidden { display: none !important; }

.emoji-btn {
    cursor: pointer;
    text-align: center;
    padding: 5px;
    border-radius: 4px;
    font-size: 1.2rem;
    transition: background 0.2s;
}
.emoji-btn:hover { background: var(--hover-bg); }


/* --- COMMENTS SECTION --- */
.post-comments-section { background: rgba(0,0,0,0.2); padding: 15px; border-top: 1px solid rgba(255,255,255,0.05); }
.comment-list { display: flex; flex-direction: column; gap: 15px; margin-bottom: 15px; }
.comment-item { display: flex; gap: 10px; font-size: 0.9rem; }
.comment-avatar { width: 30px; height: 30px; border-radius: 50%; flex-shrink: 0; object-fit: cover; }
.comment-body { flex: 1; }
.comment-bubble { background: var(--bg); padding: 8px 12px; border-radius: 12px; border: 1px solid var(--border-color); display: inline-block; }
.comment-actions { display: flex; gap: 15px; margin-top: 5px; padding-left: 5px; font-size: 0.75rem; color: var(--muted); font-weight: 600; }
.c-action { cursor: pointer; transition: color 0.2s; }
.c-action:hover { color: var(--text); }
.c-like.liked { color: #ff4757; }

/* Nested Reply Input */
.reply-input-row { display: flex; gap: 10px; margin-top: 10px; padding-left: 40px; animation: fadeIn 0.2s; }
.reply-input { flex: 1; background: transparent; border: 1px solid var(--border-color); padding: 8px 12px; border-radius: 20px; color: var(--text); font-size: 0.85rem; outline: none; }
.reply-input:focus { border-color: var(--primary-cyan); }

.comment-input-area { display: flex; align-items: center; gap: 10px; margin-top: 10px; }
.comment-input { flex: 1; background: var(--input-bg); border: 1px solid var(--input-border); color: var(--text); padding: 10px 15px; border-radius: 20px; outline: none; font-family: 'Montserrat', sans-serif; font-size: 0.9rem; }
.comment-input:focus { border-color: var(--primary-cyan); }
.btn-send-comment { background: transparent; border: none; color: var(--primary-cyan); font-size: 1.2rem; cursor: pointer; transition: transform 0.2s; display: flex; align-items: center; justify-content: center; }
.btn-send-comment:hover { transform: scale(1.1); }


/* --- COMMENTS SECTION (compat: .comment + .c-*) --- */
.comment-list .comment { display: flex; gap: 10px; font-size: 0.9rem; align-items: flex-start; }
.comment-list .comment .c-avatar { width: 30px; height: 30px; border-radius: 50%; flex-shrink: 0; object-fit: cover; }
.comment-list .comment .c-body { flex: 1; min-width: 0; }
.comment-list .comment .c-meta { display: flex; gap: 10px; align-items: baseline; }
.comment-list .comment .c-user { font-weight: 700; color: var(--text); }
.comment-list .comment .c-time { font-size: 0.75rem; color: var(--muted); font-weight: 600; }
.comment-list .comment .c-text { 
    background: var(--bg); 
    padding: 8px 12px; 
    border-radius: 12px; 
    border: 1px solid var(--border-color); 
    display: inline-block; 
    margin-top: 6px; 
    max-width: 100%;
    word-wrap: break-word;
}
.comment-list .comment .c-actions { display: flex; gap: 15px; margin-top: 6px; padding-left: 5px; font-size: 0.75rem; color: var(--muted); font-weight: 600; }
.comment-list .comment .c-actions button { background: transparent; border: none; padding: 0; cursor: pointer; color: inherit; font: inherit; }
.comment-list .comment .c-actions button:hover { color: var(--text); }


/* --- RESTORED STYLES (NOTIFICATIONS, SEARCH, COLLECTIONS, SETTINGS) --- */
.notif-header-flex { display: flex; justify-content: space-between; align-items: center; }
.nh-left { display: flex; align-items: center; gap: 15px; }
.nh-left h2 { margin: 0; font-size: 1.1rem; }
.nh-right { display: flex; gap: 20px; font-size: 1.2rem; cursor: pointer; }
.back-btn { display: none; color: var(--text); cursor: pointer; } 
@media (max-width: 768px) { .back-btn { display: block; } }
.notif-tabs-bar { display: flex; gap: 10px; padding: 15px 20px; overflow-x: auto; border-bottom: var(--border); scrollbar-width: none; }
.notif-tabs-bar::-webkit-scrollbar { display: none; }
.n-pill { background: rgba(255,255,255,0.1); border: 1px solid var(--border); border-radius: 20px; padding: 6px 16px; color: var(--text); font-size: 0.9rem; font-weight: 600; white-space: nowrap; cursor: pointer; transition: all 0.2s; }
.n-pill:hover { background: var(--hover-bg); }
.n-pill.active { background: var(--primary-cyan); color: #000; border-color: var(--primary-cyan); }
body.tm-light .n-pill { background: #fff; border: 1px solid #ccc; }
body.tm-light .n-pill:hover { background: #eee; }
body.tm-light .n-pill.active { background: var(--primary-cyan); color: #000; border-color: var(--primary-cyan); }
.notif-empty-state { flex: 1; display: flex; align-items: center; justify-content: center; color: var(--muted); font-weight: 600; font-size: 1.1rem; padding-bottom: 20%; }

.search-bar { margin-bottom: 25px; background: var(--search-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 30px; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
body.tm-light .search-bar { border: 1px solid #ccc; }
.search-bar input { background: transparent; border: none; color: var(--text); outline: none; width: 100%; font-size: 0.9rem; }
.search-bar i { color: var(--muted); }
.suggestions-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 0 5px; }
.suggestions-header .title { font-weight: 700; color: var(--muted); font-size: 0.85rem; letter-spacing: 0.5px; text-transform: uppercase; }
.sugg-actions { display: flex; gap: 15px; color: var(--muted); font-size: 0.9rem; cursor: pointer; }
.sugg-actions i:hover { color: var(--primary-cyan); }
.suggestion-list { width: 100%; } 
.sugg-card { background: var(--card-bg); border: var(--border); border-radius: 12px; overflow: hidden; position: relative; margin-bottom: 15px; transition: transform 0.2s; width: 100%; }
.sugg-card:hover { border-color: var(--primary-cyan); transform: translateY(-2px); }
.sugg-banner { height: 90px; background-size: cover; background-position: center; position: relative; }
.sugg-badge { position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); color: #fff; padding: 2px 8px; border-radius: 4px; font-size: 0.7rem; text-transform: uppercase; font-weight: 700; z-index: 5; }
.sugg-menu { position: absolute; top: 10px; right: 10px; color: #fff; cursor: pointer; background: rgba(0,0,0,0.4); width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; border-radius: 50%; z-index: 5; transition: background 0.2s; }
.sugg-menu:hover { background: rgba(0,0,0,0.8); }
.sugg-details { padding: 0 15px 15px 15px; display: flex; align-items: flex-start; position: relative; }
.sugg-avatar-wrap { width: 70px; height: 70px; position: relative; margin-top: -35px; margin-right: 12px; flex-shrink: 0; z-index: 2; }
.sugg-avatar-wrap img { width: 100%; height: 100%; border-radius: 50%; border: 3px solid var(--card-bg); object-fit: cover; background: var(--card-bg); }
.online-dot { position: absolute; bottom: 5px; right: 2px; width: 12px; height: 12px; background: #46e85e; border: 2px solid var(--card-bg); border-radius: 50%; }
.sugg-text { padding-top: 8px; overflow: hidden; }
.sugg-name { font-weight: 700; font-size: 0.95rem; display: flex; align-items: center; gap: 4px; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 2px; }
.sugg-handle { font-size: 0.8rem; color: var(--muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.footer-links { font-size: 0.75rem; color: var(--muted); margin-top: auto; text-align: left; padding: 20px 5px 20px 5px; line-height: 1.5; }

.collection-tabs-bar { display: flex; border-bottom: var(--border); background: var(--bg); }
.collection-tabs-bar.secondary { background: transparent; padding: 0 20px; }
.c-tab-item { flex: 1; text-align: center; padding: 15px; font-weight: 700; font-size: 0.9rem; color: var(--muted); cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.2s; }
.c-tab-item:hover { color: var(--text); }
.c-tab-item.active { color: var(--text); border-bottom-color: var(--text); }
.collection-list-container { padding: 0; }
.c-list-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; color: var(--muted); font-size: 0.85rem; font-weight: 600; border-bottom: 1px solid rgba(255,255,255,0.05); }
.c-list-item { padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer; transition: background 0.2s; }
.c-list-item:hover, .c-list-item.active { background: var(--hover-bg); }
.c-list-item.active { border-left: 3px solid var(--primary-cyan); }
.c-item-content { display: flex; flex-direction: column; }
.c-item-name { font-weight: 700; font-size: 1rem; color: var(--text); }
.c-item-status { font-size: 0.85rem; color: var(--muted); }

.rs-col-header { padding: 20px; border-bottom: var(--border); }
.rs-col-header h3 { margin: 0; font-size: 1.1rem; font-weight: 800; }
.rs-col-filters { padding: 20px; border-bottom: var(--border); }
.filter-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; color: var(--muted); font-size: 0.85rem; font-weight: 700; }
.fh-icons { display: flex; gap: 15px; font-size: 1rem; cursor: pointer; }
.filter-chips { display: flex; flex-wrap: wrap; gap: 10px; }
.chip { background: rgba(255,255,255,0.1); padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; color: var(--text); cursor: pointer; }
.chip.active { background: var(--primary-cyan); color: #000; }
.rs-col-empty { padding: 50px 20px; display: flex; flex-direction: column; align-items: center; color: var(--muted); gap: 15px; }
.empty-icon-wrap { width: 80px; height: 80px; background: var(--hover-bg); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; }

#rs-media-grid-content { display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; padding-top: 10px; width: 100%; transition: all 0.3s ease; }
#rs-media-grid-content.compact-view { grid-template-columns: repeat(8, 1fr) !important; gap: 2px; }
@media (max-width: 1400px) { #rs-media-grid-content { grid-template-columns: repeat(4, 1fr); } #rs-media-grid-content.compact-view { grid-template-columns: repeat(6, 1fr) !important; } }
@media (max-width: 1100px) { #rs-media-grid-content { grid-template-columns: repeat(3, 1fr); } #rs-media-grid-content.compact-view { grid-template-columns: repeat(5, 1fr) !important; } }

.media-header-row { display: flex; justify-content: space-between; align-items: center; padding: 15px 0 10px 0; }
.section-title { font-weight: 700; color: var(--muted); font-size: 0.85rem; letter-spacing: 0.5px; text-transform: uppercase; }
.header-tools { display: flex; gap: 15px; color: var(--muted); font-size: 1rem; }
.header-tools i { cursor: pointer; transition: color 0.2s; }
.header-tools i:hover { color: var(--primary-cyan); }
.header-tools i.active { color: var(--primary-cyan); }
.media-filter-chips { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; scrollbar-width: none; margin-bottom: 5px; }
.media-filter-chips::-webkit-scrollbar { display: none; }
.media-filter-chips .n-pill { padding: 5px 15px; font-size: 0.85rem; border-radius: 20px; background: rgba(255,255,255,0.1); border: none; white-space: nowrap; color: var(--text); cursor: pointer; transition: background 0.2s; }
.media-filter-chips .n-pill:hover { background: var(--hover-bg); }
.media-filter-chips .n-pill.active { background: var(--primary-cyan); color: #000; }

.tm-popover-menu { position: fixed; top: 5px; left: 275px; bottom: auto; width: 320px; height: auto; max-height: 95vh; overflow: visible; background: var(--card-bg); border: 1px solid var(--primary-cyan); border-radius: 16px; box-shadow: 5px 10px 40px rgba(0,0,0,0.8); z-index: 2000; display: flex; flex-direction: column; opacity: 0; pointer-events: none; transform: scale(0.98); transform-origin: top left; transition: opacity 0.2s ease, transform 0.2s ease; }
.tm-popover-menu.is-open { opacity: 1; pointer-events: auto; transform: scale(1); }
.pop-header { padding: 20px; background: rgba(255,255,255,0.03); border-bottom: 1px solid rgba(255,255,255,0.1); }
body.tm-light .pop-header { background: #f7f7f7; border-bottom: 1px solid #ddd; }
.pop-user-section { display: flex; align-items: center; gap: 12px; margin-bottom: 15px; }
.pop-avatar { position: relative; width: 40px; height: 40px; }
.pop-avatar img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 2px solid var(--primary-cyan); }
.pop-online { position: absolute; bottom: 0; right: 0; width: 10px; height: 10px; background: #46e85e; border-radius: 50%; border: 2px solid #0d1423; }
.pop-info { flex: 1; display: flex; flex-direction: column; }
.pop-info strong { color: var(--text); font-size: 0.95rem; }
.pop-info span { color: var(--muted); font-size: 0.8rem; }
.btn-close-pop { background: transparent; border: none; color: var(--muted); cursor: pointer; font-size: 1.2rem; padding: 5px; }
.btn-close-pop:hover { color: var(--text); }
.pop-stats { display: flex; gap: 20px; font-size: 0.9rem; }
.stat-item strong { color: var(--text); }
.stat-item span { color: var(--muted); font-weight: 500; }
.pop-content-full { padding: 10px 0; }
.pop-group { display: flex; flex-direction: column; }
.pop-item { display: flex; align-items: center; gap: 10px; padding: 12px 20px; color: var(--text); font-size: 0.95rem; transition: background 0.2s; text-decoration: none; cursor: pointer; }
.pop-item:hover { background: rgba(100, 233, 238, 0.1); color: var(--primary-cyan); }
.pop-item i { width: 20px; text-align: center; color: var(--muted); }
.pop-item:hover i { color: var(--primary-cyan); }
.pop-item.danger { color: #ff4757; }
.pop-item.danger:hover { background: rgba(255, 71, 87, 0.1); }
.pop-item .muted { color: var(--muted); font-size: 0.8rem; margin-left: 5px; }
.pop-divider { height: 1px; background: rgba(255,255,255,0.1); margin: 5px 0; }
body.tm-light .pop-divider { background: #ddd; }
.toggle-row { justify-content: space-between; }
.flex-icon { display: flex; gap: 10px; align-items: center; } 
.switch { position: relative; display: inline-block; width: 40px; height: 22px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; }
body.tm-light .slider { background-color: #ccc; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--primary-cyan); }
input:checked + .slider:before { transform: translateX(18px); background-color: #000; }

.ac-section { margin-bottom: 30px; }
.ac-title { font-size: 0.95rem; font-weight: 700; color: var(--muted); margin-bottom: 15px; letter-spacing: 0.5px; }
.ac-desc { font-size: 0.9rem; color: var(--text); margin-bottom: 20px; opacity: 0.8; }
.ac-form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
.ac-group { display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px; }
.ac-group label { font-size: 0.85rem; font-weight: 600; color: var(--text); }
.ac-group input, .ac-group select { background: var(--card-bg); border: var(--border); color: var(--text); padding: 12px 15px; border-radius: 8px; font-size: 0.95rem; outline: none; transition: border-color 0.2s; }
.ac-group input:focus, .ac-group select:focus { border-color: var(--primary-cyan); }
.input-with-icon { position: relative; display: flex; align-items: center; }
.input-with-icon input { width: 100%; padding-right: 40px; }
.input-with-icon i { position: absolute; right: 15px; color: var(--muted); font-size: 1.2rem; }
.ac-check-row { display: flex; gap: 10px; align-items: flex-start; margin-bottom: 25px; font-size: 0.9rem; color: var(--text); line-height: 1.4; }
.ac-check-row input { margin-top: 3px; accent-color: var(--primary-cyan); }
.ac-submit-row { display: flex; justify-content: flex-end; margin-bottom: 40px; }

.btn-submit-card { background: var(--primary-cyan); color: #000; font-weight: 700; border: none; padding: 12px 50px; border-radius: 30px; cursor: pointer; font-size: 1rem; transition: transform 0.2s; width: auto; min-width: 180px; }
.btn-submit-card:hover { transform: scale(1.02); opacity: 0.9; }
.btn-add-payment-card { width: auto; display: block; margin: 0 auto 20px auto; background: var(--primary-cyan); color: #000; font-weight: 700; border: none; padding: 10px 30px; border-radius: 30px; cursor: pointer; font-size: 0.9rem; transition: transform 0.2s; }
.btn-add-payment-card:hover { transform: scale(1.05); }

.crypto-logos { display: flex; gap: 10px; justify-content: center; margin-bottom: 20px; flex-wrap: wrap; }
.crypto-badge { background: #1a1a1a; border: 1px solid #333; border-radius: 50px; padding: 8px 16px; font-size: 0.9rem; font-weight: 600; color: #fff; display: flex; align-items: center; gap: 8px; cursor: default; pointer-events: none; }
.crypto-badge i { font-size: 1.1rem; }

.wallet-widget-card { background: var(--card-bg); border: var(--border); border-radius: 12px; margin-bottom: 20px; overflow: hidden; }
.ww-header { padding: 20px; border-bottom: var(--border); }
.ww-amount { margin: 0; font-size: 2rem; font-weight: 800; color: var(--text); }
.ww-label { font-size: 0.9rem; color: var(--muted); }
.ww-body { padding: 20px; }
.ww-toggle-row { display: flex; justify-content: space-between; align-items: center; font-size: 0.85rem; color: var(--text); gap: 10px; }
.ww-empty { display: flex; flex-direction: column; align-items: center; gap: 10px; color: var(--muted); padding: 20px 0; font-size: 0.9rem; }
.ww-empty i { font-size: 2rem; opacity: 0.5; }

.tm-modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 5000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(2px); opacity: 0; visibility: hidden; transition: all 0.2s; }
.tm-modal-overlay.open { opacity: 1; visibility: visible; }
.tm-modal-content { background: #fff; color: #333; width: 95%; max-width: 550px; border-radius: 8px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); display: flex; flex-direction: column; max-height: 90vh; }
.tm-modal-header { padding: 20px 25px; border-bottom: 1px solid #eee; }
.tm-modal-header h3 { margin: 0; font-size: 1rem; font-weight: 700; letter-spacing: 0.5px; color: #333; }
.tm-modal-body { padding: 25px; overflow-y: auto; flex: 1; }
.crypto-logos-container { display: flex; justify-content: center; gap: 15px; margin: 30px 0 20px; padding-top: 20px; border-top: 1px solid #eee; }
.c-logo { width: 35px; height: 35px; border-radius: 50%; background: #f5f5f5; border: 1px solid #ddd; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; position: relative; cursor: help; transition: transform 0.2s; }
.c-logo:hover { transform: scale(1.1); border-color: var(--primary-cyan); }
.tm-modal-footer { padding: 15px 25px; border-top: 1px solid #eee; display: flex; justify-content: flex-end; gap: 15px; }
.btn-cancel-modal { background: transparent; border: none; color: var(--primary-cyan); font-weight: 700; font-size: 0.9rem; cursor: pointer; letter-spacing: 0.5px; }
.btn-submit-card-modal { background: transparent; border: none; color: #aaa; font-weight: 700; font-size: 0.9rem; cursor: pointer; letter-spacing: 0.5px; }
.btn-submit-card-modal:hover { color: var(--primary-cyan); }
body.tm-dark .tm-modal-content { background: #1a1a1a; color: #fff; }
body.tm-dark .tm-modal-header, body.tm-dark .tm-modal-footer, body.tm-dark .crypto-logos-container { border-color: #333; }
body.tm-dark .tm-modal-header h3 { color: #fff; }
body.tm-dark .c-logo { background: #252525; border-color: #444; }

.of-warning-box { background: rgba(255, 71, 87, 0.15); border: 1px solid #ff4757; border-radius: 6px; padding: 15px; display: flex; gap: 15px; color: var(--text); margin-bottom: 20px; }
.wb-icon { color: #ff4757; font-size: 1.2rem; padding-top: 2px; }
.wb-text strong { font-size: 0.95rem; display: block; margin-bottom: 5px; }
.wb-text ul { margin: 0; padding-left: 20px; font-size: 0.9rem; line-height: 1.4; color: var(--text); opacity: 0.9; }
.profile-setup-container { position: relative; margin-bottom: 80px; }
.setup-header-img { height: 220px; background: linear-gradient(135deg, #1e2a3b 0%, #0d1423 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; border: 1px dashed rgba(255,255,255,0.2); cursor: pointer; transition: background 0.2s; }
.setup-header-img:hover { background: rgba(255,255,255,0.05); }
.cam-circle { width: 40px; height: 40px; border: 2px solid rgba(255,255,255,0.5); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: rgba(255,255,255,0.8); font-size: 1.1rem; }
.setup-avatar-wrapper { position: absolute; bottom: -50px; left: 20px; }
.setup-avatar-placeholder { width: 100px; height: 100px; background: #141414; border: 4px solid var(--bg); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--primary-cyan); font-weight: 700; font-size: 2rem; position: relative; cursor: pointer; }
.avatar-cam-overlay { position: absolute; inset: 0; border-radius: 50%; background: rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; color: #fff; font-size: 1.5rem; opacity: 0; transition: opacity 0.2s; }
.setup-avatar-placeholder:hover .avatar-cam-overlay { opacity: 1; }
.bio-input-group { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden; margin-bottom: 20px; display: flex; flex-direction: column; }
.bio-wrapper { position: relative; padding: 20px 15px 5px 15px; }
.bio-wrapper textarea { width: 100%; background: transparent; border: none; outline: none; color: var(--text); font-size: 1rem; resize: none; height: 100px; padding: 0; }
.bio-wrapper label { position: absolute; top: 20px; left: 15px; color: var(--muted); pointer-events: none; transition: 0.2s ease all; font-size: 1rem; }
.bio-wrapper textarea:focus + label, .bio-wrapper textarea:not(:placeholder-shown) + label { top: 5px; font-size: 0.75rem; color: var(--primary-cyan); font-weight: 700; }
.bio-footer { display: flex; justify-content: flex-end; align-items: center; padding: 5px 15px 10px; gap: 15px; color: var(--muted); font-size: 0.85rem; }
.setup-actions { display: flex; justify-content: flex-end; }
.btn-save-setup { background: var(--primary-cyan); color: #000; border: none; padding: 10px 25px; border-radius: 20px; font-weight: 700; font-size: 0.9rem; cursor: pointer; text-transform: uppercase; }
.btn-save-setup:disabled { background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.3); cursor: default; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

/* ===== chat.css ===== */
/* ================= MESSAGES UI FIXED (UNIFIED TABLET & MOBILE MODE) ================= */

/* 0. PARENT CONTAINER FIX */
#container-messages {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    flex: 1; 
}

/* 1. Message Layout */
#view-messages { 
    width: 100%; 
    height: 100%; 
    overflow: hidden; 
    display: flex; 
    flex-direction: column;
}

.msg-container { 
    display: flex; 
    width: 100%;
    height: 100%; 
    background: var(--bg); 
    overflow: hidden;
    position: relative; 
}

/* --- LAYER 2: MESSAGE LIST (Desktop Default) --- */
.msg-sidebar { 
    width: 320px; 
    min-width: 320px;
    border-right: var(--border); 
    display: flex; 
    flex-direction: column; 
    background: var(--bg); 
    height: 100%;
    z-index: 5;
    position: relative; /* Important for Overlay */
}

/* --- ðŸ”¥ NEW MESSAGE OVERLAY UI ðŸ”¥ --- */
.new-msg-overlay {
    position: absolute;
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%;
    background: var(--bg);
    z-index: 50; /* Higher than sidebar content */
    display: flex;
    flex-direction: column;
    animation: fadeIn 0.2s ease-out;
}

.new-msg-header {
    padding: 15px;
    border-bottom: var(--border);
    display: flex;
    align-items: center;
    gap: 15px;
    font-weight: 800;
    font-size: 1.1rem;
    color: var(--text);
}

.new-msg-header i { cursor: pointer; color: var(--text); }

.new-msg-search {
    padding: 15px;
    border-bottom: var(--border);
    display: flex;
    align-items: center;
    gap: 10px;
    background: var(--card-bg);
}

.new-msg-search span { color: var(--muted); font-weight: 600; font-size: 1rem; }
.new-msg-search input { 
    flex: 1; background: transparent; border: none; outline: none; 
    color: var(--text); font-size: 1rem; 
}

.new-msg-results {
    flex: 1;
    overflow-y: auto;
    padding: 10px 0;
}

.nm-label {
    padding: 10px 20px;
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* --- LAYER 3: CHAT BOX (Desktop Default) --- */
.msg-chat-area { 
    flex: 1; 
    display: flex; 
    flex-direction: column; 
    background: rgba(0,0,0,0.2); 
    border-right: var(--border); 
    position: relative; 
    height: 100%;
    overflow: hidden; 
}
body.tm-light .msg-chat-area { background: #fff; }

/* --- LAYER 4: INFO PANEL (Desktop Default) --- */
.msg-info-panel { 
    width: 300px; 
    min-width: 300px;
    background: var(--bg); 
    display: flex; 
    flex-direction: column; 
    padding: 20px; 
    overflow-y: auto; 
    height: 100%;
}

/* 2. Message Sidebar Header */
.msg-header-tools {
    padding: 15px;
    border-bottom: var(--border);
    position: relative; 
    background: var(--bg);
    z-index: 10;
}
.mh-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.mh-top h3 { margin: 0; font-size: 1.1rem; font-weight: 800; display: block !important; }
.mh-icons i { 
    font-size: 1.1rem; margin-left: 15px; 
    cursor: pointer; color: var(--text); 
    transition: 0.2s;
}
.mh-icons i:hover { color: var(--primary-cyan); transform: scale(1.1); }

/* SIDEBAR SEARCH BOX */
.msg-search-container {
    margin-bottom: 15px;
    animation: slideDown 0.2s ease-out;
}
.search-input-wrapper {
    background: var(--search-bg);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px;
    display: flex;
    align-items: center;
    padding: 8px 12px;
}
.search-input-wrapper input {
    background: transparent; border: none; outline: none;
    color: var(--text); font-size: 0.9rem; width: 100%; margin: 0 10px;
}
.search-input-wrapper i { color: var(--muted); cursor: pointer; }
.search-input-wrapper i:hover { color: var(--text); }

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* --- ðŸ”¥ FIXED TABS (AUTO FIT) ðŸ”¥ --- */
.msg-tabs { 
    display: flex !important;
    gap: 5px; /* Liit na gap para magkasya */
    justify-content: space-between;
    overflow-x: hidden; 
    padding-bottom: 5px; 
    flex-shrink: 0;
    width: 100%; 
}

.msg-tabs span { 
    flex: 1; /* Hahatiin nila ang space */
    background: rgba(255,255,255,0.05); 
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 12px; 
    padding: 8px 0; /* Vertical padding lang, horizontal auto */
    font-size: 0.8rem; /* Medyo liitan font */
    font-weight: 600; 
    cursor: pointer; 
    white-space: nowrap; 
    text-align: center; 
    color: var(--muted);
    transition: all 0.2s;
    min-width: 0; 
}

.msg-tabs span.active { 
    background: var(--primary-cyan) !important; 
    color: #000 !important; 
    border-color: var(--primary-cyan) !important; 
    font-weight: 800 !important;
    box-shadow: 0 0 10px rgba(100, 233, 238, 0.3);
}

body.tm-light .msg-tabs span.active { 
    background: var(--primary-cyan) !important; 
    color: #000 !important; 
}

/* User List */
.msg-user-list { flex: 1; overflow-y: auto; padding-bottom: 60px; } /* Added padding for bottom */
.msg-user-item { 
    display: flex; gap: 12px; padding: 15px; cursor: pointer; 
    transition: background 0.2s; border-bottom: 1px solid rgba(255,255,255,0.02); 
    justify-content: flex-start !important; 
    /* NEW: Relative for dropdown positioning */
    position: relative;
    padding-right: 40px; /* Space for the 3 dots */
}
.msg-user-item:hover, .msg-user-item.active { background: var(--hover-bg); border-left: 3px solid var(--primary-cyan); }
.u-avatar { width: 45px; height: 45px; border-radius: 50%; object-fit: cover; }
.u-info { 
    flex: 1; overflow: hidden; display: flex !important; 
    flex-direction: column; justify-content: center; 
}
.u-name { font-weight: 700; font-size: 0.95rem; margin-bottom: 3px; }
.u-preview { font-size: 0.85rem; color: var(--muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.u-meta { font-size: 0.75rem; color: var(--muted); display: block !important; }

/* --- ðŸ†• CHAT LIST ITEM OPTIONS (Three Dots Menu) --- */
.msg-item-actions {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 20;
}

.msg-opt-btn {
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    color: var(--muted);
    cursor: pointer;
    transition: 0.2s;
}

.msg-opt-btn:hover {
    background: rgba(255,255,255,0.1);
    color: var(--text);
}

/* --- THE DROPDOWN MENU --- */
.msg-dropdown {
    position: absolute;
    top: 30px;
    right: 0;
    width: 180px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    border-radius: 12px;
    z-index: 100;
    overflow: hidden;
    animation: fadeIn 0.2s ease;
}

.md-item {
    padding: 12px 15px;
    font-size: 0.85rem;
    color: var(--text);
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    transition: 0.2s;
}

.md-item:hover {
    background: var(--hover-bg);
    color: var(--primary-cyan);
}

.md-item i {
    width: 20px;
    text-align: center;
    color: var(--muted);
}
.md-item:hover i {
    color: var(--primary-cyan);
}

.md-divider {
    height: 1px;
    background: var(--border-color);
    margin: 5px 0;
}

.md-item.danger { color: #ff4757; }
.md-item.danger:hover { background: rgba(255, 71, 87, 0.1); }
/* --- END NEW DROPDOWN CSS --- */

/* 3. Active Chat Header */
.chat-header { 
    padding: 10px 20px; border-bottom: var(--border); 
    display: flex; justify-content: space-between; align-items: center; 
    background: rgba(2, 4, 10, 0.95); backdrop-filter: blur(10px);
    position: relative; 
    flex-shrink: 0; 
    height: 60px; 
}
body.tm-light .chat-header { background: rgba(255,255,255,0.95); }

/* User Info Clickable */
.ch-user { 
    display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 1rem; flex: 1; min-width: 0;
    cursor: pointer; padding: 5px; border-radius: 8px; transition: background 0.2s;
}
.ch-user:hover { background: var(--hover-bg); }
.chat-user-name { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: block; }

/* Desktop Search Bar */
.chat-search-bar {
    position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
    background: var(--bg); border: 1px solid var(--primary-cyan);
    border-radius: 20px; padding: 5px 15px;
    display: flex; align-items: center; width: 200px; z-index: 20;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}
.chat-search-bar input { background: transparent; border: none; outline: none; color: var(--text); width: 100%; font-size: 0.9rem; }
.chat-search-bar i { cursor: pointer; color: var(--muted); font-size: 1rem; }

.ch-actions { display: flex; flex-shrink: 0; }
.ch-actions i { font-size: 1.2rem; margin-left: 18px; color: var(--primary-cyan); cursor: pointer; transition: 0.2s; }
.ch-actions i.active-star { font-weight: 900 !important; color: gold; }

/* Chat History */
.chat-history { 
    flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; 
    gap: 10px; scroll-behavior: smooth; min-height: 0; 
}
.chat-bubble { max-width: 70%; padding: 10px 15px; border-radius: 18px; font-size: 0.95rem; line-height: 1.4; position: relative; }
.chat-bubble.received { background: var(--card-bg); border: var(--border); align-self: flex-start; border-bottom-left-radius: 4px; }
.chat-bubble.sent { background: var(--primary-cyan); color: #000; align-self: flex-end; border-bottom-right-radius: 4px; }
.chat-bubble .time { font-size: 0.65rem; opacity: 0.7; display: block; margin-top: 5px; text-align: right; }

/* Emoji Picker */
.emoji-picker { position: absolute; bottom: 70px; left: 20px; z-index: 100; width: auto; height: auto; display: block; box-shadow: 0 10px 40px rgba(0,0,0,0.5); border-radius: 12px; overflow: hidden; }

/* Chat Input Box */
.chat-input-box { 
    padding: 15px 20px; border-top: var(--border); 
    display: flex; align-items: center; gap: 15px; 
    background: var(--bg); flex-shrink: 0; position: relative; z-index: 20;
}
.chat-input-box input { flex: 1; background: transparent; border: none; outline: none; font-size: 0.95rem; color: var(--text); }
.chat-input-box i { font-size: 1.3rem; color: var(--muted); cursor: pointer; transition: 0.2s; }
.chat-input-box i:hover { color: var(--primary-cyan); }
.fa-face-smile:hover { color: #f1c40f !important; }
.fa-dollar-sign:hover { color: #2ecc71 !important; }
.send-icon { color: var(--primary-cyan) !important; }

/* MOBILE INPUT TELEPORT */
body > .chat-input-box {
    background-color: var(--card-bg) !important;
    border-top: 1px solid var(--border-color) !important;
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 2147483650 !important;
    padding-bottom: max(15px, env(safe-area-inset-bottom)) !important;
}

div:where(.swal2-container) { z-index: 2147483647 !important; position: fixed !important; inset: 0 !important; }

@media (min-width: 1025px) and (max-width: 1440px) {
    .msg-sidebar { width: 290px !important; min-width: 290px !important; }
    .msg-info-panel { display: none !important; }
    .msg-tabs { gap: 4px !important; justify-content: space-between; }
    .msg-tabs span { padding: 6px 4px !important; font-size: 0.75rem !important; flex: 1; text-align: center; }
}

@media (max-width: 1024px) {
    .msg-info-panel { display: none !important; width: 0 !important; padding: 0 !important; }
    .msg-sidebar { width: 100% !important; min-width: 100% !important; height: 100% !important; display: flex !important; border-right: none; z-index: 10; padding-bottom: 80px; }
    .u-info, .u-meta, .mh-top h3, .msg-tabs { display: block !important; }
    .msg-chat-area { display: none !important; }
    #view-messages.mobile-chat-active .msg-chat-area { display: flex !important; flex-direction: column !important; position: fixed !important; inset: 0; width: 100% !important; height: 100dvh !important; z-index: var(--z-chat-overlay) !important; background: var(--bg); padding-bottom: 0 !important; }
    #view-messages.mobile-chat-active .msg-sidebar { display: none !important; }
    .chat-header { height: 60px; padding: 0 15px; background: var(--card-bg); border-bottom: var(--border); flex-shrink: 0 !important; }
    .chat-search-bar { display: none !important; }
    .back-to-list-btn { display: flex !important; align-items: center; justify-content: center; width: 35px; height: 35px; margin-right: 5px; font-size: 1.2rem; cursor: pointer; color: var(--text); }
    .chat-history { flex: 1 1 auto !important; min-height: 0 !important; padding-bottom: 90px !important; overflow-y: auto !important; height: auto !important; }
}

/* Animations */
@media (max-width: 1024px) {
    #view-messages.mobile-chat-active .msg-chat-area { animation: slideInRight 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); }
    @keyframes slideInRight { from { transform: translateX(100%); opacity: 0.8; } to { transform: translateX(0); opacity: 1; } }
}
.msg-user-item { margin: 4px 8px; border-radius: 12px; border: 1px solid transparent; transition: all 0.2s ease; }
.msg-user-item.active { background: rgba(100, 233, 238, 0.12) !important; border-color: rgba(100, 233, 238, 0.2); border-left: 1px solid rgba(100, 233, 238, 0.5) !important; transform: scale(0.99); }

/* ===== creators.css (original) ===== */
/* creators.css â€” Fixed Loader, Light Mode Support, Adaptive Layout */

:root {
  /* DARK MODE DEFAULTS */
  --bg: #02040a; 
  --primary-cyan: #64E9EE;
  --text: #F6FAFF;
  --muted: #8a96a3;
  --card-bg: #0d1423;
  --border: 1px solid rgba(255, 255, 255, 0.1); 
  --hover-bg: rgba(255, 255, 255, 0.08);
  --input-text: #fff;
  --search-bg: #242529;
}

/* LIGHT MODE OVERRIDES */
body.tm-light {
  --bg: #f0f2f5;
  --primary-cyan: #008c9e; 
  --text: #050505;
  --muted: #65676b;
  --card-bg: #ffffff;
  --border: 1px solid #dbdbdb;
  --hover-bg: #e4e6eb;
  --input-text: #050505;
  --search-bg: #ffffff;
}

*, *::before, *::after { box-sizing: border-box; }

body {
  margin: 0; padding: 0;
  background-color: var(--bg) !important;
  color: var(--text);
  font-family: 'Montserrat', sans-serif;
  min-height: 100vh;
  overflow-y: scroll; 
  overflow-x: hidden;
  transition: background-color 0.3s, color 0.3s;
}

input { color: var(--input-text) !important; }

#tm-bg-canvas { position: fixed; inset: 0; width: 100vw; height: 100vh; z-index: -1; pointer-events: none; }
a { text-decoration: none; color: inherit; }

/* --- APP LOADER --- */
#app-loader {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: #000;
    z-index: 99999;
    display: flex; align-items: center; justify-content: center;
    flex-direction: column;
    transition: opacity 0.5s ease-out, visibility 0.5s ease;
}
.loader-logo { width: 80px; height: 80px; border-radius: 50%; animation: pulseLogo 2s infinite; }
.loader-text { margin-top: 15px; font-weight: 700; letter-spacing: 1px; font-size: 1.2rem; color: #fff; }
@keyframes pulseLogo {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(100, 233, 238, 0.7); }
    70% { transform: scale(1.1); box-shadow: 0 0 0 20px rgba(100, 233, 238, 0); }
    100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(100, 233, 238, 0); }
}

/* --- MAIN LAYOUT --- */
.of-layout-container {
  display: flex; width: 100%; min-height: 100vh; padding: 0; justify-content: flex-start; 
}

/* ================= LEFT SIDEBAR ================= */
.left-sidebar {
  width: 275px; 
  flex-shrink: 0; 
  display: flex; 
  justify-content: flex-end; 
  border-right: var(--border); 
  background: var(--bg); 
  z-index: 50;
  transition: background-color 0.3s;
}
.sidebar-inner {
  width: 240px; padding: 20px 10px; 
  position: sticky; top: 0; height: 100vh; 
  display: flex; flex-direction: column; overflow-y: auto;
}

/* --- PROFILE CARD --- */
.profile-header-card {
  display: flex; align-items: center; gap: 12px;
  padding: 10px 15px; background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px; margin-bottom: 25px;
  cursor: pointer; transition: all 0.2s ease;
}
body.tm-light .profile-header-card { background: rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.1); }
body.tm-light .profile-header-card:hover { background: rgba(0,0,0,0.1); }

.profile-header-card:hover { background: rgba(255, 255, 255, 0.08); border-color: var(--primary-cyan); transform: translateY(-2px); }
.ph-avatar-container { position: relative; width: 45px; height: 45px; }
.ph-avatar-container img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 2px solid var(--primary-cyan); }
.status-indicator { position: absolute; bottom: 0; right: 0; width: 12px; height: 12px; background-color: #46e85e; border: 2px solid var(--bg); border-radius: 50%; }
.ph-user-details { display: flex; flex-direction: column; flex: 1; overflow: hidden; }
.ph-user-details .ph-name { font-weight: 700; font-size: 0.95rem; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.ph-user-details .ph-name i { color: var(--primary-cyan); font-size: 0.8rem; margin-left: 4px; }
.ph-user-details .ph-handle { font-size: 0.8rem; color: var(--muted); }
.ph-settings { color: var(--muted); font-size: 1rem; transition: 0.2s; }
.profile-header-card:hover .ph-settings { color: var(--text); transform: rotate(90deg); }

/* --- MENU ITEMS --- */
.nav-item { display: flex; align-items: center; gap: 20px; padding: 12px 15px; border-radius: 30px; color: var(--text); transition: background 0.2s; margin-bottom: 5px; font-size: 1.1rem; white-space: nowrap; }
.nav-item:hover { background: var(--hover-bg); color: var(--primary-cyan); }
.nav-icon { width: 30px; text-align: center; font-size: 1.4rem; }

/* ACTIVE STATE */
.nav-item.active { 
    font-weight: 700;
    color: var(--primary-cyan);
}
body.tm-light .nav-item.active {
    background: rgba(0, 140, 158, 0.1);
}
.nav-item.active i {
    color: var(--primary-cyan);
}

.btn-new-post { margin-top: 25px; width: 100%; padding: 14px; border-radius: 30px; background: var(--primary-cyan); color: #fff; border: none; font-weight: 800; font-size: 0.9rem; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; }
body.tm-light .btn-new-post { color: #fff; }
.btn-new-post:hover { opacity: 0.9; }

/* --- BRAND FOOTER --- */
.sidebar-brand-footer { margin-top: auto; padding-top: 20px; padding-bottom: 10px; display: flex; align-items: center; gap: 12px; opacity: 0.8; cursor: pointer; transition: opacity 0.2s; }
.sidebar-brand-footer:hover { opacity: 1; }
.sidebar-brand-footer img { width: 32px; height: auto; }
.brand-text { display: flex; flex-direction: column; }
.brand-text span { font-weight: 800; font-size: 0.9rem; letter-spacing: 1px; color: var(--text); }
.brand-text small { font-size: 0.7rem; color: var(--muted); }

/* ================= CENTER COLUMN ================= */
.main-feed-column { 
    flex: 1; 
    border-right: var(--border); 
    background: rgba(0,0,0,0.2); 
    margin: 0; 
    min-height: 100vh;
    display: flex; flex-direction: column;
    /* Added transition for smooth resizing */
    transition: flex 0.3s ease, width 0.3s ease, min-width 0.3s ease; 
}
body.tm-light .main-feed-column { background: rgba(255,255,255,0.6); }

/* *** NARROW MODE FOR COLLECTIONS *** */
.main-feed-column.narrow-view {
    flex: 0 0 400px; /* Fix width to 400px */
    min-width: 400px;
    max-width: 400px;
}

.feed-top-header { position: sticky; top: 0; z-index: 40; background: rgba(2, 4, 10, 0.95); backdrop-filter: blur(10px); padding: 15px 20px; border-bottom: var(--border); }
body.tm-light .feed-top-header { background: rgba(255,255,255,0.95); }

.feed-top-header h2 { margin: 0; font-size: 1.2rem; font-weight: 800; color: var(--text); }
.compose-area { padding: 20px; }
.compose-top input { width: 100%; background: transparent; border: none; outline: none; color: var(--text); font-size: 1.1rem; margin-bottom: 20px; }
.compose-actions { display: flex; gap: 20px; color: var(--primary-cyan); font-size: 1.4rem; cursor: pointer; align-items: center; }
.feed-divider { height: 8px; background: #000; border-top: var(--border); border-bottom: var(--border); }
body.tm-light .feed-divider { background: #e4e6eb; }

/* Posts */
.post-card { padding: 20px; border-bottom: var(--border); }
.post-header { display: flex; justify-content: space-between; margin-bottom: 15px; }
.ph-left { display: flex; gap: 12px; }
.ph-avatar { width: 48px; height: 48px; border-radius: 50%; object-fit: cover; }
.ph-info { display: flex; flex-direction: column; justify-content: center; }
.ph-name { font-size: 1rem; color: var(--text); display: flex; align-items: center; gap: 5px; }
.verify-badge { color: var(--primary-cyan); font-size: 0.9rem; }
.ph-handle { font-size: 0.9rem; color: var(--muted); }
.ph-right { display: flex; gap: 15px; color: var(--muted); font-size: 0.9rem;}
.post-body { font-size: 1rem; line-height: 1.5; color: var(--text); margin-bottom: 15px; }
.link-text { color: var(--primary-cyan); font-weight: 600; }
.link-url { color: var(--primary-cyan); }
.post-media { position: relative; border-radius: 4px; overflow: hidden; margin-bottom: 15px; width: 100%; max-height: 600px; }
.media-img { width: 100%; height: auto; display: block; object-fit: cover; }
.video-overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 60px; height: 60px; background: rgba(0,0,0,0.5); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 24px; }
.media-text-overlay { position: absolute; bottom: 20px; left: 20px; text-shadow: 0 2px 5px rgba(0,0,0,0.9); }
.media-text-overlay span { font-size: 1.2rem; font-weight: 700; line-height: 1; text-transform: uppercase; color: #fff; }
.media-text-overlay strong { font-size: 2.5rem; font-weight: 800; line-height: 1; display: block; color: #fff; }
.post-actions { display: flex; justify-content: space-between; font-size: 1.3rem; color: var(--muted); padding-top: 5px; }
.action-group { display: flex; gap: 20px; }
.action-group i:hover { color: var(--primary-cyan); cursor: pointer; }

/* ================= RIGHT SIDEBAR ================= */
.right-sidebar { 
    width: 350px; 
    min-width: 350px;
    flex-shrink: 0; 
    display: flex; 
    flex-direction: column; 
    background: var(--bg); 
    border-left: var(--border);
    transition: width 0.3s ease, min-width 0.3s ease, flex 0.3s ease; 
}

/* *** WIDE MODE FOR COLLECTIONS *** */
.right-sidebar.wide-view {
    flex: 1; /* Take up all remaining space */
    width: auto;
    min-width: 0; /* Prevent flex overflow issues */
}

/* Utility class to hide sidebar when messages are active */
.right-sidebar.hidden-sidebar {
    display: none !important;
}

.sidebar-inner { 
    padding: 20px 25px; 
    width: 100%; 
    position: sticky; 
    top: 0; 
    height: 100vh;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
}

/* 1. Search Bar Styling */
.search-bar { 
    margin-bottom: 25px; 
    background: var(--search-bg); 
    border: 1px solid rgba(255,255,255,0.1); 
    border-radius: 30px; 
    padding: 10px 20px; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
}
body.tm-light .search-bar { border: 1px solid #ccc; }

.search-bar input { 
    background: transparent; 
    border: none; 
    color: var(--text); 
    outline: none; 
    width: 100%; 
    font-size: 0.9rem; 
}
.search-bar i { color: var(--muted); }

/* 2. Suggestions Header */
.suggestions-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 15px; 
    padding: 0 5px;
}
.suggestions-header .title { 
    font-weight: 700; 
    color: var(--muted); 
    font-size: 0.85rem; 
    letter-spacing: 0.5px;
    text-transform: uppercase;
}
.sugg-actions { 
    display: flex; 
    gap: 15px; 
    color: var(--muted); 
    font-size: 0.9rem; 
    cursor: pointer;
}
.sugg-actions i:hover { color: var(--primary-cyan); }

/* 3. Suggestion Cards (Banner Style) */
.sugg-card { 
    background: var(--card-bg); 
    border: var(--border);
    border-radius: 12px; 
    overflow: hidden; 
    position: relative; 
    margin-bottom: 15px; 
    transition: transform 0.2s;
}
.sugg-card:hover { 
    border-color: var(--primary-cyan); 
    transform: translateY(-2px);
}

/* Banner Image */
.sugg-banner { 
    height: 90px;
    background-size: cover; 
    background-position: center; 
    position: relative;
}

/* Badge overlay (Free) */
.sugg-badge { 
    position: absolute; 
    top: 10px; left: 10px; 
    background: rgba(0,0,0,0.6); 
    backdrop-filter: blur(4px);
    color: #fff; 
    padding: 2px 8px; 
    border-radius: 4px; 
    font-size: 0.7rem; 
    text-transform: uppercase; 
    font-weight: 700; 
    z-index: 5;
}

/* Menu dots */
.sugg-menu { 
    position: absolute; 
    top: 10px; right: 10px; 
    color: #fff; 
    cursor: pointer; 
    background: rgba(0,0,0,0.4); 
    width: 24px; height: 24px; 
    display: flex; align-items: center; justify-content: center; 
    border-radius: 50%; 
    z-index: 5;
    transition: background 0.2s;
}
.sugg-menu:hover { background: rgba(0,0,0,0.8); }

/* Details Container */
.sugg-details { 
    padding: 0 15px 15px 15px; 
    display: flex; 
    align-items: flex-start; /* Align top */
    position: relative; 
}

/* Avatar - Pull up using negative margin */
.sugg-avatar-wrap { 
    width: 70px; 
    height: 70px; 
    position: relative; 
    margin-top: -35px; /* Pull up to overlap banner */
    margin-right: 12px; 
    flex-shrink: 0;
    z-index: 2;
}
.sugg-avatar-wrap img { 
    width: 100%; height: 100%; 
    border-radius: 50%; 
    border: 3px solid var(--card-bg); 
    object-fit: cover; 
    background: var(--card-bg);
}
.online-dot { 
    position: absolute; 
    bottom: 5px; right: 2px; 
    width: 12px; height: 12px; 
    background: #46e85e; 
    border: 2px solid var(--card-bg); 
    border-radius: 50%; 
}

/* Text Info */
.sugg-text { 
    padding-top: 8px; 
    overflow: hidden;
}
.sugg-name { 
    font-weight: 700; 
    font-size: 0.95rem; 
    display: flex; align-items: center; gap: 4px; 
    color: var(--text); 
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    margin-bottom: 2px;
}
.sugg-handle { 
    font-size: 0.8rem; 
    color: var(--muted); 
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* Footer Links */
.footer-links { 
    font-size: 0.75rem; 
    color: var(--muted); 
    margin-top: auto; 
    text-align: left; 
    padding: 20px 5px 20px 5px; 
    line-height: 1.5;
}

/* --- POPOVER MENU --- */
.tm-popover-menu {
  position: fixed;
  top: 5px;
  left: 275px; 
  bottom: auto;
  
  width: 320px;
  height: auto; 
  max-height: 95vh;
  overflow: visible;
  
  background: var(--card-bg); /* Use var for theme support */
  border: 1px solid var(--primary-cyan);
  border-radius: 16px; 
  box-shadow: 5px 10px 40px rgba(0,0,0,0.8);
  z-index: 2000; 
  display: flex; flex-direction: column;
  
  opacity: 0; 
  pointer-events: none; 
  transform: scale(0.98); 
  transform-origin: top left;
  transition: opacity 0.2s ease, transform 0.2s ease;
}

.tm-popover-menu.is-open { 
  opacity: 1; 
  pointer-events: auto; 
  transform: scale(1);
}

.pop-header { padding: 20px; background: rgba(255,255,255,0.03); border-bottom: 1px solid rgba(255,255,255,0.1); }
body.tm-light .pop-header { background: #f7f7f7; border-bottom: 1px solid #ddd; }

.pop-user-section { display: flex; align-items: center; gap: 12px; margin-bottom: 15px; }
.pop-avatar { position: relative; width: 40px; height: 40px; }
.pop-avatar img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 2px solid var(--primary-cyan); }
.pop-online { position: absolute; bottom: 0; right: 0; width: 10px; height: 10px; background: #46e85e; border-radius: 50%; border: 2px solid #0d1423; }
.pop-info { flex: 1; display: flex; flex-direction: column; }
.pop-info strong { color: var(--text); font-size: 0.95rem; }
.pop-info span { color: var(--muted); font-size: 0.8rem; }
.btn-close-pop { background: transparent; border: none; color: var(--muted); cursor: pointer; font-size: 1.2rem; padding: 5px; }
.btn-close-pop:hover { color: var(--text); }

.pop-stats { display: flex; gap: 20px; font-size: 0.9rem; }
.stat-item strong { color: var(--text); }
.stat-item span { color: var(--muted); font-weight: 500; }

.pop-content-full { padding: 10px 0; }
.pop-group { display: flex; flex-direction: column; }

/* POP ITEM FIXED: Smaller Gap */
.pop-item { 
  display: flex; align-items: center; 
  gap: 10px; 
  padding: 12px 20px; 
  color: var(--text); font-size: 0.95rem; 
  transition: background 0.2s; text-decoration: none; cursor: pointer; 
}
.pop-item:hover { background: rgba(100, 233, 238, 0.1); color: var(--primary-cyan); }
.pop-item i { width: 20px; text-align: center; color: var(--muted); }
.pop-item:hover i { color: var(--primary-cyan); }
.pop-item.danger { color: #ff4757; }
.pop-item.danger:hover { background: rgba(255, 71, 87, 0.1); }
.pop-item .muted { color: var(--muted); font-size: 0.8rem; margin-left: 5px; }
.pop-divider { height: 1px; background: rgba(255,255,255,0.1); margin: 5px 0; }
body.tm-light .pop-divider { background: #ddd; }

.toggle-row { justify-content: space-between; }
.flex-icon { display: flex; gap: 10px; align-items: center; } 
.switch { position: relative; display: inline-block; width: 40px; height: 22px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; }
body.tm-light .slider { background-color: #ccc; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--primary-cyan); }
input:checked + .slider:before { transform: translateX(18px); background-color: #000; }


/* Modal */
.payment-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 2000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
.payment-overlay.is-visible { display: flex !important; }
.payment-card { background: var(--card-bg); padding: 40px; border-radius: 20px; width: 90%; max-width: 400px; border: 1px solid var(--primary-cyan); text-align: center; }
.btn-group-modal { display: flex; gap: 10px; margin-top: 20px; }
.btn-modal { flex: 1; padding: 12px; border-radius: 50px; border: 1px solid; cursor: pointer; font-weight: 700; }
.btn-modal.primary { background: var(--primary-cyan); border-color: var(--primary-cyan); }
.btn-modal.ghost { background: transparent; border-color: var(--text); color: var(--text); }

/* ================= RESPONSIVE SYSTEM ================= */
.mobile-bottom-nav { display: none; position: fixed; bottom: 0; left: 0; width: 100%; height: 60px; background: rgba(2, 4, 10, 0.95); backdrop-filter: blur(10px); border-top: var(--border); justify-content: space-around; align-items: center; z-index: 100; padding-bottom: env(safe-area-inset-bottom); }
.mob-nav-item { color: var(--muted); font-size: 1.4rem; display: flex; align-items: center; justify-content: center; width: 20%; height: 100%; transition: 0.2s; }
.mob-nav-item.active { color: var(--primary-cyan); }
.special-add .add-circle { width: 40px; height: 40px; background: var(--primary-cyan); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; }

@media (max-width: 1200px) {
  .right-sidebar { display: none; }
  /* Reset wide/narrow view on smaller screens */
  .right-sidebar.wide-view { display: none; }
  .main-feed-column { border-right: var(--border); flex: 1; min-width: 0; max-width: none; }
  .main-feed-column.narrow-view { flex: 1; min-width: 0; max-width: none; }
}

@media (max-width: 1000px) {
  .left-sidebar { width: 80px; align-items: center; }
  .sidebar-inner { width: 100%; padding: 20px 0; align-items: center; }
  .nav-text, .btn-text, .profile-header-card, .sidebar-brand-footer { display: none; }
  .nav-item { justify-content: center; padding: 15px; }
  .nav-icon { font-size: 1.6rem; width: auto; }
  .btn-new-post { width: 50px; height: 50px; border-radius: 50%; padding: 0; margin-top: 20px; }
  /* Tablet Popover Adjust */
  .tm-popover-menu { left: 80px; }
}

@media (max-width: 768px) {
  .of-layout-container { display: block; }
  .left-sidebar, .right-sidebar { display: none !important; }
  .mobile-bottom-nav { display: flex; }
  .main-feed-column { width: 100%; border: none; margin-bottom: 70px; }
  .feed-top-header { padding: 10px 15px; }
  .tm-popover-menu { bottom: 0; top: auto; left: 0; width: 100%; border-radius: 20px 20px 0 0; border-bottom: none; transform: translateY(20px); }
  .tm-popover-menu.is-open { transform: translateY(0); }
}

/* ================= NOTIFICATIONS PAGE STYLES ================= */

.notif-header-flex { display: flex; justify-content: space-between; align-items: center; }
.nh-left { display: flex; align-items: center; gap: 15px; }
.nh-left h2 { margin: 0; font-size: 1.1rem; }
.nh-right { display: flex; gap: 20px; font-size: 1.2rem; cursor: pointer; }
.back-btn { display: none; color: var(--text); cursor: pointer; } 
@media (max-width: 768px) { .back-btn { display: block; } }

.notif-tabs-bar { display: flex; gap: 10px; padding: 15px 20px; overflow-x: auto; border-bottom: var(--border); scrollbar-width: none; }
.notif-tabs-bar::-webkit-scrollbar { display: none; }

.n-pill { background: rgba(255,255,255,0.1); border: 1px solid var(--border); border-radius: 20px; padding: 6px 16px; color: var(--text); font-size: 0.9rem; font-weight: 600; white-space: nowrap; cursor: pointer; transition: all 0.2s; }
.n-pill:hover { background: var(--hover-bg); }
.n-pill.active { background: var(--primary-cyan); color: #000; border-color: var(--primary-cyan); }
body.tm-light .n-pill { background: #fff; border: 1px solid #ccc; }
body.tm-light .n-pill:hover { background: #eee; }
body.tm-light .n-pill.active { background: var(--primary-cyan); color: #000; border-color: var(--primary-cyan); }
.n-pill.icon-only { padding: 6px 12px; }
.notif-empty-state { flex: 1; display: flex; align-items: center; justify-content: center; color: var(--muted); font-weight: 600; font-size: 1.1rem; padding-bottom: 20%; }

/* ================= POLL & TEXT TOOLS UI ================= */
.hidden { display: none !important; }
.poll-creator { background: var(--card-bg); border: var(--border); border-radius: 12px; margin: 10px 0 20px 0; overflow: hidden; }
.poll-header { display: flex; justify-content: space-between; align-items: center; padding: 15px; border-bottom: var(--border); background: rgba(100, 233, 238, 0.05); }
.poll-header span { font-weight: 700; color: var(--primary-cyan); display: flex; gap: 8px; align-items: center; }
.poll-meta { display: flex; gap: 15px; align-items: center; font-size: 0.9rem; color: var(--text); }
.close-poll-btn { cursor: pointer; color: var(--muted); transition: 0.2s; }
.close-poll-btn:hover { color: #ff4757; }
.poll-inputs { padding: 15px; display: flex; flex-direction: column; gap: 10px; }
.poll-input-row { display: flex; align-items: center; gap: 10px; }
.poll-input-row input { flex: 1; background: transparent; border: 1px solid var(--border); border-radius: 8px; padding: 10px 15px; color: var(--text); outline: none; }
.poll-input-row input:focus { border-color: var(--primary-cyan); }
.poll-input-row i { color: var(--muted); cursor: grab; }
.poll-footer { padding: 10px 15px 15px; }
.add-option-btn { color: var(--primary-cyan); font-weight: 700; font-size: 0.9rem; cursor: pointer; }
.add-option-btn:hover { text-decoration: underline; }
.text-toolbar { display: flex; gap: 5px; align-items: center; background: var(--card-bg); border: var(--border); border-radius: 8px; padding: 8px; margin-bottom: 15px; }
.fmt-btn { background: transparent; border: none; color: var(--muted); font-size: 1rem; padding: 8px; border-radius: 4px; cursor: pointer; transition: 0.2s; }
.fmt-btn:hover { background: var(--hover-bg); color: var(--text); }
.fmt-divider { width: 1px; height: 20px; background: var(--border); margin: 0 5px; }

/* --- INLINE COMMENTS (FB STYLE) --- */
.post-comments-section {
    background: rgba(255,255,255,0.03);
    border-top: var(--border);
    margin-top: 15px;
    padding-top: 15px;
    animation: fadeIn 0.2s;
}
body.tm-light .post-comments-section { background: #f9f9f9; }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.comment-list {
    margin-bottom: 15px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}
.comment-item {
    display: flex;
    gap: 10px;
    align-items: flex-start;
}
.c-avatar { width: 32px; height: 32px; border-radius: 50%; object-fit: cover; }
.c-bubble {
    background: var(--hover-bg);
    padding: 8px 12px;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
}
.c-user { font-weight: 700; font-size: 0.85rem; color: var(--text); }
.c-txt { font-size: 0.9rem; color: var(--text); }

.comment-input-row {
    display: flex;
    gap: 10px;
    align-items: center;
}
.c-avatar-small { width: 30px; height: 30px; border-radius: 50%; }
.c-input-wrapper {
    flex: 1;
    background: var(--hover-bg);
    border-radius: 20px;
    display: flex;
    align-items: center;
    padding: 5px 15px;
    border: 1px solid transparent;
}
.c-input-wrapper:focus-within { border-color: var(--primary-cyan); }
.c-input-wrapper input {
    width: 100%;
    background: transparent;
    border: none;
    outline: none;
    color: var(--text);
    padding: 5px 0;
    font-size: 0.9rem;
}
.c-input-wrapper i {
    color: var(--primary-cyan);
    cursor: pointer;
    font-size: 1.1rem;
}


/* --- INLINE COMMENTS (compat: .comment + .c-*) --- */
.comment-list .comment { display: flex; gap: 10px; font-size: 0.9rem; align-items: flex-start; }
.comment-list .comment .c-avatar { width: 32px; height: 32px; border-radius: 50%; flex-shrink: 0; object-fit: cover; }
.comment-list .comment .c-body { flex: 1; min-width: 0; }
.comment-list .comment .c-meta { display: flex; gap: 10px; align-items: baseline; }
.comment-list .comment .c-user { font-weight: 800; font-size: 0.85rem; color: var(--text); }
.comment-list .comment .c-time { font-size: 0.75rem; color: var(--muted); font-weight: 700; }
.comment-list .comment .c-text { 
    background: var(--hover-bg); 
    padding: 8px 12px; 
    border-radius: 12px; 
    display: inline-block; 
    margin-top: 6px; 
    max-width: 100%;
    word-wrap: break-word;
}
.comment-list .comment .c-actions { display: flex; gap: 14px; margin-top: 6px; font-size: 0.75rem; color: var(--muted); font-weight: 800; }
.comment-list .comment .c-actions button { background: transparent; border: none; padding: 0; cursor: pointer; color: inherit; font: inherit; }
.comment-list .comment .c-actions button:hover { color: var(--text); }


/* ================= UPDATED MESSAGES UI ================= */

/* 1. Message Layout */
#view-messages { width: 100%; height: 100vh; overflow: hidden; }
.msg-container { display: flex; height: 100vh; background: var(--bg); }
.msg-sidebar { width: 350px; border-right: var(--border); display: flex; flex-direction: column; background: var(--bg); }
.msg-chat-area { flex: 1; display: flex; flex-direction: column; background: rgba(0,0,0,0.2); border-right: var(--border); position: relative; }
body.tm-light .msg-chat-area { background: #fff; }
.msg-info-panel { width: 320px; background: var(--bg); display: flex; flex-direction: column; padding: 20px; overflow-y: auto; }

/* 2. Message Sidebar Header */
.msg-header-tools {
    padding: 15px;
    border-bottom: var(--border);
    position: relative; /* Context for absolute search */
    background: var(--bg);
    z-index: 10;
}
.mh-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.mh-top h3 { margin: 0; font-size: 1.1rem; font-weight: 800; }
.mh-icons i { 
    font-size: 1.1rem; margin-left: 15px; 
    cursor: pointer; color: var(--text); 
    transition: 0.2s;
}
.mh-icons i:hover { color: var(--primary-cyan); transform: scale(1.1); }

/* IMPROVED SIDEBAR SEARCH BOX */
.msg-search-container {
    margin-bottom: 15px;
    animation: slideDown 0.2s ease-out;
}
.search-input-wrapper {
    background: var(--search-bg);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px;
    display: flex;
    align-items: center;
    padding: 8px 12px;
}
.search-input-wrapper input {
    background: transparent; border: none; outline: none;
    color: var(--text); font-size: 0.9rem; width: 100%; margin: 0 10px;
}
.search-input-wrapper i { color: var(--muted); cursor: pointer; }
.search-input-wrapper i:hover { color: var(--text); }

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Tabs */
.msg-tabs { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; scrollbar-width: none; }
.msg-tabs span { background: rgba(255,255,255,0.05); border: var(--border); border-radius: 15px; padding: 5px 12px; font-size: 0.85rem; font-weight: 600; cursor: pointer; white-space: nowrap; }
.msg-tabs span.active { background: var(--text); color: var(--bg); border-color: var(--text); }
body.tm-light .msg-tabs span.active { background: #000; color: #fff; }

/* User List */
.msg-user-list { flex: 1; overflow-y: auto; }
.msg-user-item { display: flex; gap: 12px; padding: 15px; cursor: pointer; transition: background 0.2s; border-bottom: 1px solid rgba(255,255,255,0.02); }
.msg-user-item:hover, .msg-user-item.active { background: var(--hover-bg); border-left: 3px solid var(--primary-cyan); }
.u-avatar { width: 45px; height: 45px; border-radius: 50%; object-fit: cover; }
.u-info { flex: 1; overflow: hidden; display: flex; flex-direction: column; justify-content: center; }
.u-name { font-weight: 700; font-size: 0.95rem; margin-bottom: 3px; }
.u-preview { font-size: 0.85rem; color: var(--muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.u-meta { font-size: 0.75rem; color: var(--muted); }

/* 3. Active Chat Header Search */
.chat-header { 
    padding: 10px 20px; border-bottom: var(--border); 
    display: flex; justify-content: space-between; align-items: center; 
    background: rgba(2, 4, 10, 0.95); backdrop-filter: blur(10px);
    position: relative; /* For absolute search */
}
body.tm-light .chat-header { background: rgba(255,255,255,0.95); }
.ch-user { display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 1rem; }

.chat-search-bar {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    background: var(--bg);
    border: 1px solid var(--primary-cyan);
    border-radius: 20px;
    padding: 5px 15px;
    display: flex; align-items: center;
    width: 200px;
    z-index: 20;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}
.chat-search-bar input {
    background: transparent; border: none; outline: none;
    color: var(--text); width: 100%; font-size: 0.9rem;
}
.chat-search-bar i { cursor: pointer; color: var(--muted); font-size: 1rem; }

.ch-actions i { 
    font-size: 1.2rem; margin-left: 18px; 
    color: var(--primary-cyan); cursor: pointer; 
    transition: 0.2s;
}
.ch-actions i.active-star {
    font-weight: 900 !important; /* fa-solid */
    color: gold;
}

/* Chat History */
.chat-history { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
.chat-bubble { max-width: 70%; padding: 10px 15px; border-radius: 18px; font-size: 0.95rem; line-height: 1.4; position: relative; }
.chat-bubble.received { background: var(--card-bg); border: var(--border); align-self: flex-start; border-bottom-left-radius: 4px; }
.chat-bubble.sent { background: var(--primary-cyan); color: #000; align-self: flex-end; border-bottom-right-radius: 4px; }
.chat-bubble .time { font-size: 0.65rem; opacity: 0.7; display: block; margin-top: 5px; text-align: right; }

/* 4. Emoji Picker - UPDATED FOR PICMO */
.emoji-picker {
    position: absolute;
    bottom: 70px; /* Above input box */
    left: 20px;
    /* PicMo handles inner layout */
    z-index: 100;
    width: auto;
    height: auto;
    display: block;
    box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    border-radius: 12px;
    overflow: hidden; 
}

/* 5. Chat Input Icons */
.chat-input-box { padding: 15px 20px; border-top: var(--border); display: flex; align-items: center; gap: 15px; background: var(--bg); }
.chat-input-box input { flex: 1; background: transparent; border: none; outline: none; font-size: 0.95rem; color: var(--text); }

.chat-input-box i { font-size: 1.3rem; color: var(--muted); cursor: pointer; transition: 0.2s; }
.chat-input-box i:hover { color: var(--primary-cyan); }
.fa-face-smile:hover { color: #f1c40f !important; }
.fa-dollar-sign:hover { color: #2ecc71 !important; }
.send-icon { color: var(--primary-cyan) !important; }

/* 6. Info Panel Styles */
.info-header { margin-bottom: 25px; }
.info-input-wrap { display: flex; align-items: center; border-bottom: 1px solid var(--muted); padding-bottom: 5px; margin-bottom: 5px; }
.info-nickname-input { background: transparent; border: none; outline: none; font-size: 1.1rem; font-weight: 700; color: var(--text); flex: 1; }
.info-input-wrap i { color: var(--primary-cyan); font-size: 0.9rem; }
.info-profile-link { font-size: 0.85rem; color: var(--primary-cyan); text-decoration: none; }
.info-stats-grid { display: flex; gap: 10px; margin-bottom: 25px; }
.i-stat { flex: 1; background: var(--card-bg); border: var(--border); border-radius: 8px; padding: 10px; display: flex; gap: 10px; align-items: center; }
.icon-box { width: 30px; height: 30px; background: rgba(100, 233, 238, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--primary-cyan); }
.stat-txt { display: flex; flex-direction: column; }
.stat-txt small { font-size: 0.7rem; color: var(--muted); }
.stat-txt strong { font-size: 0.9rem; }
.info-form-group { margin-bottom: 20px; }
.info-form-group label { font-size: 0.75rem; color: var(--muted); font-weight: 700; display: block; margin-bottom: 8px; letter-spacing: 0.5px; }
.info-form-group input, .info-form-group textarea { width: 100%; background: var(--card-bg); border: var(--border); border-radius: 8px; padding: 10px; color: var(--text); font-family: inherit; font-size: 0.9rem; }
.info-form-group textarea { resize: none; height: 80px; }
.info-section-link { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-top: var(--border); border-bottom: var(--border); cursor: pointer; font-weight: 600; margin-bottom: 20px; }
.info-section-link:hover { color: var(--primary-cyan); }
.btn-view-history { width: 100%; padding: 12px; border-radius: 30px; border: 1px solid var(--border); background: transparent; color: var(--text); font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; transition: 0.2s; }
.btn-view-history:hover { border-color: var(--primary-cyan); color: var(--primary-cyan); }

@media (max-width: 1000px) {
    .msg-sidebar { width: 80px; }
    .msg-user-item { padding: 15px 5px; justify-content: center; }
    .u-info, .u-meta, .mh-top h3, .msg-tabs { display: none; }
    .msg-info-panel { display: none; }
}

/* =========================================
   COLLECTIONS VIEW STYLING (New)
   ========================================= */

.collection-tabs-bar {
    display: flex;
    border-bottom: var(--border);
    background: var(--bg);
}
.collection-tabs-bar.secondary {
    background: transparent;
    padding: 0 20px;
}

.c-tab-item {
    flex: 1;
    text-align: center;
    padding: 15px;
    font-weight: 700;
    font-size: 0.9rem;
    color: var(--muted);
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
}
.c-tab-item:hover { color: var(--text); }
.c-tab-item.active {
    color: var(--text);
    border-bottom-color: var(--text);
}

.collection-list-container {
    padding: 0;
}

.c-list-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    color: var(--muted);
    font-size: 0.85rem;
    font-weight: 600;
    border-bottom: 1px solid rgba(255,255,255,0.05);
}

.c-list-item {
    padding: 20px;
    border-bottom: 1px solid rgba(255,255,255,0.05);
    cursor: pointer;
    transition: background 0.2s;
}
.c-list-item:hover, .c-list-item.active {
    background: var(--hover-bg);
}
.c-list-item.active {
    border-left: 3px solid var(--primary-cyan);
}

.c-item-content {
    display: flex;
    flex-direction: column;
}
.c-item-name {
    font-weight: 700;
    font-size: 1rem;
    color: var(--text);
}
.c-item-status {
    font-size: 0.85rem;
    color: var(--muted);
}

/* Right Sidebar Collection Detail */
.rs-col-header {
    padding: 20px;
    border-bottom: var(--border);
}
.rs-col-header h3 {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 800;
}

.rs-col-filters {
    padding: 20px;
    border-bottom: var(--border);
}
.filter-head {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    color: var(--muted);
    font-size: 0.85rem;
    font-weight: 700;
}
.fh-icons { display: flex; gap: 15px; font-size: 1rem; cursor: pointer; }

.filter-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}
.chip {
    background: rgba(255,255,255,0.1);
    padding: 5px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text);
    cursor: pointer;
}
.chip.active {
    background: var(--primary-cyan);
    color: #000;
}

.rs-col-empty {
    padding: 50px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: var(--muted);
    gap: 15px;
}
.empty-icon-wrap {
    width: 80px;
    height: 80px;
    background: var(--hover-bg);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
}

/* --- GRID 5 COLUMNS FOR MEDIA --- */
#rs-media-grid-content {
    display: grid;
    grid-template-columns: repeat(5, 1fr); /* 5 Columns */
    gap: 5px;
    padding-top: 10px;
}

/* Responsive: Bawas columns pag lumiit ang screen */
@media (max-width: 1400px) {
   #rs-media-grid-content { grid-template-columns: repeat(4, 1fr); }
}
@media (max-width: 1100px) {
   #rs-media-grid-content { grid-template-columns: repeat(3, 1fr); }
}


/* =========================================
   PREMIUM MODAL STYLING (SweetAlert2 Customization)
   ========================================= */

/* 1. Main Modal Box (Background & Shape) */
div:where(.swal2-container) div:where(.swal2-popup) {
    background: #0d1423 !important; /* Dark Blue Background */
    border: 1px solid rgba(100, 233, 238, 0.3); /* Subtle Cyan Border */
    border-radius: 24px !important; /* Mas bilog na kanto */
    padding: 30px !important;
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.8), 
                0 0 15px rgba(100, 233, 238, 0.1) !important; /* Glow effect */
}

/* 2. Modal Title */
div:where(.swal2-container) h2:where(.swal2-title) {
    color: #F6FAFF !important;
    font-family: 'Montserrat', sans-serif;
    font-weight: 800;
    font-size: 1.5rem;
    margin-bottom: 10px;
}

/* 3. Helper Text (Description) */
div:where(.swal2-container) .swal2-html-container {
    color: #8a96a3 !important; /* Muted text */
    font-size: 0.95rem;
    margin-bottom: 20px;
}

/* 4. Textboxes (Inputs & Textarea) */
div:where(.swal2-container) input:where(.swal2-input), 
div:where(.swal2-container) textarea:where(.swal2-textarea) {
    background: rgba(255, 255, 255, 0.03) !important; /* Almost transparent */
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: #fff !important;
    border-radius: 12px !important;
    font-size: 1rem;
    padding: 15px !important;
    margin: 10px auto !important;
    width: 90% !important;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.5); /* Inner shadow depth */
    transition: all 0.3s ease;
}

/* Focus State (Kapag nagta-type) */
div:where(.swal2-container) input:where(.swal2-input):focus, 
div:where(.swal2-container) textarea:where(.swal2-textarea):focus {
    border-color: #64E9EE !important; /* Cyan border */
    box-shadow: 0 0 0 3px rgba(100, 233, 238, 0.2) !important; /* Glow ring */
    background: rgba(255, 255, 255, 0.05) !important;
    outline: none;
}

/* 5. Buttons Container */
div:where(.swal2-container) .swal2-actions {
    margin-top: 25px !important;
    gap: 15px;
    width: 100%;
    justify-content: center;
}

/* Confirm Button (Attach Price) */
div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm {
    background: linear-gradient(135deg, #64E9EE 0%, #4bc5ca 100%) !important;
    color: #000 !important;
    font-weight: 700;
    font-size: 1rem;
    padding: 14px 30px !important;
    border-radius: 50px !important; /* Pill shape */
    box-shadow: 0 5px 20px rgba(100, 233, 238, 0.4) !important; /* Glowing shadow */
    border: none !important;
    width: auto;
    min-width: 140px;
}
div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(100, 233, 238, 0.6) !important;
}

/* Cancel Button */
div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel {
    background: transparent !important;
    color: #8a96a3 !important;
    border: 1px solid rgba(255,255,255,0.2) !important;
    border-radius: 50px !important;
    padding: 14px 25px !important;
    font-weight: 600;
}
div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:hover {
    background: rgba(255,255,255,0.05) !important;
    color: #fff !important;
    border-color: #fff !important;
}

/* =========================
   Search Overlay (Option C)
   ========================= */
.tm-search-overlay{
  position:fixed;
  inset:0;
  z-index:999999;
  background:rgba(0,0,0,0.85);
  display:none;
  align-items:center;
  justify-content:center;
  padding:18px;
}
.tm-search-overlay.is-open{ display:flex; }
.tm-search-sheet{
  width:min(720px, 100%);
  max-height:min(80vh, 680px);
  background:rgba(13,20,35,0.98);
  border:1px solid rgba(255,255,255,0.10);
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 30px 80px rgba(0,0,0,0.55);
}
.tm-search-head{
  display:flex;
  align-items:center;
  gap:10px;
  padding:14px 14px;
  border-bottom:1px solid rgba(255,255,255,0.08);
}
.tm-search-head i{ opacity:0.9; }
.tm-search-input{
  flex:1;
  background:transparent;
  border:none;
  outline:none;
  color:var(--text);
  font-size:1rem;
  font-family:'Montserrat', sans-serif;
}
.tm-search-close{
  background:transparent;
  border:none;
  color:var(--text);
  opacity:0.85;
  cursor:pointer;
  padding:8px;
  border-radius:10px;
}
.tm-search-close:hover{
  opacity:1;
  background:rgba(255,255,255,0.05);
}
.tm-search-body{
  padding:10px 14px 14px;
  overflow:auto;
  max-height:calc(min(80vh, 680px) - 56px);
}
.tm-search-hint{
  color:var(--muted);
  font-size:0.85rem;
  padding:10px 6px;
}
.tm-search-result{
  padding:12px 12px;
  border:1px solid rgba(255,255,255,0.08);
  border-radius:14px;
  margin:10px 0;
  cursor:pointer;
  background:rgba(255,255,255,0.02);
}
.tm-search-result:hover{
  background:rgba(255,255,255,0.05);
  border-color:rgba(255,255,255,0.14);
}
.tm-search-result .title{
  font-weight:700;
  font-size:0.95rem;
  margin-bottom:6px;
}
.tm-search-result .meta{
  color:var(--muted);
  font-size:0.78rem;
  line-height:1.35;
}
.tm-search-highlight{
  outline:2px solid rgba(100,233,238,0.65);
  box-shadow:0 0 0 6px rgba(100,233,238,0.10);
  border-radius:16px;
}
@media (max-width: 768px){
  .tm-search-sheet{ border-radius:16px; max-height:88vh; }
}

/* ===== settings.html inline style (moved) ===== */
select option { background-color: #1a1a1a; color: #fff; padding: 10px; }
        .crypto-pill { display: inline-flex; align-items: center; gap: 8px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; color: var(--muted); }
        body.tm-light .crypto-pill { background: #e4e6eb; border-color: #ccc; color: #333; }
        body.tm-light select option { background-color: #fff; color: #000; }
        /* Mobile Settings: drill-down view (next page) */
        .settings-mobile-detail {
        position: fixed;
        inset: 0;
        background: var(--bg);
        z-index: 2147483000;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 90px; /* space for bottom nav */
        transform: translateX(100%);
        transition: transform 0.22s ease;
    }
        .settings-mobile-detail.is-open { transform: translateX(0); }
        .settings-mobile-detail .tm-mobile-detail-header{
            position: sticky;
            top: 0;
            z-index: 50;
            background: var(--bg);
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }
        .settings-mobile-detail .tm-mobile-back{
            cursor: pointer;
            margin-right: 12px;
            color: var(--text);
            font-size: 0.95rem;
        }
        @media (min-width: 1025px) {
        .settings-mobile-detail { display: none !important; }
    }



/* ===== Inline styles moved from creators.html ===== */

/* ===== Creators: Subscriptions view (production wiring) ===== */

    #view-subscriptions .subs-search-row {

      padding: 12px 15px;

      border-bottom: 1px solid var(--border-color);

      background: transparent;

    }

    #view-subscriptions .subs-search-wrap {

      display: flex;

      align-items: center;

      gap: 10px;

      padding: 10px 12px;

      border: 1px solid var(--border-color);

      border-radius: 12px;

      background: rgba(255,255,255,0.03);

    }

    #view-subscriptions .subs-search-wrap i { color: var(--muted); font-size: 14px; }

    #view-subscriptions .subs-search-wrap input {

      flex: 1;

      background: transparent;

      border: none;

      outline: none;

      color: var(--text);

      font-size: 14px;

      font-family: 'Montserrat', sans-serif;

      min-width: 0;

    }

    #view-subscriptions .subs-search-clear {

      border: none;

      background: transparent;

      color: var(--muted);

      cursor: pointer;

      padding: 6px 8px;

      border-radius: 10px;

    }

    #view-subscriptions .subs-search-clear:hover { background: rgba(255,255,255,0.06); color: var(--text); }



    #view-subscriptions .subs-loading,

    #view-subscriptions .subs-empty {

      display: none;

      flex-direction: column;

      align-items: center;

      justify-content: center;

      padding: 70px 15px;

      color: var(--muted);

      text-align: center;

    }

    #view-subscriptions .subs-loading.show,

    #view-subscriptions .subs-empty.show { display: flex; }



    #view-subscriptions .subs-spinner {

      width: 34px;

      height: 34px;

      border-radius: 50%;

      border: 3px solid rgba(255,255,255,0.12);

      border-top-color: rgba(100,233,238,0.95);

      animation: subsSpin 0.9s linear infinite;

    }

    @keyframes subsSpin { to { transform: rotate(360deg); } }



    #view-subscriptions .subs-list {

      padding: 10px 15px 25px;

      display: flex;

      flex-direction: column;

      gap: 10px;

    }

    #view-subscriptions .subs-user {

      display: flex;

      align-items: center;

      justify-content: space-between;

      gap: 14px;

      padding: 12px 12px;

      border: 1px solid var(--border-color);

      border-radius: 14px;

      background: rgba(255,255,255,0.02);

      cursor: pointer;

      transition: 0.18s ease;

    }

    #view-subscriptions .subs-user:hover { transform: translateY(-1px); background: rgba(255,255,255,0.04); }

    #view-subscriptions .subs-user .left { display: flex; align-items: center; gap: 12px; min-width: 0; }

    #view-subscriptions .subs-user img {

      width: 44px;

      height: 44px;

      border-radius: 50%;

      object-fit: cover;

      background: #000;

      flex-shrink: 0;

    }

    #view-subscriptions .subs-user .meta { min-width: 0; }

    #view-subscriptions .subs-user .name {

      color: var(--text);

      font-weight: 800;

      font-size: 13px;

      white-space: nowrap;

      overflow: hidden;

      text-overflow: ellipsis;

      max-width: 190px;

    }

    #view-subscriptions .subs-user .handle {

      color: var(--muted);

      font-weight: 700;

      font-size: 12px;

      white-space: nowrap;

      overflow: hidden;

      text-overflow: ellipsis;

      max-width: 190px;

      margin-top: 2px;

    }

    #view-subscriptions .subs-user .right {

      display: flex;

      align-items: flex-end;

      flex-direction: column;

      gap: 8px;

      flex-shrink: 0;

      text-align: right;

    }

    #view-subscriptions .subs-mini { color: var(--muted); font-size: 11px; font-weight: 700; }

    #view-subscriptions .subs-badge {

      padding: 6px 10px;

      border-radius: 999px;

      font-size: 11px;

      font-weight: 900;

      letter-spacing: 0.6px;

      border: 1px solid var(--border-color);

    }

    #view-subscriptions .subs-badge.active { color: #64E9EE; }

    #view-subscriptions .subs-badge.expired { color: #ff6384; }

    #view-subscriptions .pill-count {

      margin-left: 6px;

      font-weight: 900;

      opacity: 0.9;

    }



    @media (max-width: 480px) {

      #view-subscriptions .subs-user { padding: 10px 10px; }

      #view-subscriptions .subs-user .name,

      #view-subscriptions .subs-user .handle { max-width: 150px; }

    }

/* ===== Creators: Subscription Detail (production wiring) ===== */
/* ==========================================================
   MOBILE VIEW (430px pababa) - COMPREHENSIVE FONT & LAYOUT SCALING
   ========================================================== */
@media (max-width: 430px) {
    /* 1. Base Font Size */
    html { font-size: 10px !important; } /* ðŸ”¥ Pinababa natin para lumiit lahat ng gumagamit ng 'rem' */

    /* 2. FEED & POSTS */
    .feed-top-header h2 { font-size: 1rem !important; }
    .post-body { font-size: 0.9rem !important; }
    .ph-name { font-size: 0.9rem !important; }
    .ph-handle { font-size: 0.75rem !important; }

    /* 3. SETTINGS MENU & LINKS */
    .settings-mobile-back { font-size: 0.9rem !important; padding: 10px 15px !important; }
    .set-group-title { font-size: 0.7rem !important; padding: 12px 15px 6px !important; }
    .set-item { padding: 10px 15px !important; }
    .set-icon { font-size: 0.9rem !important; width: 25px !important; }
    .set-info span { font-size: 0.85rem !important; }
    .set-info small { font-size: 0.65rem !important; }
    .set-section-header { font-size: 0.8rem !important; }
    .set-link-row { font-size: 0.85rem !important; padding: 10px !important; }

    /* 4. PROFILE SETTINGS (Edit Profile, Bio, Account Forms) */
    .info-nickname-input { font-size: 0.9rem !important; }
    .info-profile-link { font-size: 0.7rem !important; }
    .stat-txt strong { font-size: 0.8rem !important; }
    .stat-txt small { font-size: 0.6rem !important; }
    .icon-box { width: 24px !important; height: 24px !important; font-size: 0.75rem !important; }
    .i-stat { padding: 6px !important; }

    /* Form Labels & Inputs */
    .info-form-group label, .ac-group label { font-size: 0.65rem !important; margin-bottom: 4px !important; }
    .info-form-group input, .info-form-group textarea, .ac-group input, .ac-group textarea, .ac-group select { 
        font-size: 0.8rem !important; padding: 8px 10px !important; min-height: 36px !important; 
    }

    /* Bio Wrapper */
    .bio-wrapper textarea { font-size: 0.8rem !important; }
    .bio-wrapper label { font-size: 0.8rem !important; top: 12px !important; }
    .bio-wrapper textarea:focus + label, .bio-wrapper textarea:not(:placeholder-shown) + label { 
        font-size: 0.65rem !important; top: 4px !important; 
    }

    /* Buttons */
    .btn-save-setup, .btn-view-history, .ac-submit-row button, .btn-submit-card { 
        font-size: 0.8rem !important; padding: 8px 16px !important; min-width: 100px !important; 
    }

    /* Info & Warning Boxes */
    .of-warning-box, .of-info-box { font-size: 0.75rem !important; padding: 10px !important; }
    .wb-text strong { font-size: 0.8rem !important; }

    /* 5. SUBSCRIPTIONS */
    #view-subscriptions .subs-search-wrap input { font-size: 12px !important; }
    #view-subscriptions .subs-user .name { font-size: 11px !important; max-width: 130px !important; }
    #view-subscriptions .subs-user .handle { font-size: 10px !important; max-width: 130px !important; }
    #view-subscriptions .subs-mini { font-size: 9px !important; }
    #view-subscriptions .subs-badge { font-size: 9px !important; padding: 3px 6px !important; }

    /* ðŸ”¥ 6. SPACE SAVER PARA SA PROFILE (Tanggal Dead Space sa Ilalim) ðŸ”¥ */
    /* Tinaasan ang "specificity" (html body...) para sapilitang matalo yung nakatagong violet padding! */
    /* ðŸ”¥ 6. SPACE SAVER PARA SA PROFILE (Tanggal Dead Space sa Ilalim) ðŸ”¥ */
    html body .settings-mobile-detail, 
    html body .main-feed-column, 
    html body .main-feed-column:not(.hidden),
    html body #view-settings, 
    html body #rs-settings-view {
        margin-bottom: 0 !important; /* <--- ITO ANG DIRETSANG PAPATAY SA VIOLET SPACE */
        padding-bottom: 80px !important; /* <--- Para hindi matakpan ng mobile nav menu */
        min-height: 100dvh !important; /* <--- Para isagad pababa ang mismong layout */
    }

    html body .profile-setup-container { margin-bottom: 20px !important; } 

    .ac-submit-row { margin-bottom: 10px !important; } 
    .ac-section { margin-bottom: 10px !important; } 
    .bio-input-group { margin-bottom: 10px !important; } 
    
    .setup-header-img { height: 150px !important; } 
   
}
/* ðŸ”¥ 8. PAMPATAY NG VIOLET SPACE SA TABLET VIEW (Hanggang 1024px) ðŸ”¥ */
@media (max-width: 1024px) {
    html body .settings-mobile-detail, 
    html body .main-feed-column, 
    html body .main-feed-column:not(.hidden),
    html body #view-settings, 
    html body #rs-settings-view,
    html body .of-layout-container {
        margin-bottom: 0 !important; /* Pinatay ang margin sa tablet */
        min-height: 100dvh !important; /* Sinagad pababa ang layout */
    }
    
    /* Sinigurado na dark ang background kahit may sumilip */
    html, body {
        background-color: var(--bg) !important;
    }
}

/* === TM FINAL COMMENT THREAD UI PATCH v2 === */
/* Keep comments/replies vertical and avoid diagonal/slanted thread layout */
.post-comments-section .comment-list .comment-replies {
  margin-left: 0 !important;
  padding-left: 0 !important;
  border-left: none !important;
}
.post-comments-section .comment-list .comment-item.reply-item {
  margin-left: 14px !important;
}
.post-comments-section .comment-list .comment-item[data-depth="1"] {
  margin-left: 14px !important;
}
.post-comments-section .comment-list .comment-item {
  transform: none !important;
  clear: both;
  width: 100%;
  max-width: 100%;
}
.post-comments-section .comment-list .comment-body {
  min-width: 0;
}
.post-comments-section .comment-list .comment-bubble {
  max-width: min(520px, calc(100% - 48px));
  word-break: break-word;
  overflow-wrap: anywhere;
}
.post-comments-section .comment-list .comment-actions {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
}
.post-comments-section .comment-list .comment-actions .comment-delete,
.post-comments-section .comment-list .tm-view-more-comments,
.post-comments-section .comment-list .tm-view-more-replies {
  border: 0;
  background: transparent;
  color: #8ea0c7;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  padding: 2px 0;
}
.post-comments-section .comment-list .comment-actions .comment-delete:hover,
.post-comments-section .comment-list .tm-view-more-comments:hover,
.post-comments-section .comment-list .tm-view-more-replies:hover {
  color: #cfe3ff;
  text-decoration: underline;
}
.post-comments-section .comment-list .comment-actions .comment-delete {
  color: #ff8fa3;
}
.post-comments-section .comment-list .comment-actions .comment-delete:hover {
  color: #ffd0d8;
}
.post-comments-section .comment-list .tm-view-more-comments,
.post-comments-section .comment-list .tm-view-more-replies {
  display: inline-flex;
  align-items: center;
  margin: 4px 0 6px 42px;
}
/* Ensure nested replies still stack vertically */
.post-comments-section .comment-list .comment-replies > .comment-item {
  display: flex;
}
/* === TM COMMENTS THREAD PATCH V3 (append-only styles) === */
.tm3-thread{
  display:flex;
  flex-direction:column;
  gap:8px;
  margin-top:8px;
}

.tm3-node{
  display:block;
  margin:0;
  padding:0;
}

.tm3-row{
  display:flex;
  align-items:flex-start;
  gap:8px;
  width:100%;
}

.tm3-avatar{
  width:30px;
  height:30px;
  min-width:30px;
  border-radius:50%;
  overflow:hidden;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.08);
}

.tm3-avatar img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.tm3-body{
  flex:1;
  min-width:0;
}

.tm3-bubble{
  display:inline-block;
  max-width:min(100%, 560px);
  background:#070b14;
  border:1px solid rgba(255,255,255,.06);
  border-radius:12px;
  padding:8px 10px;
  box-shadow:none;
}

.tm3-name{
  font-weight:700;
  font-size:12px;
  line-height:1.15;
  color:#fff;
  margin:0 0 2px 0;
}

.tm3-text{
  font-size:12px;
  line-height:1.35;
  color:#dbe8ff;
  white-space:pre-wrap;
  word-break:break-word;
}

.tm3-actions-row{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
  margin:4px 0 0 2px;
}

.tm3-text-btn,
.tm3-emoji-btn,
.tm3-react-btn{
  appearance:none;
  background:transparent;
  border:none;
  color:rgba(219,232,255,.7);
  font-size:11px;
  line-height:1.2;
  padding:0;
  cursor:pointer;
}

.tm3-text-btn:hover,
.tm3-emoji-btn:hover,
.tm3-react-btn:hover{
  color:#7ce9f4;
}

.tm3-text-btn.tm3-danger:hover{
  color:#ff6b6b;
}

.tm3-view-more{
  appearance:none;
  background:transparent;
  border:none;
  color:#7ce9f4;
  font-size:12px;
  font-weight:600;
  cursor:pointer;
  padding:2px 0;
  margin:2px 0 4px 38px;
  text-align:left;
}

.tm3-view-more:hover{
  text-decoration:underline;
}

.tm3-children{
  margin-top:4px;
  margin-left:14px;           /* âœ… vertical indentation only */
  padding-left:10px;
  border-left:1px solid rgba(124,233,244,.18);
  display:flex;
  flex-direction:column;
  gap:8px;
}

.tm3-inline-reply-form{
  display:flex;
  align-items:center;
  gap:6px;
  margin:6px 0 2px 0;
  max-width:560px;
}

.tm3-reply-input{
  flex:1;
  min-width:0;
  height:30px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);
  color:#fff;
  outline:none;
  padding:0 12px;
  font-size:12px;
}

.tm3-reply-input::placeholder{
  color:rgba(219,232,255,.45);
}

.tm3-send{
  appearance:none;
  border:none;
  width:30px;
  height:30px;
  border-radius:999px;
  background:rgba(124,233,244,.15);
  color:#7ce9f4;
  cursor:pointer;
  font-weight:700;
}

.tm3-send:hover{
  background:rgba(124,233,244,.25);
}

/* Mobile tightening */
@media (max-width: 640px){
  .tm3-bubble{
    max-width:100%;
  }
  .tm3-children{
    margin-left:10px;
    padding-left:8px;
  }
  .tm3-view-more{
    margin-left:34px;
  }
}
/* === TM COMMENT THREAD PATCH v4 CSS (general, works even if wrapper class changes) === */
.comment-list .comment-replies {
  margin-left: 0 !important;
  padding-left: 0 !important;
  border-left: none !important;
}

.comment-list .comment-item {
  transform: none !important;
  clear: both;
  width: 100%;
  max-width: 100%;
}

.comment-list .comment-item[style*="padding-left"] {
  /* keep nesting vertical: constant indent only */
  padding-left: 14px !important;
}

.comment-list .comment-bubble {
  max-width: min(520px, calc(100% - 48px));
  word-break: break-word;
  overflow-wrap: anywhere;
}

.tm-view-more-comments,
.tm-view-more-replies {
  background: transparent;
  border: none;
  padding: 6px 0;
  margin: 4px 0 8px 0;
  font-size: 0.85rem;
  font-weight: 700;
  color: var(--primary, #64E9EE);
  cursor: pointer;
  text-align: left;
}

.comment-actions {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 10px;
}

.comment-actions .action-delete-comment {
  color: #ff6b6b;
  font-weight: 800;
  cursor: pointer;
}
/* =========================================================
   Mobile/Tablet: Persistent Menu button (opens settings drawer)
   ========================================================= */
.tm-mobile-menu-fab {
  display: none !important;
}

@media (max-width: 1024px) {
  .tm-mobile-menu-fab {
    display: flex !important;
    position: fixed;
    top: calc(env(safe-area-inset-top) + 12px);
    right: 12px;

    width: 42px;
    height: 42px;
    border-radius: 14px;

    border: 1px solid rgba(255,255,255,0.14);
    background: rgba(2, 4, 10, 0.72);
    backdrop-filter: blur(10px);

    align-items: center;
    justify-content: center;

    color: var(--text);
    z-index: 2147483646;
    box-shadow: 0 10px 24px rgba(0,0,0,0.35);
  }

  .tm-mobile-menu-fab:hover {
    background: rgba(100,233,238,0.10);
    border-color: rgba(100,233,238,0.35);
  }

  .tm-mobile-menu-fab i { font-size: 18px; }
}

/* Hide when compose sheet is open (para di mag-overlap) */
body.compose-sheet-open .tm-mobile-menu-fab {
  display: none !important;
}