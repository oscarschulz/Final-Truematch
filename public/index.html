<!DOCTYPE html>
<html lang="en" class="tm-home">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>iTRUEMATCH — Curated Dates for Busy Professionals</title>

  <link rel="icon" href="assets/images/truematch-mark.png" />
  <link rel="apple-touch-icon" href="assets/images/truematch-mark.png" />

  <link rel="stylesheet" href="font.css" />
  <link rel="stylesheet" href="animations.css" />
  <link rel="stylesheet" href="style.css" />
  
  <link rel="stylesheet" href="fomo.css" />


  <style>
    /* Inner Circle: hint-only two options + email capture */
    .footer-newsletter-card .inner-hint{
      display:inline;
      padding:0;
      border:0;
      border-radius:0;
      background:transparent;
      line-height:1.1;
      margin:0;
      font-weight:800;
      letter-spacing:0.2px;
      color: var(--text);
    }
    .footer-newsletter-card .sep{ opacity:.55; padding:0 6px; }
    .footer-newsletter-card .inner-circle-msg{ margin-top:10px; }
    .footer-newsletter-card .inner-circle-msg.success{ opacity:.95; }
    .footer-newsletter-card .inner-circle-msg.error{ opacity:.95; }
  

    /* Legal modals (Privacy / Terms / Cookies) */
    .tm-modal { position: fixed; inset: 0; z-index: 9999; display: none; }
    .tm-modal.is-open { display: block; }
    .tm-modal__overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.65); backdrop-filter: blur(6px); }
    .tm-modal__dialog {
      position: relative;
      width: min(920px, calc(100vw - 28px));
      max-height: min(76vh, 740px);
      margin: 7vh auto 0;
      background: rgba(2,4,10,0.92);
      border: 1px solid rgba(100,233,238,0.45);
      border-radius: 18px;
      box-shadow: 0 25px 80px rgba(0,0,0,0.55), 0 0 28px rgba(100,233,238,0.10);
      overflow: hidden;
    }
    .tm-modal__header {
      padding: 18px 18px 14px;
      border-bottom: 1px solid rgba(255,255,255,0.07);
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 14px;
    }
    .tm-modal__title { margin: 0; font-size: 1.25rem; font-weight: 850; color: var(--text); }
    .tm-modal__meta { margin-top: 4px; opacity: .9; }
    .tm-modal__close {
      width: 38px; height: 38px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      color: var(--text);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      line-height: 1;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
      flex: 0 0 auto;
    }
    .tm-modal__close:hover { transform: translateY(-1px); border-color: rgba(100,233,238,0.55); background: rgba(100,233,238,0.10); }
    .tm-modal__body {
      padding: 18px;
      overflow: auto;
      max-height: calc(min(76vh, 740px) - 68px);
    }
    .tm-modal__body h4 { margin: 18px 0 8px; font-size: 1.05rem; font-weight: 800; color: var(--text); }
    .tm-modal__body p { margin: 0 0 10px; line-height: 1.7; color: var(--muted); }
    .tm-modal__body ul { margin: 0 0 12px 18px; color: var(--muted); line-height: 1.7; }
    .tm-modal__body li { margin: 6px 0; }
    .tm-modal__body a { color: var(--primary); text-decoration: none; }
    .tm-modal__body a:hover { text-decoration: underline; }

    body.tm-modal-open { overflow: hidden; }

    @media (max-width: 600px) {
      .tm-modal__dialog { margin: 10vh auto 0; max-height: 78vh; border-radius: 16px; }
      .tm-modal__header { padding: 16px 14px 12px; }
      .tm-modal__body { padding: 14px; max-height: calc(78vh - 64px); }
    }

  </style>


  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
  <div id="app-loader">
      <img src="assets/images/truematch-mark.png" class="loader-logo" alt="Loading...">
      <div class="loader-text">iTRUEMATCH</div>
  </div>

  <canvas id="tm-bg-canvas" aria-hidden="true"></canvas>

  <header class="site-header">
    <div class="container nav">
      
      <a href="#" class="brand" aria-label="iTRUEMATCH home">
        <img src="assets/images/truematch-mark.png" alt="iTRUEMATCH" class="brand__logo" />
        <span class="brand__name">iTRUEMATCH</span>
      </a>

      <button class="nav__toggle" aria-label="Toggle menu" aria-expanded="false">
        <span class="nav__bar"></span>
        <span class="nav__bar"></span>
        <span class="nav__bar"></span>
      </button>

      <div class="nav__dropdown" id="navDropdown" aria-label="Mobile menu">
        <button type="button" class="nav__close" aria-label="Close menu">&times;</button>
        
        <div class="nav__links-container">
          <a href="#how-it-works">How It Works</a>
          <a href="#features">Why Us</a>
          <a href="#pricing">Pricing</a>
          <a href="#faq">FAQ</a>
        </div>

        <div class="sidebar-bottom-actions">
          <a class="btn" href="auth.html">Sign In</a>
          <a class="btn primary" href="auth.html?mode=signup">Sign Up</a>
        </div>
      </div>

      <nav class="nav__menu" aria-label="Primary">
        <a href="#how-it-works">How it works</a>
        <a href="#features">Why Us</a>
        <a href="#pricing">Pricing</a>
        <a href="#faq">FAQ</a>
      </nav>

      <div class="nav__actions">
        <a class="btn" href="auth.html">Sign In</a>
        <a class="btn primary" href="auth.html?mode=signup">Sign Up</a>
      </div>
      
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-container">
        <div class="hero__grid reveal-trigger">
          
          <div class="hero__copy reveal-left">
            <div class="pill">Curated dates • Real people • Less time wasted</div>
            
            <h1>Curated Dates for <span class="highlight">Busy Professionals</span></h1>
            
            <p>
              iTRUEMATCH is an exclusive dating platform where verified users connect with intent. No swiping fatigue, just curated matches.
            </p>

            <div class="hero__cta">
              <button class="btn primary hero-btn" type="button" id="btnGetStarted">Get Started</button>
              <a class="btn hero-btn" href="#how-it-works">How It Works</a>
            </div>

            <div class="hero__social-proof">
              <div class="avatars">
                <div class="avatar c1"></div>
                <div class="avatar c2"></div>
                <div class="avatar c3"></div>
              </div>
              <span class="proof-text">Join <strong>2,000+</strong> Verified Members</span>
            </div>
          </div>

          <div class="hero__media reveal-right">
            <div class="hero__img-wrapper floating">
              <img
                src="assets/images/truematch-hero-logo.png"
                alt="iTRUEMATCH App Interface"
                class="hero__logo"
                loading="eager"
                decoding="async"
              />
            </div>
          </div>

        </div>
      </div>

      <a href="#how-it-works" class="scroll-indicator">
        <span>Scroll to Explore</span>
        <div class="mouse">
          <div class="wheel"></div>
        </div>
        <div class="scroll-arrow"></div>
      </a>
    </section>

    <section id="how-it-works">
      <div class="container">
        <h2 class="section__title">How it works</h2>
        
        <div class="steps-wrapper reveal-trigger">
          
          <div class="step-card reveal-left">
            <div class="step-number">01</div>
            <h3>Tell us your preferences</h3>
            <p class="muted">
              You set your filters and intent. We use it to make better matches tailored to your lifestyle.
            </p>
          </div>

          <div class="step-card reveal-up reveal-delay-100">
            <div class="step-number">02</div>
            <h3>Get curated profiles</h3>
            <p class="muted">
              No spam, no bots. Just a daily shortlist selected based on compatibility and vibe.
            </p>
          </div>

          <div class="step-card reveal-right reveal-delay-200">
            <div class="step-number">03</div>
            <h3>Approve & set a date</h3>
            <p class="muted">
              Choose the profiles you like. We help move things forward so you can meet IRL.
            </p>
          </div>

        </div>
      </div>
    </section>

    <section id="features">
      <div class="container">
        <h2 class="section__title">Why iTRUEMATCH</h2>
        
        <div class="bento-grid reveal-trigger">
          
          <div class="bento-card wide reveal-down">
            <div class="bento-content">
              <div class="bento-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M6 3L20 12L6 21V3Z" fill="none"/> 
                  <path d="M2.5 12l9.5-9.5 9.5 9.5-9.5 9.5-9.5-9.5z" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <div>
                <h3>Curated Matches</h3>
                <p class="muted">Daily shortlists of vetted profiles chosen around your type, lifestyle, and city. Quality over quantity.</p>
              </div>
            </div>
          </div>

          <div class="bento-card reveal-left reveal-delay-100">
            <div class="bento-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="4" y="4" width="16" height="20" rx="2" transform="rotate(-5 12 14)" />
                <rect x="4" y="4" width="16" height="20" rx="2" transform="rotate(5 12 14)" style="opacity:0.5"/>
              </svg>
            </div>
            <h3>Swipe Discovery</h3>
            <p class="muted">Tinder-style swiping for extra discovery. Included with Tier 2 &amp; Tier 3 plans.</p>
          </div>

          <div class="bento-card reveal-right reveal-delay-100">
            <div class="bento-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="10" />
                <polygon points="10 8 16 12 10 16 10 8" fill="currentColor" style="opacity:0.8"/>
              </svg>
            </div>
            <h3>Creator Access</h3>
            <p class="muted">Subscribe to see safe, non-explicit content from approved creators and unlock PPVs.</p>
          </div>

          <div class="bento-card wide reveal-up reveal-delay-200">
            <div class="bento-content">
              <div class="bento-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M2 4l3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <div>
                <h3>Premium Society</h3>
                <p class="muted">High-priority matching, faster follow-ups, and a private space for serious members.</p>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <section id="pricing">
      <div class="container">
        <h2 class="section__title">Membership Tiers</h2>
        <div class="pricing-grid reveal-trigger">
          
          <div class="price-card free reveal-down">
            <span class="price__tag">Free</span>
            <div class="price__value">$0 <small>/mo</small></div>
            <p class="muted tiny">Everything you need to look around.</p>
            <ul class="price__list">
              <li>Create a profile</li>
              <li>Limited Swipes</li>
              <li>Basic Chat</li>
            </ul>
            <a class="btn price-btn" href="auth.html?mode=signup">Sign Up Free</a>
          </div>

          <div class="price-card plus reveal-up reveal-delay-100">
            <span class="price__tag">Plus</span>
            <div class="price__value">$28.12 <small>/mo</small></div>
            <p class="muted tiny">More control and visibility.</p>
            <ul class="price__list">
              <li>Unlimited swipes</li>
              <li>Advanced filters</li>
              <li>Read receipts</li>
            </ul>
            <a class="btn primary price-btn" href="auth.html?mode=signup&prePlan=tier1">Get Plus</a>
          </div>

          <div class="price-card elite reveal-down reveal-delay-200">
            <span class="price__tag">Elite</span>
            <div class="price__value">$95 <small>/mo</small></div>
            <p class="muted tiny">For high-value connections.</p>
            <ul class="price__list">
              <li>Everything in Plus</li>
              <li>Daily curated shortlist</li>
              <li>Higher visibility</li>
            </ul>
            <a class="btn primary price-btn" href="auth.html?mode=signup&prePlan=tier2">Join Elite</a>
          </div>

          <div class="price-card concierge reveal-up reveal-delay-300">
            <span class="price__tag">Concierge</span>
            <div class="price__value">$485 <small>/mo</small></div>
            <p class="muted tiny">Fully managed experience.</p>
            <ul class="price__list">
              <li>Everything in Elite</li>
              <li>Date coordination</li>
              <li>Personalized sourcing</li>
              <li>Limited availability</li>
            </ul>
            <a class="btn primary price-btn" href="auth.html?mode=signup&prePlan=tier3">Apply Now</a>
          </div>

        </div>
      </div>
    </section>

    <section id="faq" class="faq">
      <div class="container">
        <h2 class="section__title">FAQ</h2>
        
        <div class="faq-wrapper reveal-trigger">
          
          <details class="faq-card reveal-up">
            <summary>
              Is this just another dating app?
              <span class="faq-icon">+</span>
            </summary>
            <div class="faq-content">
              <p class="muted">
                No. iTRUEMATCH is curated. We focus on quality over quantity. You receive a daily shortlist, then approve or pass. When there is mutual interest, we help move things forward so you are not stuck in never-ending small talk.
              </p>
            </div>
          </details>

          <details class="faq-card reveal-up reveal-delay-100">
            <summary>
              How do I get matches?
              <span class="faq-icon">+</span>
            </summary>
            <div class="faq-content">
              <p class="muted">
                You set your preferences and dating intent. Our system (and concierge team for higher tiers) curates profiles into your shortlist based on compatibility, vibe, and lifestyle.
              </p>
            </div>
          </details>

          <details class="faq-card reveal-up reveal-delay-200">
            <summary>
              Can I cancel anytime?
              <span class="faq-icon">+</span>
            </summary>
            <div class="faq-content">
              <p class="muted">
                Yes. You can cancel your subscription at any time via your account settings. Your access to premium features will continue until the end of your current billing cycle.
              </p>
            </div>
          </details>

          <details class="faq-card reveal-up reveal-delay-300">
            <summary>
              Is my profile visible to everyone?
              <span class="faq-icon">+</span>
            </summary>
            <div class="faq-content">
              <p class="muted">
                It depends on your settings. Elite members have the option to be "Incognito," meaning they are only visible to people they have explicitly liked or approved first.
              </p>
            </div>
          </details>

        </div>
      </div>
    </section>
  
  </main>

  <footer class="site-footer">
    <div class="footer-watermark">iTRUEMATCH</div>

    <div class="container">
      
      <div class="footer-middle-content">
        
        <div class="footer-left-section">
          
          <div class="footer-split-brand">
            <img src="assets/images/truematch-mark.png" alt="iTRUEMATCH" class="brand__logo" />
            <span>iTRUEMATCH</span>
          </div>

          <div class="footer-socials">
            <a href="#" aria-label="X">
              <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
            </a>
            <a href="#" aria-label="Instagram">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
            </a>
            <a href="#" aria-label="Facebook">
              <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
            </a>
          </div>

          <div class="footer-legal">
            <a href="#" data-legal="privacy">Privacy Policy</a>
            <a href="#" data-legal="terms">Terms of Service</a>
            <a href="#" data-legal="cookies">Cookie Policy</a>
          </div>

        </div>

                <div class="footer-newsletter-card">
          <h3>Join the Inner Circle</h3>
          <p class="muted tiny">
            Two ways in — <span class="inner-hint">Curated Service</span><span class="sep">•</span><span class="inner-hint">Get Featured</span>
          </p>
          <p class="muted tiny">Drop your email and we’ll send you both options.</p>

          <form class="footer-form" id="innerCircleForm" autocomplete="on" novalidate>
            <input type="email" placeholder="Enter your email" id="innerCircleEmail" name="email" required />
            <button type="submit" class="btn primary small-btn" id="innerCircleBtn">Send options</button>
          </form>

          <div class="muted tiny inner-circle-msg" id="innerCircleMsg" role="status" aria-live="polite" style="display:none;"></div>
        </div>

      </div>

      <div class="footer-bottom-copyright">
        <p class="muted tiny">© <span id="year"></span> iTRUEMATCH Inc. All rights reserved.</p>
      </div>

    </div>
  </footer>

  <div id="tm-fomo" class="fomo-container" aria-hidden="true">
    <div class="fomo-avatar">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
        <circle cx="12" cy="7" r="4" />
      </svg>
    </div>
    <div class="fomo-details">
      <p class="fomo-text"></p>
      <span class="fomo-time">Just now</span>
    </div>
    <div class="fomo-verified">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
      </svg>
    </div>
  </div>

  <script>
  (() => {
    const canvas = document.getElementById('tm-bg-canvas');
    if (!canvas) return;

    const ctx = canvas.getContext('2d', { alpha: true });
    if (!ctx) return;

    const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    const mouse = { x: 0, y: 0, active: false };
    const particles = [];
    let cw = 0, ch = 0, dpr = 1, raf = null;

    const clamp = (v, a, b) => Math.max(a, Math.min(b, v));

    function pickCount() {
      const area = window.innerWidth * window.innerHeight;
      return clamp(Math.floor(area / 22000) + 28, 38, 90);
    }

    function resize() {
      dpr = Math.min(window.devicePixelRatio || 1, 2);
      cw = window.innerWidth;
      ch = window.innerHeight;

      canvas.width = Math.floor(cw * dpr);
      canvas.height = Math.floor(ch * dpr);
      canvas.style.width = cw + 'px';
      canvas.style.height = ch + 'px';

      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

      init();
      draw(true);
    }

    function init() {
      particles.length = 0;
      const count = pickCount();
      for (let i = 0; i < count; i++) {
        particles.push({
          x: Math.random() * cw,
          y: Math.random() * ch,
          vx: (Math.random() - 0.5) * 0.35,
          vy: (Math.random() - 0.5) * 0.35,
          r: 1 + Math.random() * 1.3
        });
      }
    }

    function step() {
      for (const p of particles) {
        p.x += p.vx;
        p.y += p.vy;
        if (p.x < 0 || p.x > cw) p.vx *= -1;
        if (p.y < 0 || p.y > ch) p.vy *= -1;
        p.x = clamp(p.x, 0, cw);
        p.y = clamp(p.y, 0, ch);
        if (mouse.active) {
          const dx = p.x - mouse.x;
          const dy = p.y - mouse.y;
          const dist2 = dx * dx + dy * dy;
          const influence = 220;
          if (dist2 < influence * influence && dist2 > 0.001) {
            const dist = Math.sqrt(dist2);
            const force = (1 - dist / influence) * 0.035;
            p.vx += (dx / dist) * force;
            p.vy += (dy / dist) * force;
          }
        }
        p.vx *= 0.985;
        p.vy *= 0.985;
      }
    }

    function draw(isStatic = false) {
      ctx.clearRect(0, 0, cw, ch);
      ctx.globalCompositeOperation = 'lighter';
      const maxDist = 150;
      const maxDist2 = maxDist * maxDist;
      for (let i = 0; i < particles.length; i++) {
        const a = particles[i];
        for (let j = i + 1; j < particles.length; j++) {
          const b = particles[j];
          const dx = a.x - b.x;
          const dy = a.y - b.y;
          const d2 = dx * dx + dy * dy;
          if (d2 <= maxDist2) {
            const t = 1 - (Math.sqrt(d2) / maxDist);
            const alpha = t * 0.12;
            ctx.strokeStyle = `rgba(255,255,255,${alpha})`;
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(a.x, a.y);
            ctx.lineTo(b.x, b.y);
            ctx.stroke();
          }
        }
      }
      if (mouse.active) {
        const md = 210;
        const md2 = md * md;
        for (const p of particles) {
          const dx = p.x - mouse.x;
          const dy = p.y - mouse.y;
          const d2 = dx * dx + dy * dy;
          if (d2 < md2) {
            const t = 1 - (Math.sqrt(d2) / md);
            const alpha = t * 0.18;
            ctx.strokeStyle = `rgba(100,233,238,${alpha})`;
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(p.x, p.y);
            ctx.lineTo(mouse.x, mouse.y);
            ctx.stroke();
          }
        }
      }
      for (const p of particles) {
        ctx.fillStyle = `rgba(255,255,255,0.55)`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
        ctx.fill();
      }
      ctx.globalCompositeOperation = 'source-over';
      if (!reduceMotion && !isStatic) {
        step();
      }
    }

    function loop() {
      draw(false);
      raf = requestAnimationFrame(loop);
    }

    function onMove(e) {
      const x = (e.touches ? e.touches[0].clientX : e.clientX);
      const y = (e.touches ? e.touches[0].clientY : e.clientY);
      mouse.x = x;
      mouse.y = y;
      mouse.active = true;
    }

    function onLeave() { mouse.active = false; }

    window.addEventListener('resize', () => { cancelAnimationFrame(raf); raf = null; resize(); if (!reduceMotion) loop(); }, { passive: true });
    window.addEventListener('mousemove', onMove, { passive: true });
    window.addEventListener('touchstart', onMove, { passive: true });
    window.addEventListener('touchmove', onMove, { passive: true });
    window.addEventListener('mouseleave', onLeave, { passive: true });
    window.addEventListener('touchend', onLeave, { passive: true });

    resize();
    if (!reduceMotion) loop();
  })();
  </script>

  <script src="./tm-loader.js"></script>
  <script src="script.js"></script>
  <script src="fomo.js"></script>

  <script>
  (() => {
    const form = document.getElementById('innerCircleForm');
    if (!form) return;

    const input = document.getElementById('innerCircleEmail');
    const btn = document.getElementById('innerCircleBtn');
    const msg = document.getElementById('innerCircleMsg');

    const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    function setMsg(text, type) {
      if (!msg) return;
      msg.textContent = text;
      msg.classList.remove('success', 'error');
      if (type) msg.classList.add(type);
      msg.style.display = 'block';
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const email = (input?.value || '').trim();
      if (!emailRe.test(email)) {
        setMsg('Please enter a valid email.', 'error');
        input?.focus();
        return;
      }

      const oldText = btn?.textContent || 'Send options';
      if (btn) {
        btn.disabled = true;
        btn.textContent = 'Sending…';
      }
      setMsg('Sending the two options to your inbox…', 'success');

      try {
        const res = await fetch('/api/inner-circle-signup', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email, source: 'landing' })
        });

        let data = null;
        try { data = await res.json(); } catch (_) { data = null; }

        if (!res.ok || (data && data.ok === false)) {
          const errText =
            (data && (data.error || data.message)) ?
              (data.error || data.message) :
              'Could not send the email. Please try again.';
          throw new Error(errText);
        }

        setMsg('Done — check your inbox for the 2 options (Curated Service + Get Featured).', 'success');
        form.reset();
      } catch (err) {
        setMsg(err?.message || 'Something went wrong. Please try again.', 'error');
      } finally {
        if (btn) {
          btn.disabled = false;
          btn.textContent = oldText;
        }
      }
    });
  })();
  </script>


  <!-- Legal Modals (Privacy / Terms / Cookies) -->
  <div class="tm-modal" id="legalModal" aria-hidden="true">
    <div class="tm-modal__overlay" data-legal-close="1"></div>

    <div class="tm-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="legalTitle">
      <div class="tm-modal__header">
        <div>
          <h3 class="tm-modal__title" id="legalTitle">Privacy Policy</h3>
          <div class="tm-modal__meta muted tiny" id="legalMeta">Last updated: February 16, 2026</div>
        </div>

        <button class="tm-modal__close" type="button" id="legalCloseBtn" aria-label="Close">&times;</button>
      </div>

      <div class="tm-modal__body" id="legalBody"></div>
    </div>
  </div>

  <template id="tpl-privacy">
    <p>
      This Privacy Policy explains how iTRUEMATCH (“we”, “us”, “our”) collects, uses, shares, and protects information when you use our website, products, and services (collectively, the “Service”).
    </p>

    <h4>Information we collect</h4>
    <p><b>Information you provide.</b> When you create an account, complete your profile, contact us, or submit forms (including email opt-ins), you may provide information such as your name, email address, profile details, and preferences.</p>
    <p><b>Verification and safety information.</b> If you choose to verify your account or participate in safety checks, we may collect verification-related information you submit (for example, identity or eligibility confirmations). We only use this to help keep the Service safe and trustworthy.</p>
    <p><b>Usage and device information.</b> We may collect information about how you use the Service, including pages viewed, features used, device identifiers, browser type, IP address, and approximate location derived from IP.</p>
    <p><b>Cookies and similar technologies.</b> We use cookies and similar technologies to keep the Service working, remember preferences, and measure performance. See the Cookie Policy below for details.</p>

    <h4>How we use your information</h4>
    <ul>
      <li>Provide, operate, and improve the Service (including matchmaking/curation features).</li>
      <li>Create and manage accounts, logins, sessions, and security checks.</li>
      <li>Send service communications (e.g., confirmations, updates, support messages).</li>
      <li>Send marketing or product communications when permitted (you can opt out anytime).</li>
      <li>Detect, prevent, and investigate fraud, abuse, and policy violations.</li>
      <li>Comply with legal obligations and enforce our Terms.</li>
    </ul>

    <h4>How we share your information</h4>
    <p>We do not sell your personal information. We may share information in these limited cases:</p>
    <ul>
      <li><b>Service providers:</b> vendors who help us run the Service (hosting, analytics, customer support, payments, email delivery), under contractual obligations to protect your data.</li>
      <li><b>Legal and safety:</b> when required by law, or to protect users, the public, or our rights, and to enforce our Terms.</li>
      <li><b>Business transfers:</b> if we’re involved in a merger, acquisition, or asset sale (we’ll take steps to protect your information).</li>
    </ul>

    <h4>Data retention</h4>
    <p>We retain information for as long as needed to provide the Service and for legitimate business needs (such as security, dispute resolution, and legal compliance). You may request deletion where applicable.</p>

    <h4>Your choices</h4>
    <ul>
      <li><b>Access / update:</b> you can review and update certain account information through your profile and settings.</li>
      <li><b>Opt out:</b> you can opt out of marketing emails using the unsubscribe link in those emails.</li>
      <li><b>Cookies:</b> you can control cookies through browser settings (see Cookie Policy).</li>
    </ul>

    <h4>Security</h4>
    <p>We use reasonable administrative, technical, and physical safeguards designed to protect information. No system is 100% secure, so please use strong passwords and protect your account.</p>

    <h4>Children</h4>
    <p>The Service is not intended for anyone under 18, and we do not knowingly collect personal information from minors.</p>

    <h4>International use</h4>
    <p>Your information may be processed in countries where our service providers operate. We take steps to protect information in accordance with this policy and applicable law.</p>

    <h4>Contact</h4>
    <p>
      Questions or requests? Contact us at <a href="mailto:support@itruematch.com">support@itruematch.com</a>.
    </p>
  </template>

  <template id="tpl-terms">
    <p>
      These Terms of Service (“Terms”) govern your access to and use of iTRUEMATCH (“we”, “us”, “our”) and the Service. By accessing or using the Service, you agree to these Terms.
    </p>

    <h4>Eligibility</h4>
    <p>You must be at least 18 years old to use the Service. By using the Service, you represent that you meet this requirement.</p>

    <h4>Your account</h4>
    <ul>
      <li>You are responsible for maintaining the confidentiality of your account credentials.</li>
      <li>You agree to provide accurate information and keep it updated.</li>
      <li>You must not share your account or use another person’s account without permission.</li>
    </ul>

    <h4>Service model and curation</h4>
    <p>
      iTRUEMATCH is designed for curated introductions and verified users. We may review, approve, limit, or remove profiles or content to maintain safety, quality, and community standards.
    </p>

    <h4>Subscriptions, fees, and billing</h4>
    <p>
      Some features may require a paid plan. If you purchase a subscription, you authorize us (and our payment processor) to charge the applicable fees. Plan details and pricing may change; changes apply prospectively as permitted by law.
    </p>
    <p>
      Unless otherwise stated, subscriptions renew automatically until canceled. You can cancel according to the instructions in your account settings. Payments are generally non-refundable except where required by law or expressly stated.
    </p>

    <h4>Acceptable use</h4>
    <p>You agree not to:</p>
    <ul>
      <li>Harass, threaten, impersonate, or stalk others.</li>
      <li>Upload illegal, hateful, or exploitative content, or content that violates others’ rights.</li>
      <li>Use the Service for spam, scams, or fraud.</li>
      <li>Attempt to access accounts, data, or systems you are not authorized to access.</li>
      <li>Reverse engineer, disrupt, or interfere with the Service’s security or operation.</li>
    </ul>

    <h4>User content and permissions</h4>
    <p>
      You retain ownership of the content you submit, but you grant us a worldwide, non-exclusive, royalty-free license to host, store, reproduce, and display your content as needed to operate and improve the Service (for example, to show your profile to other users according to your settings).
    </p>

    <h4>Intellectual property</h4>
    <p>
      The Service, including its design, text, graphics, logos, and software, is owned by iTRUEMATCH or its licensors and is protected by intellectual property laws.
    </p>

    <h4>Disclaimer</h4>
    <p>
      The Service is provided “as is” and “as available.” We do not guarantee that matches, curated introductions, or outcomes will meet your expectations. We disclaim warranties to the fullest extent permitted by law.
    </p>

    <h4>Limitation of liability</h4>
    <p>
      To the fullest extent permitted by law, iTRUEMATCH will not be liable for indirect, incidental, special, consequential, or punitive damages, or any loss of profits or data, arising from or related to your use of the Service.
    </p>

    <h4>Termination</h4>
    <p>
      We may suspend or terminate your access if you violate these Terms or if we believe your use poses a risk to the community or the Service. You may stop using the Service at any time.
    </p>

    <h4>Changes to these Terms</h4>
    <p>
      We may update these Terms from time to time. If changes are material, we will take reasonable steps to notify you. Continued use of the Service after changes means you accept the updated Terms.
    </p>

    <h4>Contact</h4>
    <p>
      Questions about these Terms? Contact <a href="mailto:support@itruematch.com">support@itruematch.com</a>.
    </p>
  </template>

  <template id="tpl-cookies">
    <p>
      This Cookie Policy explains how iTRUEMATCH uses cookies and similar technologies to recognize you when you visit our website and use our Service.
    </p>

    <h4>What are cookies?</h4>
    <p>
      Cookies are small text files placed on your device by websites. They help websites function, remember settings, and understand how visitors use the site.
    </p>

    <h4>Types of cookies we use</h4>
    <ul>
      <li><b>Essential cookies:</b> required for core functionality such as security, session management, and page navigation.</li>
      <li><b>Preference cookies:</b> help remember your choices (e.g., language, settings) to improve your experience.</li>
      <li><b>Analytics cookies:</b> help us understand usage patterns and improve performance (e.g., which pages people visit most).</li>
      <li><b>Marketing cookies:</b> may be used to measure the effectiveness of promotions and communications where applicable.</li>
    </ul>

    <h4>How to manage cookies</h4>
    <p>
      You can control cookies through your browser settings. You can delete existing cookies and block future cookies, but some features of the Service may not function properly if you disable essential cookies.
    </p>

    <h4>Do Not Track</h4>
    <p>
      Some browsers offer “Do Not Track” signals. There is no universal standard for interpreting these signals, so our response may vary depending on current practices and applicable law.
    </p>

    <h4>Updates to this policy</h4>
    <p>
      We may update this Cookie Policy from time to time. Updates will be posted here with a revised “Last updated” date.
    </p>

    <h4>Contact</h4>
    <p>
      Questions? Contact <a href="mailto:support@itruematch.com">support@itruematch.com</a>.
    </p>
  </template>

  <script>
  (() => {
    const modal = document.getElementById('legalModal');
    const body = document.getElementById('legalBody');
    const title = document.getElementById('legalTitle');
    const closeBtn = document.getElementById('legalCloseBtn');

    if (!modal || !body || !title || !closeBtn) return;

    const titleMap = {
      privacy: 'Privacy Policy',
      terms: 'Terms of Service',
      cookies: 'Cookie Policy'
    };

    let lastActive = null;

    function isOpen() { return modal.classList.contains('is-open'); }

    function open(which) {
      const tpl = document.getElementById('tpl-' + which);
      if (!tpl) return;

      lastActive = document.activeElement;

      body.innerHTML = '';
      body.appendChild(tpl.content.cloneNode(true));
      title.textContent = titleMap[which] || 'Legal';

      modal.classList.add('is-open');
      modal.setAttribute('aria-hidden', 'false');
      document.body.classList.add('tm-modal-open');

      // focus close for accessibility
      closeBtn.focus({ preventScroll: true });
    }

    function close() {
      modal.classList.remove('is-open');
      modal.setAttribute('aria-hidden', 'true');
      document.body.classList.remove('tm-modal-open');

      if (lastActive && typeof lastActive.focus === 'function') {
        try { lastActive.focus({ preventScroll: true }); } catch (_) { lastActive.focus(); }
      }
      lastActive = null;
    }

    // Open handlers (footer links)
    document.addEventListener('click', (e) => {
      const a = e.target?.closest?.('a[data-legal]');
      if (!a) return;
      e.preventDefault();
      const which = a.getAttribute('data-legal');
      if (which) open(which);
    });

    // Close handlers
    closeBtn.addEventListener('click', close);
    modal.addEventListener('click', (e) => {
      const overlayClose = e.target?.closest?.('[data-legal-close="1"]');
      if (overlayClose) close();
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && isOpen()) close();
      // simple focus keep-in
      if (e.key === 'Tab' && isOpen()) {
        const focusables = modal.querySelectorAll('button, a[href], input, textarea, select, [tabindex]:not([tabindex="-1"])');
        if (!focusables.length) return;
        const first = focusables[0];
        const last = focusables[focusables.length - 1];
        if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
        else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
      }
    });
  })();
  </script>

</body>
</html>
